{"version":3,"sources":["images/butterflyBlobChanged.png","images/login.png","images/acoustic_manipulation.jpg","state/reducer.js","state/state.js","services/login.js","utils/serviceDispatch.js","pages/Login/SignIn.js","pages/Login/SignUp.js","pages/Login/Login.js","pages/Login/index.js","services/camera.js","utils/boxSelection.js","pages/Camera/Camera.js","pages/Camera/index.js","pages/Home/Home.js","pages/Home/index.js","services/command.js","pages/Command/CodeEditor.js","pages/Command/Command.js","pages/Command/index.js","services/ampExp.js","pages/AmpExp/Drawer.js","pages/AmpExp/AlertForm.js","pages/AmpExp/AmpExp.js","pages/AmpExp/index.js","services/dataCollecting.js","pages/DataCollecting/DataCollecting.js","pages/DataCollecting/index.js","services/modelFitting.js","pages/ModelFitting/ModelFitting.js","pages/ModelFitting/index.js","services/objectManipulation.js","pages/ObjectManipulation/ObjectManipulation.js","pages/ObjectManipulation/index.js","services/blobDetector.js","pages/BlobDetector/BlobDetector.js","pages/BlobDetector/index.js","pages/StudentPage/Camera.js","pages/StudentPage/index.js","components/Notification.js","components/ErrorNotification.js","components/AppTopBar.js","App.js","index.js","images/videoStart.png"],"names":["module","exports","setUser","user","type","payload","setCamera","camera","setMessage","message","setErrorMessage","errorMessage","initialState","StateContext","createContext","useStateValue","useContext","login","credentials","a","axios","post","response","data","register","logout","serviceDispatch","service","dispatch","res","setTimeout","SignIn","history","useHistory","username","setUsername","useState","password","setPassword","id","className","TextField","label","style","margin","placeholder","value","onChange","target","helperText","fullWidth","InputLabelProps","shrink","Button","variant","onClick","async","event","preventDefault","loginService","window","sessionStorage","setItem","JSON","stringify","push","SignUp","passwordRepeat","setPasswordRepeat","error","Login","preHandler","loginButtons","document","getElementById","showDisplayButtons","display","login_header","shownLogin_header","src","loginImageUrl","alt","classList","toggle","get","boxSelection","obj","setCropCoords","cropCoords","left","parseFloat","top","right","bottom","x","y","old_x","old_y","showDrag","parent","boxDiv","addEventListener","e","getBoundingClientRect","clientX","clientY","boxLeft","boxTop","boxWidth","boxHeight","width","height","Math","max","min","Camera","disabledStart","setDisabledStart","selectedVideo","setSelectedVideo","videoFiles","setVideoFiles","cameraStorage","setCameraStorage","userStorage","setUserStorage","parse","getItem","checked","setChecked","cropCoordsOLD","setCropCoordsOLD","useEffect","cameraService","user_id","variable","isCamera","loggedUser","marginLeft","FormControlLabel","control","Switch","prev","location","reload","name","labelPlacement","ButtonGroup","color","aria-label","coords","component","disabled","position","cursor","border","select","listItem","newItem","createElement","parentNode","replaceChild","videoImageUrl","filename","marginRight","SelectProps","native","map","option","index","key","Home","textAlign","flexDirection","alignItems","justifyContent","acousticImg","href","playSignal","generateSignal","command","getCommands","CodeEditor","setValue","mode","theme","fontSize","socket","io","Command","commandStr","setCommandStr","commandList","setCommandList","open","setOpen","info","setInfo","on","msg","toggleDisplay","selectDiv","commandService","Collapse","in","Alert","severity","action","IconButton","size","reason","emit","sx","functionName","Object","keys","item","Drawer","closeDrawer","paraInfo","parameters","setParameters","handleSetParameters","style1","filter","para","description","String","selection","Slider","defaultValue","step","valueLabelDisplay","newValue","aria-labelledby","marks","AlertForm","handleClose","alertText","buttonText","spacing","AlertTitle","AmpExp","basescale","cycles","default_amp","desired_particles","desired_stepSize","duration","exps_before_reset","max_amp","max_increase","maxfreq","min_amp","minfreq","simulate","setParaInfo","settingExpanded1","setSettingExpanded1","settingExpanded2","setSettingExpanded2","openInfo","setOpenInfo","openWarning","setOpenWarning","warning","setWarning","openError","setOpenError","setError","console","log","image","ampExpService","str2Arr","res1","split","toString","Accordion","expanded","AccordionSummary","aria-controls","Typography","AccordionDetails","div","DataCollecting","dataCollectingService","num","p","ModelFitting","selectedData","setSelectedData","dataFiles","setDataFiles","modelFittingService","ObjectManipulation","content","setContent","setFileName","targets","tunedAmpName","modelName","controllerName","numberOfObj","tol","maxSteps","defaultController","objectManipulationService","files","models","tunedAmpFiles","getParameters","setBlobDetector","deleteBlobDetector","useStyles","makeStyles","list","fullList","BlobDetector","setDisplay","classes","popSettingState","setPopSettingState","minThreshold","maxThreshold","filterByColor","blobColor","filterByArea","minArea","maxArea","filterByCircularity","minCircularity","filterByConvexity","minConvexity","filterByInertia","minInertiaRatio","blobDetectorService","toggleDrawer","anchor","Checkbox","imgChangedUrl","handleDisplay","SwipeableDrawer","onClose","onOpen","clsx","Divider","FormControl","FormLabel","FormGroup","SubPage","divStyle","background","borderStyle","borderRadius","padding","marginBottom","Notification","ErrorNotification","AppTopBar","tabs","handleLogout","React","root","boxShadow","AppBar","Tabs","scrollButtons","tab","Tab","button","Link","to","App","loggedUserJSON","admin","clear","marginTop","path","ReactDOM","render","reducer","children","useReducer","state","Provider"],"mappings":"iHAAAA,EAAOC,QAAU,IAA0B,kD,oBCA3CD,EAAOC,QAAU,IAA0B,mC,oBCA3CD,EAAOC,QAAU,IAA0B,mD,iPCA9BC,EAAU,SAACC,GACtB,MAAO,CACLC,KAAM,WACNC,QAASF,IAGAG,EAAY,SAACC,GACxB,MAAO,CACLH,KAAM,aACNC,QAASE,IAGAC,EAAa,SAACC,GACzB,MAAO,CACLL,KAAM,cACNC,QAASI,IAGAC,EAAkB,SAACC,GAC9B,MAAO,CACLP,KAAM,oBACNC,QAASM,I,QCnBPC,EAAe,CACnBT,KAAM,KACNI,OAAQ,KACRE,QAAS,KACTE,aAAc,MAGHE,EAAeC,wBAAc,CACxCF,EACA,kBAAMA,KAcKG,EAAgB,kBAAMC,qBAAWH,I,6ECH/B,GAAEI,MApBN,uCAAG,WAAOC,GAAP,eAAAC,EAAA,sEAIWC,IAAMC,KAAK,kBAAmBH,GAJzC,cAINI,EAJM,yBAKLA,EAASC,MALJ,2CAAH,sDAoBaC,SAbV,uCAAG,WAAON,GAAP,eAAAC,EAAA,sEACQC,IAAMC,KAC3B,qBACAH,GAHa,cACTI,EADS,yBAKRA,EAASC,MALD,2CAAH,sDAaoBE,OALtB,uCAAG,WAAOP,GAAP,eAAAC,EAAA,sEACUC,IAAMC,KAAK,mBAAoBH,GADzC,cACPI,EADO,yBAENA,EAASC,MAFH,2CAAH,uD,SCAGG,EAfM,uCAAG,WAAOC,EAASC,GAAhB,mBAAAT,EAAA,+EAEJQ,IAFI,OAEhBE,EAFgB,OAGpBD,EAASpB,EAAU,OAACqB,QAAD,IAACA,OAAD,EAACA,EAAKpB,UACzBqB,YAAW,WACTF,EAASpB,EAAW,SACnB,KANiB,gDAQpBoB,EAASlB,EAAe,UAAC,KAAMY,gBAAP,uBAAC,EAAgBC,YAAjB,aAAC,EAAsBd,UAC/CqB,YAAW,WACTF,EAASlB,EAAgB,SACxB,KAXiB,yDAAH,wDCgFNqB,MA3EA,KACb,MAAO,CAAEH,GAAYb,IACfiB,EAAUC,eACTC,EAAUC,GAAeC,mBAAS,KAClCC,EAAUC,GAAeF,mBAAS,IAuBzC,OACE,6BACE,yBAAKG,GAAG,SAASC,UAAU,kBACzB,6BACE,kBAACC,EAAA,EAAD,CACEC,MAAM,WACNC,MAAO,CAAEC,OAAQ,GACjBC,YAAY,GACZC,MAAOZ,EACPa,SAAU,EAAGC,YAAab,EAAYa,EAAOF,OAC7CG,WAAW,8BACXC,WAAS,EACTN,OAAO,SACPO,gBAAiB,CACfC,QAAQ,MAId,6BACE,kBAACX,EAAA,EAAD,CACEC,MAAM,WACNC,MAAO,CAAEC,OAAQ,GACjBC,YAAY,GACZzC,KAAK,WACL0C,MAAOT,EACPU,SAAU,EAAGC,YAAaV,EAAYU,EAAOF,OAC7CG,WAAW,6BACXC,WAAS,EACTN,OAAO,SACPO,gBAAiB,CACfC,QAAQ,MAId,6BACE,kBAACC,EAAA,EAAD,CACEC,QAAQ,WACRf,GAAG,gBACHgB,QA3DWC,UACnBC,EAAMC,iBACNvB,EAAY,IACZG,EAAY,IAeZZ,EAdgB8B,UACd,MAAM3B,QAAY8B,EAAa1C,MAAM,CACnCiB,WACAG,aASF,OAPAuB,OAAOC,eAAeC,QACpB,iBACAC,KAAKC,UAAUnC,EAAIN,OAErBqC,OAAOC,eAAeC,QAAQ,MAAO,QACrClC,EAAS1B,EAAQ2B,EAAIN,OACrBS,EAAQiC,KAAK,KACNpC,GAEgBD,KAsCnB,eC4DKsC,MAtHA,KACb,MAAO,CAAEtC,GAAYb,IACfiB,EAAUC,eACTC,EAAUC,GAAeC,mBAAS,KAClCC,EAAUC,GAAeF,mBAAS,KAClC+B,EAAgBC,GAAqBhC,mBAAS,IAmDrD,OACE,yBAAKG,GAAG,SAASC,UAAU,kBACzB,6BACE,kBAACC,EAAA,EAAD,CACEC,MAAM,WACNC,MAAO,CAAEC,OAAQ,GACjBC,YAAY,GACZC,MAAOZ,EACPa,SAAU,EAAGC,YAAab,EAAYa,EAAOF,OAC7CG,WAAW,8BACXC,WAAS,EACTN,OAAO,SACPO,gBAAiB,CACfC,QAAQ,MAId,6BACE,kBAACX,EAAA,EAAD,CACEC,MAAM,WACNC,MAAO,CAAEC,OAAQ,GACjBC,YAAY,GACZzC,KAAK,WACL0C,MAAOT,EACPU,SAAU,EAAGC,YAAaV,EAAYU,EAAOF,OAC7CG,WAAW,6BACXC,WAAS,EACTN,OAAO,SACPO,gBAAiB,CACfC,QAAQ,MAId,6BACE,kBAACX,EAAA,EAAD,CACEC,MAAM,kBACNC,MAAO,CAAEC,OAAQ,GACjBC,YAAY,GACZzC,KAAK,WACL0C,MAAOqB,EACPpB,SAAU,EAAGC,YAAaoB,EAAkBpB,EAAOF,OACnDG,WAAW,8BACXC,WAAS,EACTN,OAAO,SACPO,gBAAiB,CACfC,QAAQ,MAId,6BACE,kBAACC,EAAA,EAAD,CACEC,QAAQ,WACRf,GAAG,gBACHgB,QAtGaC,UAEnB,GADAC,EAAMC,iBACFrB,IAAa8B,EACfhC,EAAY,IACZG,EAAY,IACZ8B,EAAkB,IAClBxC,EACElB,EACE,kDAGJoB,WAAW,KACTF,EAASlB,EAAgB,QACxB,UAEH,IACE,MAAMmB,QAAY8B,EAAanC,SAAS,CACtCU,WACAG,aAEFuB,OAAOC,eAAeC,QACpB,iBACAC,KAAKC,UAAUnC,EAAIN,OAErBqC,OAAOC,eAAeC,QAAQ,MAAO,QACrC3B,EAAY,IACZG,EAAY,IACZV,EAAS1B,EAAQ2B,EAAIN,OACrBK,EACEpB,EAAW,GAAD,OACLqB,EAAIN,KAAKW,SADJ,iCAIZF,EAAQiC,KAAK,KACbnC,WAAW,KACTF,EAASpB,EAAW,QACnB,KACH,MAAO6D,GAAQ,IAAD,IACdlC,EAAY,IACZG,EAAY,IACZV,EAASlB,EAAe,UAAC2D,EAAM/C,gBAAP,uBAAC,EAAgBC,YAAjB,aAAC,EAAsBd,UAC/C2D,EAAkB,IAClBtC,WAAW,KACTF,EAASlB,EAAgB,QACxB,QAuDH,c,OC/DO4D,ICpDAA,EDKD,KACZ,MAAMC,EAAa,KACjB,MAAMC,EAAeC,SAASC,eAAe,gBACvCC,EAAoD,UAA/BH,EAAa7B,MAAMiC,QAC9CJ,EAAa7B,MAAMiC,QAAUD,EACzB,OACA,QACJ,MAAME,EAAeJ,SAASC,eAAe,gBACvCI,EAAmD,UAA/BD,EAAalC,MAAMiC,QAC7CC,EAAalC,MAAMiC,QAAUE,EAAoB,OAAS,SAa5D,OACE,yBAAKtC,UAAU,SACb,yBACEA,UAAU,eACVD,GAAG,eACHI,MAAO,CAAEiC,QAAS,UAElB,yBAAKG,IAAKC,IAAeC,IAAI,UAC7B,uDAGF,yBAAK1C,GAAG,eAAeI,MAAO,CAAEiC,QAAS,UACvC,kBAACvB,EAAA,EAAD,CAAQE,QAvBS,KACrBgB,IACgBE,SAASC,eAAe,UAChCQ,UAAUC,OAAO,WAoBY5C,GAAG,gBAApC,WAGA,kBAACc,EAAA,EAAD,CAAQE,QArBS,KACrBgB,IACgBE,SAASC,eAAe,UAChCQ,UAAUC,OAAO,WAkBY5C,GAAG,gBAApC,YAIF,kBAAC,EAAD,MACA,kBAAC,EAAD,Q,2BEGS,MAlDDiB,gBACWpC,IAAMC,KAC3B,2BACAH,IAEcK,KA6CH,EApCFiC,gBACYpC,IAAMC,KAC3B,0BACAH,IAEcK,KA+BH,EA7BFiC,gBACYpC,IAAMC,KAC3B,0BACAH,IAEcK,KAwBH,EA3CMiC,gBACIpC,IAAMC,KAC3B,6BACAH,IAEcK,KAsCH,EAtBMiC,gBACIpC,IAAMC,KAAK,6BAClBE,KAoBH,EAlBKiC,gBACKpC,IAAMC,KAAK,4BAClBE,KAgBH,EAdGiC,gBACOpC,IAAMgE,IAAI,mCACjB7D,KAYH,EAVQiC,gBACEpC,IAAMC,KAC3B,4BACAH,IAEcK,K,iBCwBH8D,EAvEM,SAACC,EAAKC,GAIzB,IAAIC,EAAa,CACfC,KAAMC,WAAW,GACjBC,IAAKD,WAAW,GAChBE,MAAOF,WAAW,GAClBG,OAAQH,WAAW,IAEjBI,EAAI,EACNC,EAAI,EACJC,EAAQ,EACRC,EAAQ,EACRjD,EAAS,KACPkD,GAAW,EACf,GAAIZ,EAAK,CACP,IAAMa,EAAS1B,SAASC,eAAe,gBACjC0B,EAAS3B,SAASC,eAAe,UAEvCyB,EAAOE,iBAAiB,aAAa,SAAUC,GAC7CtD,EAASsD,EAAEtD,OAAOuD,wBAClBP,EAAQM,EAAEE,QAAUxD,EAAOyC,KAC3BQ,EAAQK,EAAEG,QAAUzD,EAAO2C,IAC3BO,GAAW,EACXI,EAAE5C,oBAEJyC,EAAOE,iBAAiB,aAAa,SAAUC,GAC7C,GAAIJ,EAAU,CACZJ,EAAIQ,EAAEE,QAAUxD,EAAOyC,KACvBM,EAAIO,EAAEG,QAAUzD,EAAO2C,IACvB,IAAMe,EAAUZ,EAAIE,EAAQA,EAAQF,EAC9Ba,EAASZ,EAAIE,EAAQA,EAAQF,EAC7Ba,EAAWd,EAAIE,EAAQF,EAAIE,EAAQA,EAAQF,EAC3Ce,EAAYd,EAAIE,EAAQF,EAAIE,EAAQA,EAAQF,EAClDK,EAAOzD,MAAMiC,QAAU,QACvBwB,EAAOzD,MAAM8C,KAAOiB,EAAU,KAC9BN,EAAOzD,MAAMgD,IAAMgB,EAAS,KAC5BP,EAAOzD,MAAMmE,MAAQF,EAAW,KAChCR,EAAOzD,MAAMoE,OAASF,EAAY,KAEpCP,EAAE5C,oBAEJyC,EAAOE,iBAAiB,WAAW,SAAUC,GAC3CJ,GAAW,EACXV,EAAWC,KAAOuB,KAAKC,IACrBD,KAAKE,IAAIlB,EAAOF,GAAK9C,EAAO8D,MAC5B,GAEFtB,EAAWG,IAAMqB,KAAKC,IACpBD,KAAKE,IAAIjB,EAAOF,GAAK/C,EAAO+D,OAC5B,GAEFvB,EAAWI,MAAQoB,KAAKE,IACtBF,KAAKC,IAAIjB,EAAOF,GAAK9C,EAAO8D,MAC5B,GAEFtB,EAAWK,OAASmB,KAAKE,IACvBF,KAAKC,IAAIhB,EAAOF,GAAK/C,EAAO+D,OAC5B,GAEFxB,EAAcC,GAEd1D,YAAW,WACTsE,EAAOzD,MAAMiC,QAAU,SACtB,KACH0B,EAAE5C,sBCsSOyD,ICtWAA,EDYA,KAAO,IAAD,EACnB,OAAO,OAAE5G,GAAUqB,GAAYb,KACxBqG,EAAeC,GAAoBjF,oBAAS,IAC5CkF,EAAeC,GAAoBnF,sBACnCoF,EAAYC,GAAiBrF,mBAAS,KACtCsF,EAAeC,GAAoBvF,oBAAS,IAC5CwF,EAAaC,GAAkBzF,mBACpC2B,KAAK+D,MAAMlE,OAAOC,eAAekE,QAAQ,qBAEpCC,EAASC,GAAc7F,mBAAQ,UACpC2B,KAAK+D,MAAMlE,OAAOC,eAAekE,QAAQ,oBADL,WAG/BG,EAAeC,GAAoB/F,sBACnCoD,EAAYD,GAAiBnD,mBAAS,CAC3CqD,KAAMC,WAAW,GACjBC,IAAKD,WAAW,GAChBE,MAAOF,WAAW,GAClBG,OAAQH,WAAW,KAErB0C,oBAAU,KAgBR1G,EAfgB8B,UACd,MAAM3B,QAAYwG,EAA2B,CAC3CC,QAASV,EAAYrF,KAEvB,UAAIV,QAAJ,IAAIA,OAAJ,EAAIA,EAAKN,KAAM,CACb,MAAMgH,EAAW,CACf9C,KAAM5D,EAAIN,KAAKkE,KACfE,IAAK9D,EAAIN,KAAKoE,IACdC,MAAO/D,EAAIN,KAAKqE,MAChBC,OAAQhE,EAAIN,KAAKsE,QAEnBsC,EAAiBI,GAEnB,OAAO1G,GAEgBD,IACxB,CAACgG,EAAYrF,GAAIX,IAEpBwG,oBAAU,KACRtG,WAAW,KACT,MAAMwD,EAAMb,SAASC,eAAe,sBAChCY,GAAKD,EAAaC,EAAKC,IAC1B,MAEF,CAACd,SAASC,eAAe,wBAE5B0D,oBAAU,KACR,MAAMI,EAAW5E,OAAOC,eAAekE,QAAQ,YAC3CS,GACFb,EAAiB5D,KAAK+D,MAAMU,IAE9B,MAAMC,EACJ7E,OAAOC,eAAekE,QAAQ,kBAC5BU,GACFZ,EAAe9D,KAAK+D,MAAMW,IAExBlI,GACFuB,WAAW,KACT2C,SAASC,eAAe,sBAAsBK,IAC5C,yBACD,MAEJ,CAACxE,IAEJ,MAAMgE,EAAc+B,IAClBA,EAAE5C,iBACF,MAAM0C,EAAS3B,SAASC,eAAe,UACnC0B,IACFA,EAAOzD,MAAMiC,QAAU,SAiJ3B,OACE,yBACEpC,UAAU,SACVG,MAAO,CAAE+F,WAAY,KAAM5B,MAAO,QAElC,kBAAC6B,EAAA,EAAD,CACEC,QACE,kBAACC,EAAA,EAAD,CACEb,QAASA,EACTjF,SAhCoBS,UAa5ByE,EAAYa,IAAUA,GACtBvE,EAAWd,SACL/B,EAdU8B,UACd,MAAM3B,EAAMmG,QACFK,EAAmB,CAAEC,QAASV,EAAYrF,WAC1C8F,EAAoB,CAAEC,QAASV,EAAYrF,KAMrD,OALAX,EAAStB,GAAW0H,IACpBpE,OAAOC,eAAeC,QACpB,WACAC,KAAKC,WAAWgE,IAEXnG,GAKsBD,GAC/B,MAAMwE,EAAS3B,SAASC,eAAe,UACnC0B,IACFA,EAAOzD,MAAMiC,QAAU,QAEzBhB,OAAOmF,SAASC,UAaRC,KAAK,WAGTvG,MAAM,SACNwG,eAAe,WAEhBxB,EACC,6BACE,kBAACyB,EAAA,EAAD,CACEC,MAAM,UACNC,aAAW,iCAEX,kBAAChG,EAAA,EAAD,CACEd,GAAG,aACHgB,QA3GOC,UAEjB,MAAMjC,EAAO,CACXkE,KACEyC,EAAczC,KACdD,EAAWC,MAAQyC,EAActC,MAAQsC,EAAczC,MACzDE,IACEuC,EAAcvC,IACdH,EAAWG,KAAOuC,EAAcrC,OAASqC,EAAcvC,KACzDC,MACEsC,EAAczC,KACdD,EAAWI,OAASsC,EAActC,MAAQsC,EAAczC,MAC1DI,OACEqC,EAAcvC,IACdH,EAAWK,QACRqC,EAAcrC,OAASqC,EAAcvC,MAE5CwC,EAAiB5G,GAQjBgD,EAAWd,GACX/B,EARgB8B,eACI6E,EAAmB,CACnCC,QAASV,EAAYrF,GACrB+G,OAAQ/H,IAKaK,IAkFf0B,QAAQ,YACR8F,MAAM,UACNG,UAAU,QALZ,QASA,kBAAClG,EAAA,EAAD,CACEd,GAAG,aACHgB,QAvFaC,UA2BvBe,EAAWd,GACX/B,EAzBgB8B,UACd2E,EAAiB,CACf1C,KAAMC,WAAW,GACjBC,IAAKD,WAAW,GAChBE,MAAOF,WAAW,GAClBG,OAAQH,WAAW,KAErBH,EAAc,CACZE,KAAMC,WAAW,GACjBC,IAAKD,WAAW,GAChBE,MAAOF,WAAW,GAClBG,OAAQH,WAAW,WAEH2C,EAAmB,CACnCC,QAASV,EAAYrF,GACrB+G,OAAQ,CACN7D,KAAMC,WAAW,MACjBC,IAAKD,WAAW,MAChBE,MAAOF,WAAW,SAClBG,OAAQH,WAAW,aAMA9D,IA4Df0B,QAAQ,YACR8F,MAAM,UACNG,UAAU,QALZ,eASA,kBAAClG,EAAA,EAAD,CACEd,GAAG,oBACHe,QAAQ,YACRC,QAxLcC,UAMxBe,EAAWd,GACX/B,EANgB8B,UACd6D,GAAiB,SACCgB,KAIKzG,IAkLfwH,MAAM,UACNG,UAAU,OACVC,SAAUpC,GANZ,gBAUA,kBAAC/D,EAAA,EAAD,CACEd,GAAG,mBACHe,QAAQ,YACRC,QAxLaC,UAMvBe,EAAWd,GACX/B,EANgB8B,UACd6D,GAAiB,SACCgB,KAIKzG,IAkLfwH,MAAM,UACNG,UAAU,OACVC,UAAWpC,GANb,gBAWF,6BACA,yBACE7E,GAAG,eACHI,MAAO,CACLiC,QAAS,eACT6E,SAAU,WACVC,OAAQ,YAGV,yBACEnH,GAAG,qBACHwC,IAAI,wBACJE,IAAI,QACJtC,MAAO,CAAEmE,MAAO,QAASC,OAAQ,WAEnC,yBACExE,GAAG,SACHI,MAAO,CACLiC,QAAS,OACT6E,SAAU,WACVE,OAAQ,qBAMhB,6BACE,kBAACtG,EAAA,EAAD,CACEC,QAAQ,YACR8F,MAAM,UACNG,UAAU,OACVhG,QAtNcC,UAQtBe,EAAWd,GACX/B,EARgB8B,UACIiB,SAASC,eAAe,sBAChC/B,MAAMiC,QAAU,QAC1B,MAAM/C,QAAYwG,IAElB,OADAZ,EAAa,OAAC5F,QAAD,IAACA,OAAD,EAACA,EAAKN,MACZM,GAGgBD,KAyMnB,wBAQA,0BAAMW,GAAG,qBAAqBI,MAAO,CAAEiC,QAAS,SAC9C,kBAACnC,EAAA,EAAD,CACEmH,QAAM,EACN9G,MAAOwE,EACPvE,SAlNaS,UAuBvB9B,EAtBgB8B,UACd,MAAMqG,EAAWpF,SAASC,eAAe,WACnCoF,EAAUrF,SAASsF,cAAc,OACvCF,EAASG,WAAWC,aAAaH,EAASD,GAC1CC,EAAQ/E,IAAMmF,IACd3C,EAAiB9D,EAAMT,OAAOF,aACxBuF,EAA6B,CACjC8B,SAAU1G,EAAMT,OAAOF,QAEzBgH,EAAQvH,GAAK,UACbuH,EAAQnH,MAAQ,CACd+F,WAAY,OACZ0B,YAAa,OACbtD,MAAO,QACPC,OAAQ,SAEVjF,WAAW,KACTgI,EAAQ/E,IAAM,kCACb,KACeN,SAASC,eAAe,sBAChC/B,MAAMiC,QAAU,QAEHhD,GACzB2C,EAAWd,IA2LD4G,YAAa,CACXC,QAAQ,IAGV,4BAAQjB,aAAW,OAAOvG,MAAM,KAC/B0E,EAAW+C,IAAI,CAACC,EAAQC,IACvB,4BAAQC,IAAKD,EAAO3H,MAAO0H,GACxBA,MAKT,6BACA,6BACE,yBACEjI,GAAG,UACHwC,IAAKmF,IACLjF,IAAI,SACJtC,MAAO,CACL+F,WAAY,OACZ0B,YAAa,OACbtD,MAAO,QACPC,OAAQ,e,kBEvTT4D,ICrCAA,EDCF,IAET,yBACEnI,UAAU,iBACVG,MAAO,CAAE+F,WAAY,KAAM5B,MAAO,QAElC,wBAAInE,MAAO,CAAEiI,UAAW,WAAxB,mCAGA,yBACEjI,MAAO,CACLiC,QAAS,OACTiG,cAAe,SACfC,WAAY,SACZC,eAAgB,WAGlB,yBAAKhG,IAAKiG,IAAa/F,IAAI,0BAC3B,8IAGE,6BAHF,8BAI8B,IAC5B,uBAAGgG,KAAK,+HAAR,+HAGC,QACD,uBAAGA,KAAK,gDAAR,mD,6CEDK,IAAEC,WA3BD,uCAAG,WAAOhK,GAAP,eAAAC,EAAA,sEACMC,IAAMC,KAC3B,0BACAH,GAHe,cACXI,EADW,yBAKVA,EAASC,MALC,2CAAH,sDA2Ba4J,eApBT,uCAAG,WAAOjK,GAAP,eAAAC,EAAA,sEACEC,IAAMC,KAC3B,8BACAH,GAHmB,cACfI,EADe,yBAKdA,EAASC,MALK,2CAAH,sDAoByB6J,QAbhC,uCAAG,WAAOlK,GAAP,eAAAC,EAAA,sEACSC,IAAMC,KAC3B,uBACAH,GAHY,cACRI,EADQ,yBAKPA,EAASC,MALF,2CAAH,sDAayC8J,YANrC,uCAAG,4BAAAlK,EAAA,sEACKC,IAAMgE,IAC3B,4BAFgB,cACZ9D,EADY,yBAIXA,EAASC,MAJE,2CAAH,sD,0CCEF+J,OAlBI,EAAGxI,QAAMyI,cAExB,kBAAC,KAAD,CACEhJ,GAAG,aACHiJ,KAAK,SACLC,MAAM,kBACN3I,MAAOA,EACPC,SAAUwI,EACVtC,KAAK,mBACLyC,SAAU,GACV/I,MAAQ,CAENmE,MAAO,U,6BCPf,MAAM6E,GAASC,KAAG,iCA4HHC,ICtIAA,GDYC,KACd,MAAOC,EAAYC,GAAiB3J,mBAAS,KACtC,CAAER,GAAYb,KACdiL,EAAaC,GAAkB7J,mBAAS,KACxC8J,EAAMC,GAAW/J,oBAAS,IAC1BgK,EAAMC,GAAWjK,mBAAS,IAWjCgG,oBAAU,KACRuD,GAAOW,GAAG,eAAe,SAAUC,GACjCJ,GAAQ,GACRE,EAAQE,OAET,IAEH,MASMC,EAAiBjK,IACrB,MAAMkK,EAAYhI,SAASC,eAAenC,GACV,SAA5BkK,EAAU9J,MAAMiC,QAClB6H,EAAU9J,MAAMiC,QAAU,QAE1B6H,EAAU9J,MAAMiC,QAAU,QAa9B,OATAwD,oBAAU,KAMR1G,EALgB8B,UACd,MAAM3B,QAAY6K,GAAerB,cAEjC,OADA,OAAIxJ,QAAJ,IAAIA,OAAJ,EAAIA,EAAKN,OAAM0K,EAAc,OAACpK,QAAD,IAACA,OAAD,EAACA,EAAKN,MAC5BM,GAEgBD,IACxB,CAACA,IAGF,yBAAKe,MAAO,CAAC+F,WAAY,KAAK5B,MAAO,QACnC,kBAAC6F,EAAA,EAAD,CAAUC,GAAIV,GACZ,kBAACW,EAAA,EAAD,CACEC,SAAS,OACTC,OACE,kBAACC,EAAA,EAAD,CACE3D,aAAW,QACXD,MAAM,UACN6D,KAAK,QACL1J,QArDQ,CAACE,EAAOyJ,KACX,cAAXA,GAIJf,GAAQ,GACRR,GAAOwB,KAAK,qBAJVxB,GAAOwB,KAAK,sBAqDJ,kBAAC,KAAD,CAAWzB,SAAS,aAGxB0B,GAAI,CAAEtG,MAAO,QAEZsF,IAGL,8BACE,kBAAC,GAAD,CAAYtJ,MAAOgJ,EAAYP,SAAUQ,IACzC,kBAAC1I,EAAA,EAAD,CACEE,QAlDoBC,UAC1BC,EAAMC,iBAMNhC,EALgB8B,UACd,IAAI3B,EAAM,KAEV,OADAA,QAAY6K,GAAetB,QAAQ,CAAEU,eAC9BjK,GAEgBD,IA4CnB0B,QAAQ,YACR8F,MAAM,UACNG,UAAU,QAJZ,UAQA,kBAAClG,EAAA,EAAD,CACEE,QAAS,IAAMiJ,EAAc,eAC7BlJ,QAAQ,YACR8F,MAAM,UACNG,UAAU,QAJZ,iBASF,6BACE,wBAAIhH,GAAI,cAAeI,MAAO,CAAEiC,QAAS,SACvC,6CACCoH,EAAYzB,IAAI,CAACa,EAASX,IACzB,wBACEC,IAAKD,EACLlH,QAAS,IACPiJ,EAAc,SAAD,OAAUpB,EAAQiC,gBAGjC,4BAAKjC,EAAQiC,cACb,yBACE9K,GAAE,gBAAW6I,EAAQiC,cACrB1K,MAAO,CAAEiC,QAAS,SAElB,4BACG0I,OAAOC,KAAKnC,GAASb,IAAI,CAACiD,EAAM/C,IAE7B,wBACEC,IAAKD,GADP,UAEK+C,EAFL,aAEcpC,EAAQoC,c,wCEjG7B,OAxBDhK,gBACWpC,IAAMC,KAAK,oBAAqBH,IACvCK,KAsBH,GApBFiC,gBACYpC,IAAMC,KAAK,mBAAoBH,IACtCK,KAkBH,GAhBOiC,gBACGpC,IAAMC,KAC3B,4BACAH,IAEcK,KAWH,GATOiC,gBACGpC,IAAMC,KAC3B,4BACAH,IAEcK,K,UCyGHkM,OA5HA,EACbC,cACAC,WACAC,aACAC,gBACAC,0BAEA,MAMMC,EAAS,CACbnJ,QAAS,OACTkG,WAAY,SACZC,eAAgB,iBAyGlB,OAtGE,yBAAKpI,MAAO,CAAE+F,WAAY,KAAM5B,MAAO,QACrC,6BACG6G,EACEK,OAAQC,GAAuB,WAAdA,EAAK7N,MACtBmK,IAAI,CAAC0D,EAAMxD,IACV,yBAAKC,IAAKD,EAAO9H,MAAOoL,GACtB,8BAAOE,EAAKhF,KAAZ,KACA,kBAACxG,EAAA,EAAD,CACEQ,WAAYgL,EAAKC,YACjBpL,MAAO8K,EAAW,GAAD,OAAIK,EAAKhF,OAC1BlG,SAAWU,IACToK,EAAc,IACTD,EACH,CAACK,EAAKhF,MAAOxF,EAAMT,OAAOF,cAOxC,6BACG6K,EACEK,OAAQC,GAAuB,cAAdA,EAAK7N,MACtBmK,IAAI,CAAC0D,EAAMxD,IACV,yBAAKC,IAAKD,EAAO9H,MAAOoL,GACtB,8BAAOE,EAAKhF,KAAZ,KACA,6BACE,kBAACxG,EAAA,EAAD,CACEmH,QAAM,EACN9G,MAAOqL,OAAOP,EAAW,GAAD,OAAIK,EAAKhF,QACjClG,SAAWU,IACToK,EAAc,IACTD,EACH,CAACK,EAAKhF,MAAOxF,EAAMT,OAAOF,SAG9BuH,YAAa,CACXC,QAAQ,IAGT2D,EAAKG,UAAU7D,IAAKC,GACnB,4BAAQE,IAAKF,EAAO1H,MAAOA,MAAO0H,EAAO1H,OACtC0H,EAAO9H,aAQxB,6BACA,6BACA,6BACGiL,EACEK,OAAQC,GAAuB,eAAdA,EAAK7N,MACtBmK,IAAI,CAAC0D,EAAMxD,KACV,gCAAKC,IAAKD,GACR,8BAAOwD,EAAKhF,MACZ,kBAACoF,GAAA,EAAD,CACEpB,KAAK,QACL/F,IAAK+G,EAAK/G,IACVD,IAAKgH,EAAKhH,IACVqH,aAAcL,EAAKnL,MACnBA,MAAO8K,EAAWK,EAAKhF,MACvBA,KAAMgF,EAAKhF,KACXsF,KAAMN,EAAKM,KACXC,kBAAkB,OAClBzL,UA/EkBkG,EA+EegF,EAAKhF,KA/EX,CAACxF,EAAOgL,KAC/CZ,EAAc,IACTD,EACH,CAAC3E,GAAOwF,MA6EEC,kBAAgB,UAChBC,MAAO,CACL,CAAE7L,MAAOmL,EAAK/G,IAAKxE,MAAOuL,EAAK/G,KAC/B,CAAEpE,MAAOmL,EAAKhH,IAAKvE,MAAOuL,EAAKhH,SAnFfgC,SAyF5B,yBACEtG,MAAO,CACLiC,QAAS,OACTkG,WAAY,SACZC,eAAgB,UAGlB,kBAAC1H,EAAA,EAAD,CACEC,QAAQ,YACR8F,MAAM,UACN7F,QAASmK,GAHX,SAOA,kBAACrK,EAAA,EAAD,CACEC,QAAQ,YACR8F,MAAM,YACN7F,QAASuK,GAHX,a,UClFOc,OAzBG,EAChB1C,OACAY,WACA+B,cACAC,YACAC,gBAGE,kBAACpC,EAAA,EAAD,CAAUC,GAAIV,GACZ,kBAACW,EAAA,EAAD,CACEC,SAAUA,EACVC,OACE,kBAAC1J,EAAA,EAAD,CAAQ+F,MAAM,UAAU6D,KAAK,QAAQ1J,QAASsL,GAC3CE,GAGL3B,GAAI,CAAEtG,MAAO,SACbkI,QAAS,GAET,kBAACC,GAAA,EAAD,KAAanC,GACZgC,I,OCXT,MAAMnD,GAASC,KAAG,6BAkaHsD,IC/aAA,GDcA,KACb,MAAOtB,EAAYC,GAAiBzL,mBAAS,CAC3C+M,UAAW,qDACXC,OAAQ,EACRC,YAAa,GACbC,kBAAmB,GACnBC,iBAAkB,GAClBC,SAAU,IACVC,kBAAmB,GACnBlN,GAAI,mBACJmN,QAAS,EACTC,aAAc,IACdC,QAAS,IACTC,QAAS,IACTC,QAAS,IACTC,SAAU,KAoJLpC,EAAUqC,GAAe5N,mBAAS,KAClC,CAAER,GAAYb,KACd6G,EAAaC,GAAkBzF,mBACpC2B,KAAK+D,MAAMlE,OAAOC,eAAekE,QAAQ,qBAEpCkI,EAAkBC,GAAuB9N,oBAAS,IAClD+N,EAAkBC,GAAuBhO,oBAAS,IAClDiO,EAAUC,GAAelO,oBAAS,IAClCgK,EAAMC,GAAWjK,mBAAS,KAC1BmO,EAAaC,GAAkBpO,oBAAS,IACxCqO,EAASC,GAActO,mBAAS,KAChCuO,EAAWC,GAAgBxO,oBAAS,IACpCiC,EAAOwM,GAAYzO,mBAAS,IAMnCgG,oBAAU,KACRuD,GAAOW,GAAG,cAAc,SAAUC,GAChCiE,GAAe,GACfE,EAAWnE,MAEbZ,GAAOW,GAAG,SAAS,SAAUC,GAC3BqE,GAAa,GACbC,EAAStE,MAEXZ,GAAOW,GAAG,WAAW,SAAUC,GAC7BiE,GAAe,GACfE,EAAWnE,MAEbZ,GAAOW,GAAG,QAAQ,SAAUC,GAC1B+D,GAAY,GACZjE,EAAQE,MAEVZ,GAAOW,GAAG,cAAc,SAAUC,GAChCuE,QAAQC,IAAI,cACZ,MAAMC,EAAQvM,SAASC,eAAe,qBACtCsM,EAAMjM,IAAN,gCAAqCwH,GACzB9H,SAASC,eAAe,yBAChC/B,MAAMiC,QAAU,QACpBoM,EAAMrO,MAAMiC,QAAU,YAEvB,IAEHwD,oBAAU,KACR,MAAMK,EACJ7E,OAAOC,eAAekE,QAAQ,kBAC5BU,GACFZ,EAAe9D,KAAK+D,MAAMW,KAE3B,IAEHL,oBAAU,KAcR1G,EAbgB8B,UACd,MAAM3B,QAAYoP,GAA4B,CAC5C3I,QAASV,EAAYrF,KAEP,IAAD,KAAf,OAAIV,QAAJ,IAAIA,OAAJ,EAAIA,EAAKN,SACP,OAAIM,QAAJ,IAAIA,OAAJ,YAAIA,EAAKN,YAAT,aAAI,EAAWA,QACbM,EAAIN,KAAKA,KAAK4N,UAAd,WAA8BtN,EAAIN,KAAKA,KAAK4N,UAA5C,KACAtB,EAAchM,EAAIN,KAAKA,QAEzB,OAAIM,QAAJ,IAAIA,OAAJ,YAAIA,EAAKN,YAAT,aAAI,EAAWoM,WAAUqC,EAAYnO,EAAIN,KAAKoM,WAEhD,OAAO9L,GAEgBD,IACxB,CAACgG,EAAYrF,GAAIX,IACpB,MAMMsP,EAAW9F,IACf0F,QAAQC,IAAI3F,GACZ,MACM+F,EAAO/F,EAAQgG,MADL,SAKhB,OAHAN,QAAQC,IAAII,GACCA,EAAK,GAAGE,WAAWD,MAAM,KAClB7G,IAAKjE,GAAMZ,WAAWY,KA2E5C,OACE,yBAAK3D,MAAO,CAAE+F,WAAY,KAAM5B,MAAO,QACrC,kBAAC,GAAD,CACEoF,KAAMyE,EACN9B,YAAa,IAAM+B,GAAa,GAChC9D,SAAS,QACTgC,UAAWzK,EACX0K,WAAW,UAEb,kBAAC,GAAD,CACE7C,KAAMqE,EACN1B,YA1JepL,IACnB+M,GAAe,GACf7E,GAAOwB,KAAK,eAyJRL,SAAS,UACTgC,UAAW2B,EACX1B,WAAW,aAEb,kBAAC,GAAD,CACE7C,KAAMmE,EACNxB,YAAa,IAAMyB,GAAY,GAC/BxD,SAAS,OACTgC,UAAW1C,EACX2C,WAAW,UAEb,kBAACuC,GAAA,EAAD,CACEC,SAAUtB,EACVlN,SAAU,IAAMmN,EAAqBpH,IAAUA,IAE/C,kBAAC0I,GAAA,EAAD,CAAkBC,gBAAc,mBAC9B,kBAACC,GAAA,EAAD,uBAEF,kBAACC,GAAA,EAAD,KACE,kBAACD,GAAA,EAAD,CAAYnI,UAAW,QACrB,6BACE,kBAAC,GAAD,CACEoE,SAAUA,EACVC,WAAYA,EACZF,YAAa,IAAMwC,GAAoB,GACvCrC,cAAeA,EACfC,oBAxFctK,UAC1BC,EAAMC,iBAgBNhC,EAdgB8B,UACd,MAAM3B,QAAYoP,GAA4B,CAC5C3I,QAASV,EAAYrF,GACrBhB,KAAM,IACDqM,EACHuB,UAAW+B,EAAQtD,EAAWuB,cAOlC,OAJA,OAAItN,QAAJ,IAAIA,OAAJ,EAAIA,EAAKN,QACPM,EAAIN,KAAK4N,UAAT,WAAyBtN,EAAIN,KAAK4N,UAAlC,KACAtB,EAAa,OAAChM,QAAD,IAACA,OAAD,EAACA,EAAKN,OAEdM,GAEgBD,UA6EvB,kBAAC0P,GAAA,EAAD,CACEC,SAAUpB,EACVpN,SAAU,IAAMqN,EAAqBtH,IAAUA,IAE/C,kBAAC0I,GAAA,EAAD,CAAkBC,gBAAc,mBAC9B,kBAACC,GAAA,EAAD,gCAEF,kBAACC,GAAA,EAAD,KACE,kBAACD,GAAA,EAAD,CAAYnI,UAAW,QACrB,kBA3EY,IAElB,wBAAIhH,GAAI,WAAYI,MAAO,CAAE+F,WAAY,KAAM5B,MAAO,QACnD6G,EAASpD,IAAI,CAAC0D,EAAMxD,IACnB,wBACEC,IAAKD,EACLlH,QAAS,IAfIhB,KACrB,MAAMkK,EAAYhI,SAASC,eAAenC,GACV,SAA5BkK,EAAU9J,MAAMiC,QAClB6H,EAAU9J,MAAMiC,QAAU,QAE1B6H,EAAU9J,MAAMiC,QAAU,QAUL4H,CAAc,SAAD,OAAUyB,EAAKhF,QAE3C,4BAAKgF,EAAKhF,MACV,wBAAI1G,GAAE,gBAAW0L,EAAKhF,MAAQtG,MAAO,CAAEiC,QAAS,SAC7C0I,OAAOC,KAAKU,GAAM1D,IAAI,CAACiD,EAAM/C,IAE1B,wBAAIC,IAAKD,GAAT,UAAoB+C,EAApB,aAA6BS,EAAKT,UA+DxC,MACA,yBACE7K,MAAO,CACLiC,QAAS,OACTkG,WAAY,SACZC,eAAgB,UAGlB,kBAAC1H,EAAA,EAAD,CACEC,QAAQ,YACR8F,MAAM,UACN7F,QAAS,IAAM6M,GAAoB,IAHrC,aAWR,kBAACjH,EAAA,EAAD,CAAa7F,QAAQ,YAAY8F,MAAM,WACrC,kBAAC/F,EAAA,EAAD,CAAQE,QAhJMC,UAClBC,EAAMC,iBAONhC,EANgB8B,eACIyN,GAAoB,CACpC3I,QAASV,EAAYrF,KAIAX,GACzB0O,GAAY,KAwIL,IADH,8BAIA,kBAACjN,EAAA,EAAD,CAAQE,QAzIKC,UACjBC,EAAMC,iBAONhC,EANgB8B,eACIyN,GAAmB,CACnC3I,QAASV,EAAYrF,KAIAX,KAiIrB,UAEF,yBAAKW,GAAG,wBAAwBI,MAAO,CAAEiC,QAAS,SAChD,yBACErC,GAAG,oBACH0C,IAAI,oBACJtC,MAAO,CAAEiC,QAAS,OAAQkC,MAAO,QAASC,OAAQ,WAEpD,kBAACiG,EAAA,EAAD,CACE3D,aAAW,QACXD,MAAM,UACN6D,KAAK,QACL1J,QAhLe,KACrB,MAAMqO,EAAMnN,SAASC,eAAe,yBAChCkN,IAAKA,EAAIjP,MAAMiC,QAAU,QAC7B,MAAMoM,EAAQvM,SAASC,eAAe,qBAClCsM,IAAOA,EAAMrO,MAAMiC,QAAU,UA8K3B,kBAAC,KAAD,CAAW8G,SAAS,gBE3Yf,OA7BUlI,gBACApC,IAAMgE,IAC3B,wCACAlE,IAEcK,KAwBH,GAfDiC,gBACWpC,IAAMC,KAC3B,4BACAH,IAEcK,KAUH,GAROiC,gBACGpC,IAAMC,KAC3B,oCACAH,IAEcK,KCdlB,MAAMoK,GAASC,KAAG,8BA2OHiG,ICvPAA,GDaQ,KACrB,MAAOjE,EAAYC,GAAiBzL,mBAAS,CAC3CgN,OAAQ,EACRE,kBAAmB,GACnBE,SAAU,IACVC,kBAAmB,GACnBtF,SAAU,qBAELwD,EAAUqC,GAAe5N,mBAAS,CACvC,CACE6G,KAAM,oBACN/B,IAAK,EACLD,IAAK,IACLsH,KAAM,EACNzL,MAAO,GACP1C,KAAM,aACN8N,YACE,oFAEJ,CACEjF,KAAM,SACN/B,IAAK,EACLD,IAAK,IACLsH,KAAM,EACNzL,MAAO,EACP1C,KAAM,aACN8N,YACE,qHAEJ,CACEjF,KAAM,WACN/B,IAAK,IACLD,IAAK,IACLsH,KAAM,EACNzL,MAAO,IACP1C,KAAM,aACN8N,YAAa,4CAEf,CACEjF,KAAM,oBACN/B,IAAK,EACLD,IAAK,GACLsH,KAAM,EACNzL,MAAO,GACP1C,KAAM,aACN8N,YACE,mEAEJ,CACEjF,KAAM,WACNnG,MAAO,kBACP1C,KAAM,YACNgO,UAAW,CACT,CACEtL,MAAO,kBACPJ,MAAO,oBAGXwL,YACE,0DAGC+B,EAAkBC,GAAuB9N,oBAAS,IAClD,CAAER,GAAYb,KACd6G,EAAaC,GAAkBzF,mBACpC2B,KAAK+D,MAAMlE,OAAOC,eAAekE,QAAQ,qBAEpCsI,EAAUC,GAAelO,oBAAS,IAClCgK,EAAMC,GAAWjK,mBAAS,KAC1BmO,EAAaC,GAAkBpO,oBAAS,IACxCqO,EAASC,GAActO,mBAAS,KAChCuO,EAAWC,GAAgBxO,oBAAS,IACpCiC,EAAOwM,GAAYzO,mBAAS,IAcnCgG,oBAAU,KACRuD,GAAOW,GAAG,cAAc,SAAUC,GAChCiE,GAAe,GACfE,EAAWnE,MAEbZ,GAAOW,GAAG,SAAS,SAAUC,GAC3BqE,GAAa,GACbC,EAAStE,MAEXZ,GAAOW,GAAG,WAAW,SAAUC,GAC7BiE,GAAe,GACfE,EAAWnE,MAEbZ,GAAOW,GAAG,QAAQ,SAAUC,GAC1B+D,GAAY,GACZjE,EAAQE,MAEVZ,GAAOW,GAAG,cAAc,SAAUC,GAChC,MAAMqF,EAAMnN,SAASC,eAAe,0BAChCkN,IAAKA,EAAIjP,MAAMiC,QAAU,SAC7B,MAAMoM,EAAQvM,SAASC,eAAe,sBACtCsM,EAAMjM,IAAN,gCAAqCwH,GACrCyE,EAAMrO,MAAMiC,QAAU,YAEvB,IAEHwD,oBAAU,KACR,MAAMK,EACJ7E,OAAOC,eAAekE,QAAQ,kBAC5BU,GACFZ,EAAe9D,KAAK+D,MAAMW,KAE3B,IAEHL,oBAAU,KAcR1G,EAbgB8B,UACd,MAAM3B,QAAYiQ,KAClB,UAAIjQ,QAAJ,IAAIA,OAAJ,EAAIA,EAAKN,KAAM,CACb,MACM6M,EADQvM,EAAIN,KACMgJ,KAAI,SAAUwH,GACpC,MAAO,CAAEjP,MAAOiP,EAAKrP,MAAOqP,MAE9B,IAAIC,EAAIrE,EACRqE,EAAE,GAAG5D,UAAYA,EACjB4B,EAAYgC,GAEd,OAAOnQ,GAEgBD,IACxB,CAAC+L,EAAU/L,IA2Bd,OACE,yBAAKe,MAAO,CAAE+F,WAAY,KAAM5B,MAAO,QACrC,kBAAC,GAAD,CACEoF,KAAMyE,EACN9B,YAAa,IAAM+B,GAAa,GAChC9D,SAAS,QACTgC,UAAWzK,EACX0K,WAAW,UAEb,kBAAC,GAAD,CACE7C,KAAMqE,EACN1B,YAlGepL,IACnB+M,GAAe,GACf7E,GAAOwB,KAAK,eAiGRL,SAAS,UACTgC,UAAW2B,EACX1B,WAAW,aAEb,kBAAC,GAAD,CACE7C,KAAMmE,EACNxB,YAAa,IAAMyB,GAAY,GAC/BxD,SAAS,OACTgC,UAAW1C,EACX2C,WAAW,UAEb,kBAACuC,GAAA,EAAD,CACEC,SAAUtB,EACVlN,SAAU,IAAMmN,EAAqBpH,IAAUA,IAE/C,kBAAC0I,GAAA,EAAD,CAAkBC,gBAAc,mBAC9B,kBAACC,GAAA,EAAD,uBAEF,kBAACC,GAAA,EAAD,KACE,kBAACD,GAAA,EAAD,CAAYnI,UAAW,QACrB,6BACE,kBAAC,GAAD,CACEoE,SAAUA,EACVC,WAAYA,EACZF,YAAa,IAAMwC,GAAoB,GACvCrC,cAAeA,EACfC,oBA/DctK,UAC1BC,EAAMC,iBAUNhC,EARgB8B,UACd,MAAM3B,QAAYiQ,GAAoC,CACpDxJ,QAASV,EAAYrF,GACrBhB,KAAM,CAAEqM,gBAGV,OADAC,EAAa,OAAChM,QAAD,IAACA,OAAD,EAACA,EAAKN,MACZM,GAEgBD,UA0DvB,kBAACyB,EAAA,EAAD,CACEC,QAAQ,YACR8F,MAAM,UACNG,UAAU,OACVhG,QA3DcC,UAClBC,EAAMC,iBAONhC,EANgB8B,eACIsO,GAA4B,CAC5CxJ,QAASV,EAAYrF,KAIAX,KAqDpB,IANH,yBASA,yBAAKW,GAAG,yBAAyBI,MAAO,CAAEiC,QAAS,SACjD,yBACErC,GAAG,qBACH0C,IAAI,qBACJtC,MAAO,CAAEiC,QAAS,OAAQkC,MAAO,QAASC,OAAQ,WAEpD,kBAACiG,EAAA,EAAD,CACE3D,aAAW,QACXD,MAAM,UACN6D,KAAK,QACL1J,QAlJe,KACrB,MAAMqO,EAAMnN,SAASC,eAAe,0BAChCkN,IAAKA,EAAIjP,MAAMiC,QAAU,QAC7B,MAAMoM,EAAQvM,SAASC,eAAe,sBAClCsM,IAAOA,EAAMrO,MAAMiC,QAAU,UAgJ3B,kBAAC,KAAD,CAAW8G,SAAS,gBE1Nf,OAtBUlI,gBACApC,IAAMgE,IAC3B,sCACAlE,IAEcK,KAiBH,GAfKiC,gBACKpC,IAAMC,KAC3B,iCACAH,IAEcK,KAUH,GARDiC,gBACWpC,IAAMC,KAC3B,0BACAH,IAEcK,KCblB,MAAMoK,GAASC,KAAG,+BAwHHqG,IC9HAA,GDOM,KACnB,MAAO,CAAErQ,GAAYb,KACd6G,EAAaC,GAAkBzF,mBACpC2B,KAAK+D,MAAMlE,OAAOC,eAAekE,QAAQ,qBAGpCmK,EAAcC,GAAmB/P,sBACjCgQ,EAAWC,GAAgBjQ,mBAAS,KACpCiO,EAAUC,GAAelO,oBAAS,IAClCgK,EAAMC,GAAWjK,mBAAS,KAC1BuO,EAAWC,GAAgBxO,oBAAS,IACpCiC,EAAOwM,GAAYzO,mBAAS,IAEnCgG,oBAAU,KACR,MAAMK,EACJ7E,OAAOC,eAAekE,QAAQ,kBAC5BU,GACFZ,EAAe9D,KAAK+D,MAAMW,KAE3B,IACHL,oBAAU,KACRuD,GAAOW,GAAG,SAAS,SAAUC,GAC3BqE,GAAa,GACbC,EAAStE,MAEXZ,GAAOW,GAAG,QAAQ,SAAUC,GAC1B+D,GAAY,GACZjE,EAAQE,OAET,IAoCH,OACE,yBAAK5J,MAAO,CAAE+F,WAAY,KAAM5B,MAAO,QACrC,kBAAC,GAAD,CACEoF,KAAMyE,EACN9B,YAAa,IAAM+B,GAAa,GAChC9D,SAAS,QACTgC,UAAWzK,EACX0K,WAAW,UAEb,kBAAC,GAAD,CACE7C,KAAMmE,EACNxB,YAAa,IAAMyB,GAAY,GAC/BxD,SAAS,OACTgC,UAAW1C,EACX2C,WAAW,UAEb,kBAAC1L,EAAA,EAAD,CACEC,QAAQ,YACR8F,MAAM,UACNG,UAAU,OACVhG,QA/BcC,UAClBC,EAAMC,iBAONhC,EANgB8B,eACI8O,GAA0B,CAC1ChK,QAASV,EAAYrF,KAIAX,KAyBpB,IANH,uBASA,kBAACyB,EAAA,EAAD,CACEC,QAAQ,YACR8F,MAAM,UACNG,UAAU,OACVhG,QA/DiBC,UACHiB,SAASC,eAAe,qBAChC/B,MAAMiC,QAAU,QAM1BlD,EALgB8B,UACd,MAAM3B,QAAYyQ,KAElB,OADAD,EAAY,OAACxQ,QAAD,IAACA,OAAD,EAACA,EAAKN,MACXM,GAEgBD,GACzBkP,QAAQC,IAAIqB,KAkDV,oBAQA,0BAAM7P,GAAG,oBAAoBI,MAAO,CAAEiC,QAAS,SAC7C,kBAACnC,EAAA,EAAD,CACEmH,QAAM,EACN9G,MAAOoP,EACPnP,SA3DiBS,UAOvB9B,EANgB8B,UACd2O,EAAgB1O,EAAMT,OAAOF,aACvBwP,GAAgC,CACpCnI,SAAU1G,EAAMT,OAAOF,SAGFlB,GACP6C,SAASC,eAAe,qBAChC/B,MAAMiC,QAAU,QAmDpByF,YAAa,CACXC,QAAQ,IAGV,4BAAQjB,aAAW,OAAOvG,MAAM,KAC/BsP,EAAU7H,IAAI,CAACC,EAAQC,IACtB,4BAAQC,IAAKD,EAAO3H,MAAO0H,GACxBA,QE7DA,OAxDWhH,gBACDpC,IAAMgE,IAC3B,8CAEc7D,KAoDH,GAlDciC,gBACJpC,IAAMgE,IAC3B,0CAEc7D,KA8CH,GArCDiC,gBACWpC,IAAMC,KAC3B,gCACAH,IAEcK,KAgCH,GA9BciC,gBACJpC,IAAMgE,IAC3B,mDAEc7D,KA0BH,GAvBQiC,gBACEpC,IAAMgE,IAC3B,4CAEc7D,KAmBH,GAhBQiC,gBACEpC,IAAMC,KAC3B,0CACAH,IAEcK,KAWH,GAROiC,gBACGpC,IAAMC,KAC3B,wCACAH,IAEcK,KCxClB,MAAMoK,GAASC,KAAG,sCAkUH2G,IC/UAA,GDeY,KACzB,MAAO,CAAE3Q,GAAYb,KACdyR,EAASC,GAAcrQ,mBAAS,KAChC+H,EAAUuI,GAAetQ,mBAAS,yBAClC6N,EAAkBC,GAAuB9N,oBAAS,IAClDwL,EAAYC,GAAiBzL,mBAAS,CAC3CuQ,QAAS,eACTC,aAAc,GACdC,UAAW,GACXC,eAAgB,GAChBC,YAAa,EACbC,IAAK,GACLC,SAAU,MAELtF,EAAUqC,GAAe5N,mBAAS,CACvC,CACE6G,KAAM,cACN/B,IAAK,EACLD,IAAK,GACLsH,KAAM,EACNzL,MAAO,EACP1C,KAAM,aACN8N,YACE,yEAEJ,CACEjF,KAAM,MACN/B,IAAK,IACLD,IAAK,GACLsH,KAAM,IACNzL,MAAO,GACP1C,KAAM,aACN8N,YACE,0DAEJ,CACEjF,KAAM,WACN/B,IAAK,EACLD,IAAK,IACLsH,KAAM,EACNzL,MAAO,GACP1C,KAAM,aACN8N,YACE,kFAEJ,CACEjF,KAAM,UACNnG,MAAO,eACP1C,KAAM,SACN8N,YACE,0DAEJ,CACEjF,KAAM,eACNnG,MAAO,mCACP1C,KAAM,YACNgO,UAAW,GACXF,YACE,uDAEJ,CACEjF,KAAM,YACNnG,MAAO,mCACP1C,KAAM,YACNgO,UAAW,GACXF,YAAa,8CAEf,CACEjF,KAAM,iBACNnG,MAAO,mCACP1C,KAAM,YACNgO,UAAW,GACXF,YACE,wDAICtG,EAAaC,GAAkBzF,mBACpC2B,KAAK+D,MAAMlE,OAAOC,eAAekE,QAAQ,qBAEpCsI,EAAUC,GAAelO,oBAAS,IAClCgK,EAAMC,GAAWjK,mBAAS,KAC1BmO,EAAaC,GAAkBpO,oBAAS,IACxCqO,EAASC,GAActO,mBAAS,KAChCuO,EAAWC,GAAgBxO,oBAAS,IACpCiC,EAAOwM,GAAYzO,mBAAS,IA8BnCgG,oBAAU,KACRuD,GAAOW,GAAG,cAAc,SAAUC,GAChCiE,GAAe,GACfE,EAAWnE,MAEbZ,GAAOW,GAAG,SAAS,SAAUC,GAC3BqE,GAAa,GACbC,EAAStE,MAEXZ,GAAOW,GAAG,WAAW,SAAUC,GAC7BiE,GAAe,GACfE,EAAWnE,MAEbZ,GAAOW,GAAG,QAAQ,SAAUC,GAC1B+D,GAAY,GACZjE,EAAQE,MAEVZ,GAAOW,GAAG,cAAc,SAAUC,GAChC,MAAMqF,EAAMnN,SAASC,eACnB,kCAEEkN,IAAKA,EAAIjP,MAAMiC,QAAU,SAC7B,MAAMoM,EAAQvM,SAASC,eACrB,8BAEFsM,EAAMjM,IAAN,gCAAqCwH,GACrCyE,EAAMrO,MAAMiC,QAAU,YAEvB,IACHwD,oBAAU,KACR,MAAMK,EACJ7E,OAAOC,eAAekE,QAAQ,kBAC5BU,GACFZ,EAAe9D,KAAK+D,MAAMW,IA8B5B/G,EA5BgB8B,UACd,MAAM0P,QACEC,KACRV,EAAU,OAACS,QAAD,IAACA,OAAD,EAACA,EAAmB3R,MAC9B,MAAM6R,QAAcD,KACdE,QACEF,KACFG,QACEH,KACRtF,EAAc,IACTD,EACHgF,aAAcU,EAAc/R,KAAK,GACjCsR,UAAWQ,EAAO9R,KAAK,GACvBuR,eAAgBM,EAAM7R,KAAK,KAG7B,IAAIyQ,EAAIrE,EACRqE,EAAE,GAAG5D,UAAYkF,EAAc/R,KAAKgJ,KAAI,SAAUwH,GAChD,MAAO,CAAEjP,MAAOiP,EAAKrP,MAAOqP,MAE9BC,EAAE,GAAG5D,UAAYiF,EAAO9R,KAAKgJ,KAAI,SAAUwH,GACzC,MAAO,CAAEjP,MAAOiP,EAAKrP,MAAOqP,MAE9BC,EAAE,GAAG5D,UAAYgF,EAAM7R,KAAKgJ,KAAI,SAAUwH,GACxC,MAAO,CAAEjP,MAAOiP,EAAKrP,MAAOqP,MAE9B/B,EAAYgC,IAEWpQ,IACxB,CAACA,IAiCJ,OACE,yBAAKe,MAAO,CAAE+F,WAAY,KAAM5B,MAAO,QACrC,kBAAC,GAAD,CACEoF,KAAMyE,EACN9B,YAAa,IAAM+B,GAAa,GAChC9D,SAAS,QACTgC,UAAWzK,EACX0K,WAAW,UAEb,kBAAC,GAAD,CACE7C,KAAMqE,EACN1B,YAxIepL,IACnB+M,GAAe,GACf7E,GAAOwB,KAAK,eAuIRL,SAAS,UACTgC,UAAW2B,EACX1B,WAAW,aAEb,kBAAC,GAAD,CACE7C,KAAMmE,EACNxB,YAAa,IAAMyB,GAAY,GAC/BxD,SAAS,OACTgC,UAAW1C,EACX2C,WAAW,UAEb,kBAACuC,GAAA,EAAD,KACE,kBAACE,GAAA,EAAD,CAAkBC,gBAAc,mBAC9B,kBAACC,GAAA,EAAD,4BAEF,kBAACC,GAAA,EAAD,KACE,kBAACD,GAAA,EAAD,CAAYnI,UAAW,QACrB,kBAAC,GAAD,CAAYzG,MAAO0P,EAASjH,SAAUkH,IACtC,yBACE9P,MAAO,CACLiC,QAAS,OACTkG,WAAY,SACZC,eAAgB,UAGlB,kBAACtI,EAAA,EAAD,CACEC,MAAM,YACNI,MAAOqH,EACPpH,SAAWU,GAAUiP,EAAYjP,EAAMT,OAAOF,SAEhD,+BACA,kBAACO,EAAA,EAAD,CACEC,QAAQ,YACR8F,MAAM,YACNG,UAAU,OACVhG,QAlEeC,UAC3BC,EAAMC,iBASNhC,EARgB8B,eACI2P,GAAyC,CACzD7K,QAASV,EAAYrF,GACrB4H,SAAUA,EACVqI,QAASA,IAIY5Q,GACzB,MAAMwR,QAAcD,KACpB,IAAInB,EAAIrE,EACRqE,EAAE,GAAG5D,UAAYgF,EAAM7R,KAAKgJ,KAAI,SAAUwH,GACxC,MAAO,CAAEjP,MAAOiP,EAAKrP,MAAOqP,MAE9B/B,EAAYgC,KA8CF,YAYR,kBAACV,GAAA,EAAD,CACEC,SAAUtB,EACVlN,SAAU,IAAMmN,EAAqBpH,IAAUA,IAE/C,kBAAC0I,GAAA,EAAD,CAAkBC,gBAAc,mBAC9B,kBAACC,GAAA,EAAD,uBAEF,kBAACC,GAAA,EAAD,KACE,kBAACD,GAAA,EAAD,CAAYnI,UAAW,QACrB,6BACE,kBAAC,GAAD,CACEoE,SAAUA,EACVC,WAAYA,EACZF,YAAa,IAAMwC,GAAoB,GACvCrC,cAAeA,EACfC,oBArLctK,UAC1BC,EAAMC,iBAUNhC,EARgB8B,UACd,MAAM3B,QAAYsR,GAAwC,CACxD7K,QAASV,EAAYrF,GACrBhB,KAAM,CAAEqM,gBAGV,OADAC,EAAa,OAAChM,QAAD,IAACA,OAAD,EAACA,EAAKN,MACZM,GAEgBD,UAiLvB,kBAACyB,EAAA,EAAD,CACEC,QAAQ,YACR8F,MAAM,UACNG,UAAU,OACVhG,QAhHcC,UAClBC,EAAMC,iBACNoN,QAAQC,IAAInD,GAQZlM,EAPgB8B,eACI2P,GAAgC,CAChD7K,QAASV,EAAYrF,GACrBqL,eAIqBhM,KAwGpB,IANH,6BASA,yBACEW,GAAG,iCACHI,MAAO,CAAEiC,QAAS,SAElB,yBACErC,GAAG,6BACH0C,IAAI,6BACJtC,MAAO,CAAEiC,QAAS,OAAQkC,MAAO,QAASC,OAAQ,WAEpD,kBAACiG,EAAA,EAAD,CACE3D,aAAW,QACXD,MAAM,UACN6D,KAAK,QACL1J,QA5Ne,KACrB,MAAMqO,EAAMnN,SAASC,eACnB,kCAEEkN,IAAKA,EAAIjP,MAAMiC,QAAU,QAC7B,MAAMoM,EAAQvM,SAASC,eACrB,8BAEEsM,IAAOA,EAAMrO,MAAMiC,QAAU,UAsN3B,kBAAC,KAAD,CAAW8G,SAAS,gB,4DEzSf,IACb6H,cAhCiB,uCAAG,WAAOrS,GAAP,eAAAC,EAAA,sEACGC,IAAMC,KAC3B,kCACAH,GAHkB,cACdI,EADc,yBAKbA,EAASC,MALI,2CAAH,sDAiCjBsM,cA1BiB,uCAAG,WAAO3M,GAAP,eAAAC,EAAA,sEACGC,IAAMC,KAC3B,kCACAH,GAHkB,cACdI,EADc,yBAKbA,EAASC,MALI,2CAAH,sDA2BjBiS,gBAnBmB,uCAAG,WAAOtS,GAAP,eAAAC,EAAA,sEACCC,IAAMC,KAC3B,oCACAH,GAHoB,cAChBI,EADgB,yBAKfA,EAASC,MALM,2CAAH,sDAoBnBkS,mBAZsB,uCAAG,WAAOvS,GAAP,eAAAC,EAAA,sEACFC,IAAMC,KAC3B,uCACAH,GAHuB,cACnBI,EADmB,yBAKlBA,EAASC,MALS,2CAAH,uD,8CCJxB,MAAMmS,GAAYC,aAAW,CAC3BC,KAAM,CACJ9M,MAAO,IACPlE,OAAQ,IAEViR,SAAU,CACR/M,MAAO,UA6TIgN,ICtVAA,GD6BM,KAAO,IAAD,EACzB,MAAO,CAAElS,GAAYb,KACd6D,EAASmP,GAAc3R,mBAAQ,UACpC2B,KAAK+D,MAAMlE,OAAOC,eAAekE,QAAQ,uBADL,UAGhCiM,EAAUN,MACTO,EAAiBC,GAAsB9R,mBAAS,CACrDuD,KAAK,EACLF,MAAM,EACNI,QAAQ,EACRD,OAAO,KAEFgC,EAAaC,GAAkBzF,mBACpC2B,KAAK+D,MAAMlE,OAAOC,eAAekE,QAAQ,qBAEpC6F,EAAYC,GAAiBzL,mBAAS,CAC3C+R,aAAc,GACdC,aAAc,IACdC,eAAe,EACfC,UAAW,IACXC,cAAc,EACdC,QAAS,IACTC,QAAS,KACTC,qBAAqB,EACrBC,eAAgB,GAChBC,mBAAmB,EACnBC,aAAc,IACdC,iBAAiB,EACjBC,gBAAiB,MAEbpH,EAAW,CACf,CACE1E,KAAM,eACN/B,IAAK,EACLD,IAAK,IACLsH,KAAM,EACNzL,MAAO,GACP1C,KAAM,cAER,CACE6I,KAAM,eACN/B,IAAK,IACLD,IAAK,IACLsH,KAAM,EACNzL,MAAO,IACP1C,KAAM,cAER,CACE6I,KAAM,YACN/B,IAAK,EACLD,IAAK,IACLsH,KAAM,EACNzL,MAAO,IACP1C,KAAM,cAER,CACE6I,KAAM,UACN/B,IAAK,EACLD,IAAK,IACLsH,KAAM,EACNzL,MAAO,IACP1C,KAAM,cAER,CACE6I,KAAM,UACN/B,IAAK,IACLD,IAAK,IACLsH,KAAM,EACNzL,MAAO,KACP1C,KAAM,cAER,CACE6I,KAAM,iBACN/B,IAAK,EACLD,IAAK,EACLsH,KAAM,KACNzL,MAAO,GACP1C,KAAM,cAER,CACE6I,KAAM,eACN/B,IAAK,EACLD,IAAK,EACLsH,KAAM,KACNzL,MAAO,IACP1C,KAAM,cAER,CACE6I,KAAM,kBACN/B,IAAK,EACLD,IAAK,EACLsH,KAAM,KACNzL,MAAO,IACP1C,KAAM,cAER,CACE6I,KAAM,gBACNnG,OAAO,EACP1C,KAAM,WAER,CACE6I,KAAM,eACNnG,OAAO,EACP1C,KAAM,WAER,CACE6I,KAAM,sBACNnG,OAAO,EACP1C,KAAM,WAER,CACE6I,KAAM,oBACNnG,OAAO,EACP1C,KAAM,WAER,CACE6I,KAAM,kBACNnG,OAAO,EACP1C,KAAM,YAIVgI,oBAAU,KACR,MAAMK,EACJ7E,OAAOC,eAAekE,QAAQ,kBAC5BU,GACFZ,EAAe9D,KAAK+D,MAAMW,KAE3B,IACHL,oBAAU,KAQR1G,EAPgB8B,UACd,MAAM3B,QAAYmT,GAAoBzB,cAAc,CAClDjL,QAASV,EAAYrF,KAGvB,OADA,OAAIV,QAAJ,IAAIA,OAAJ,EAAIA,EAAKN,OAAMsM,EAAa,OAAChM,QAAD,IAACA,OAAD,EAACA,EAAKN,MAC3BM,GAEgBD,IACxB,CAACgG,EAAYrF,GAAIX,IAEpB,MAAMqT,EAAe,CAACC,EAAQhJ,IAAUzI,MAEpCA,GACe,YAAfA,EAAMrD,MACS,QAAdqD,EAAMiH,KAA+B,UAAdjH,EAAMiH,MAKhCwJ,EAAmB,IAAKD,EAAiB,CAACiB,GAAShJ,KA6HrD,OACE,yBAAKvJ,MAAO,CAAE+F,WAAY,KAAM5B,MAAO,QACrC,qDACA,sEACA,kBAACqO,GAAA,EAAD,CACEnN,QAASpD,EACTlC,MAAM,UACNK,SAAWU,IA1GKD,WACpBI,OAAOC,eAAeC,QACpB,cACAC,KAAKC,UAAUP,EAAMT,OAAOgF,UAE9B+L,EAAWtQ,EAAMT,OAAOgF,SAcxBtG,EAbgB8B,UACd,MAAM3B,EAAO+C,QAIHoQ,GAAoBvB,mBAAmB,CAC3CnL,QAASV,EAAYrF,WAJjByS,GAAoBxB,gBAAgB,CACxClL,QAASV,EAAYrF,KAQ3B,OAFYkC,SAASC,eAAe,gBAChCK,IAAOH,EAAqCwQ,KAA3B,yBACdvT,GAEgBD,IAwFnByT,CAAc5R,MAGlB,6BACA,kBAACJ,EAAA,EAAD,CACE+F,MAAM,UACN9F,QAAQ,WACRC,QAAS0R,EAAa,SAAS,IAHjC,WAOA,6BACA,yBACE1S,GAAG,eACHwC,IAAKH,EAAU,yBAA2BwQ,KAC1CnQ,IAAI,YAEN,6BACE,kBAACqQ,GAAA,EAAD,CACEJ,OAAO,QACPhJ,KAAM+H,EAAe,MACrBsB,QAASN,EAAa,SAAS,GAC/BO,OAAQP,EAAa,SAAS,KA3GxBC,EA6GA,QA5GZ,yBACE1S,UAAWiT,aAAKzB,EAAQJ,KAAM,CAC5B,CAACI,EAAQH,UAAsB,QAAXqB,GAA+B,WAAXA,KAI1C,6BACGvH,EACEK,OAAQC,GAAuB,eAAdA,EAAK7N,MACtBmK,IAAI,CAAC0D,EAAMxD,KACV,iCAAMC,IAAKD,GACT,2BAAIwD,EAAKhF,MACT,kBAACoF,GAAA,EAAD,CACEnH,IAAK+G,EAAK/G,IACVD,IAAKgH,EAAKhH,IACVqH,aAAcL,EAAKnL,MACnBA,MAAO8K,EAAWK,EAAKhF,MACvBA,KAAMgF,EAAKhF,KACXsF,KAAMN,EAAKM,KACXC,kBAAkB,KAClBzL,UAnEkBkG,EAmEegF,EAAKhF,KAnEX,CAACxF,EAAOgL,KAC/CZ,EAAc,IACTD,EACH,CAAC3E,GAAOwF,MAiEEC,kBAAgB,2BAChBC,MAAO,CACL,CAAE7L,MAAOmL,EAAK/G,IAAKxE,MAAOuL,EAAK/G,KAC/B,CAAEpE,MAAOmL,EAAKhH,IAAKvE,MAAOuL,EAAKhH,SAvEfgC,SA6E5B,kBAACyM,GAAA,EAAD,MACA,6BACA,6BACE,kBAACC,GAAA,EAAD,CAAapM,UAAU,YACrB,kBAACqM,GAAA,EAAD,CAAWrM,UAAU,UAArB,2BAGA,kBAACsM,GAAA,EAAD,KACGlI,EACEK,OAAQC,GAAuB,YAAdA,EAAK7N,MACtBmK,IAAI,CAAC0D,EAAMxD,KACV,yBAAC9B,EAAA,EAAD,CACE+B,IAAKD,EACL7B,QACE,kBAACuM,GAAA,EAAD,CACEnN,QAAS4F,EAAWK,EAAKhF,MACzBlG,UAvFSkG,EAuFqBgF,EAAKhF,KAvFhBxF,IACrCoK,EAAc,IACTD,EACH,CAAC3E,GAAOxF,EAAMT,OAAOgF,cAuFTtF,MAAOuL,EAAKhF,OA1FCA,WAgGzB,kBAAC5F,EAAA,EAAD,CACE+F,MAAM,UACN9F,QAAQ,WACRC,QAAS0R,EAAaC,GAAQ,IAE7B,IALH,SAQA,kBAAC7R,EAAA,EAAD,CACE+F,MAAM,UACN9F,QAAQ,WACRC,QAAUE,IArGYD,WAC1BC,EAAMC,iBAQNhC,EAPgB8B,eACIwR,GAAoBnH,cAAc,CAClDvF,QAASV,EAAYrF,GACrBhB,KAAMqM,IAIehM,IA6FnBkM,CAAoBrK,KAGrB,IAPH,eAhEUyR,OE1DD/N,ICxKA2O,GDUA,KAAO,IAAD,EACnB,OAAO,OAAEvV,GAAUqB,GAAYb,KACxBuG,EAAeC,GAAoBnF,sBACnCoF,EAAYC,GAAiBrF,mBAAS,KACtCsF,EAAeC,GAAoBvF,oBAAS,IAC5C4F,EAASC,GAAc7F,mBAAQ,UACpC2B,KAAK+D,MAAMlE,OAAOC,eAAekE,QAAQ,oBADL,UAMtCK,oBAAU,KACR,MAAMI,EAAW5E,OAAOC,eAAekE,QAAQ,YAC3CS,GACFb,EAAiB5D,KAAK+D,MAAMU,KAE7B,CAACjI,IAEJ,MAAMgE,EAAc+B,IAClBA,EAAE5C,kBAoDJ,OACE,yBAAKlB,UAAU,UACb,kBAACmG,EAAA,EAAD,CACEC,QACE,kBAACC,EAAA,EAAD,CACEb,QAASA,EACTjF,SAhBoBS,UAC5B5B,EAAStB,GAAW0H,IACpBpE,OAAOC,eAAeC,QACpB,WACAC,KAAKC,WAAWgE,IAElBpE,OAAOmF,SAASC,SAChBf,EAAYa,IAAUA,IAUdG,KAAK,WAGTvG,MAAM,SACNwG,eAAe,WAEhBxB,EACC,6BACE,6BACA,yBACEnF,GAAG,eACHI,MAAO,CACLiC,QAAS,eACT6E,SAAU,WACVC,OAAQ,YAGV,yBACEnH,GAAG,wBACH0C,IAAI,SACJF,IAAI,wBACJpC,MAAO,CAAEmE,MAAO,QAASC,OAAQ,WAEnC,yBACExE,GAAG,SACHI,MAAO,CACLiC,QAAS,OACT6E,SAAU,WACVE,OAAQ,qBAMhB,6BACE,kBAACtG,EAAA,EAAD,CACEC,QAAQ,YACR8F,MAAM,UACNG,UAAU,OACVhG,QA/FcC,UAQtBe,EAAWd,GACX/B,EARgB8B,UACIiB,SAASC,eAAe,sBAChC/B,MAAMiC,QAAU,QAC1B,MAAM/C,QAAYwG,IAElB,OADAZ,EAAa,OAAC5F,QAAD,IAACA,OAAD,EAACA,EAAKN,MACZM,GAGgBD,KAkFnB,wBAQA,0BAAMW,GAAG,qBAAqBI,MAAO,CAAEiC,QAAS,SAC9C,kBAACnC,EAAA,EAAD,CACEmH,QAAM,EACN9G,MAAOwE,EACPvE,SA3FaS,UAuBvB9B,EAtBgB8B,UACd,MAAMqG,EAAWpF,SAASC,eAAe,WACnCoF,EAAUrF,SAASsF,cAAc,OACvCF,EAASG,WAAWC,aAAaH,EAASD,GAC1CC,EAAQ/E,IAAMmF,IACd3C,EAAiB9D,EAAMT,OAAOF,aACxBuF,EAA6B,CACjC8B,SAAU1G,EAAMT,OAAOF,QAEzBgH,EAAQvH,GAAK,UACbuH,EAAQnH,MAAQ,CACd+F,WAAY,OACZ0B,YAAa,OACbtD,MAAO,QACPC,OAAQ,SAEVjF,WAAW,KACTgI,EAAQ/E,IAAM,kCACb,KACeN,SAASC,eAAe,sBAChC/B,MAAMiC,QAAU,QAEHhD,GACzB2C,EAAWd,IAoED4G,YAAa,CACXC,QAAQ,IAGV,4BAAQjB,aAAW,OAAOvG,MAAM,KAC/B0E,EAAW+C,IAAI,CAACC,EAAQC,IACvB,4BAAQC,IAAKD,EAAO3H,MAAO0H,GACxBA,MAKT,6BACA,6BACE,yBACEjI,GAAG,UACHwC,IAAKmF,IACLjF,IAAI,SACJtC,MAAO,CACL+F,WAAY,OACZ0B,YAAa,OACbtD,MAAO,QACPC,OAAQ,eE/JlBgP,GAAY,CAChB3M,MAAO,QACP4M,WAAY,YACZtK,SAAU,OACVuK,YAAa,QACbC,aAAc,MACdC,QAAS,OACTC,aAAc,QAUDC,GANM,SAAC,GAAiB,IAAf5V,EAAc,EAAdA,QACtB,OAAgB,OAAZA,EACK,KAEF,yBAAKkC,MAAOoT,GAAUvT,UAAU,gBAAgB/B,ICdnDsV,GAAY,CAChB3M,MAAO,MACP4M,WAAY,YACZtK,SAAU,OACVuK,YAAa,QACbC,aAAc,MACdC,QAAS,OACTC,aAAc,QAUDE,GAPW,SAAC,GAAsB,IAApB3V,EAAmB,EAAnBA,aAC3B,OAAqB,OAAjBA,EACK,KAEF,yBAAKgC,MAAOoT,GAAUvT,UAAU,qBAAqB7B,I,wCC2D/C4V,OArEG,EAAGC,OAAMC,eAAc7O,kBACvC,MAAO9E,EAAOyI,GAAYmL,IAAMtU,SAC9BwB,OAAOC,eAAekE,QAAQ,QAEhChE,KAAK+D,MAAMlE,OAAOC,eAAekE,QAAQ,aACzC,MAWMiM,EAXYL,aAAW,CAC3BgD,KAAM,CACJX,WAAY,mDACZrM,OAAQ,EACRuM,aAAc,EACdU,UAAW,uCACXxN,MAAO,QACPrC,OAAQ,GACRoP,QAAS,WAGGzC,GAMhB,OACE,6BACE,kBAACmD,GAAA,EAAD,CAAQpN,SAAS,SAASL,MAAM,WAC9B,kBAAC0N,GAAA,EAAD,CACEhU,MAAOA,EACPC,SAVa,CAACU,EAAOgL,KAC3B7K,OAAOC,eAAeC,QAAQ,MAAO2K,GACrClD,EAASkD,IASHjM,UAAWwR,EAAQ2C,KACnBrT,QAAQ,aACRyT,cAAc,QAEbP,EAAKjM,IAAI,CAACyM,EAAKvM,IACd,kBAACwM,GAAA,EAAD,CACEvM,IAAKD,EACLjI,UAAWwR,EAAQkD,OACnB9N,MAAM,UACNG,UAAW4N,IACXC,GAAIJ,EACJtU,MAAOsU,EACPlU,MAAOkU,KAGVpP,EACC,kBAACqP,GAAA,EAAD,CACEzU,UAAWwR,EAAQkD,OACnB9N,MAAM,UACNG,UAAW4N,IACXC,GAAG,SACH7T,QAASkT,EACT/T,MAAK,kBAAakF,EAAY1F,SAAzB,MACLY,MAAO,WAGT,kBAACmU,GAAA,EAAD,CACEzU,UAAWwR,EAAQkD,OACnB9N,MAAM,UACNG,UAAW4N,IACXC,GAAG,SACH1U,MAAO,QACPI,MAAO,c,OCmFNuU,OAhIH,KACV,OAAO,KAAElX,EAAF,QAAQM,EAAR,aAAiBE,GAAgBiB,GAAYb,KAC7C6G,EAAaC,GAAkBzF,mBAAS,MAE/CgG,oBAAU,KACR,MAAMkP,EACJ1T,OAAOC,eAAekE,QAAQ,kBAChC,GAAIuP,EAAgB,CAClB,MAAMnX,EAAO4D,KAAK+D,MAAMwP,GACxBzP,EAAe1H,KAEhB,CAACA,IAEJ,MAAMsW,EAAe,SAAUnQ,GAC7BA,EAAE5C,iBAcF,OADAhC,EAZgB8B,UACVO,KAAK+D,MAAMlE,OAAOC,eAAekE,QAAQ,cACvCH,EAAY2P,OACdlP,EAAmB,CAAEC,QAASV,EAAYrF,KAG9CX,EAAS1B,EAAQ,OACjB0D,OAAOC,eAAe2T,QACtB3P,EAAe,YACGlE,EAAalC,OAAOmG,IAGfhG,GAClB,MAgBT,OAAoB,OAAhBgG,EAEA,6BACE,yBAAKjF,MAAO,CAAEoE,OAAQ,OAAQ0Q,UAAW,SACvC,kBAAC,GAAD,CAAchX,QAASA,IACvB,kBAAC,GAAD,CAAmBE,aAAcA,KAEnC,kBAAC,EAAD,OAMJ,6BACGiH,EAAY2P,MACX,kBAAC,GAAD,CACEf,KA3BU,CAChB,OACA,SACA,eACA,UACA,SACA,iBACA,eACA,sBAoBMC,aAAcA,EACd7O,YAAaA,IAGf,kBAAC,GAAD,CACE4O,KAAM,CAAC,OAAQ,UACfC,aAAcA,EACd7O,YAAaA,IAGjB,yBAAKjF,MAAO,CAAEoE,OAAQ,OAAQ0Q,UAAW,UAIxC7P,EAAY2P,MACX,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOG,KAAK,iBACV,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,iBACV,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,uBACV,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,mBACV,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,WACV,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,WACV,kBAAC,EAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,YACV,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,UACV,kBAAC,EAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,SACV,kBAAC,EAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,KACV,kBAAC,EAAD,QAIJ,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOA,KAAK,WACV,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,UACV,kBAAC,EAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,SACV,kBAAC,EAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,KACV,kBAAC,EAAD,UCvIZC,IAASC,OACP,kBAAC,IAAD,KACE,mBxCMyB,SAAC,GAGvB,IAFLC,EAEI,EAFJA,QACAC,EACI,EADJA,SACI,EACsBC,qBAAWF,EAASjX,GAD1C,mBACGoX,EADH,KACUpW,EADV,KAEJ,OACE,kBAACf,EAAaoX,SAAd,CAAuBnV,MAAO,CAACkV,EAAOpW,IACnCkW,KwCbH,CAAeD,QzCiBI,SAACG,EAAOjL,GAC7B,OAAQA,EAAO3M,MACb,IAAK,WACH,OAAO,eACF4X,EADL,CAEE7X,KAAM4M,EAAO1M,UAEjB,IAAK,aACH,OAAO,eACF2X,EADL,CAEEzX,OAAQwM,EAAO1M,UAEnB,IAAK,cACH,OAAO,eACF2X,EADL,CAEEvX,QAASsM,EAAO1M,UAEpB,IAAK,oBACH,OAAO,eACF2X,EADL,CAEErX,aAAcoM,EAAO1M,UAEzB,QACE,OAAO2X,KyCvCP,kBAAC,GAAD,QAGJvT,SAASC,eAAe,U,mBCZ1B1E,EAAOC,QAAU,IAA0B,yC","file":"static/js/main.9ec7b0f6.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/butterflyBlobChanged.297834df.png\";","module.exports = __webpack_public_path__ + \"static/media/login.c8b5353b.png\";","module.exports = __webpack_public_path__ + \"static/media/acoustic_manipulation.9ef364a9.jpg\";","export const setUser = (user) => {\n  return {\n    type: 'SET_USER',\n    payload: user,\n  };\n};\nexport const setCamera = (camera) => {\n  return {\n    type: 'SET_CAMERA',\n    payload: camera,\n  };\n};\nexport const setMessage = (message) => {\n  return {\n    type: 'SET_MESSAGE',\n    payload: message,\n  };\n};\nexport const setErrorMessage = (errorMessage) => {\n  return {\n    type: 'SET_ERROR_MESSAGE',\n    payload: errorMessage,\n  };\n};\n\nexport const reducer = (state, action) => {\n  switch (action.type) {\n    case 'SET_USER':\n      return {\n        ...state,\n        user: action.payload,\n      };\n    case 'SET_CAMERA':\n      return {\n        ...state,\n        camera: action.payload,\n      };\n    case 'SET_MESSAGE':\n      return {\n        ...state,\n        message: action.payload,\n      };\n    case 'SET_ERROR_MESSAGE':\n      return {\n        ...state,\n        errorMessage: action.payload,\n      };\n    default:\n      return state;\n  }\n};\n","import React, { createContext, useContext, useReducer } from 'react';\n\nconst initialState = {\n  user: null,\n  camera: null,\n  message: null,\n  errorMessage: null,\n};\n\nexport const StateContext = createContext([\n  initialState,\n  () => initialState,\n]); \n\nexport const StateProvider = ({\n  reducer,\n  children,\n}) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  return (\n    <StateContext.Provider value={[state, dispatch]}>\n      {children}\n    </StateContext.Provider>\n  );\n};\nexport const useStateValue = () => useContext(StateContext);\n","import axios from 'axios';\n\nconst login = async (credentials) => {\n  // console.log(\n  //   `login ${Object.values(credentials)} ${credentials.username}`\n  // );\n  const response = await axios.post('/api/auth/login', credentials);\n  return response.data;\n};\nconst register = async (credentials) => {\n  const response = await axios.post(\n    '/api/auth/register',\n    credentials\n  );\n  return response.data;\n};\n\nconst logout = async (credentials) => {\n  const response = await axios.post('/api/auth/logout', credentials);\n  return response.data;\n};\n\nexport default { login, register, logout };\n","import { setMessage, setErrorMessage } from '../state';\n\nconst serviceDispatch = async (service, dispatch) => {\n  try {\n    let res = await service();\n    dispatch(setMessage(res?.message));\n    setTimeout(() => {\n      dispatch(setMessage(null));\n    }, 3000);\n  } catch (error) {\n    dispatch(setErrorMessage(error.response?.data?.message));\n    setTimeout(() => {\n      dispatch(setErrorMessage(null));\n    }, 3000);\n  }\n};\n\nexport default serviceDispatch;\n","import React, { useState } from 'react';\nimport loginService from '../../services/login';\nimport { TextField, Button } from '@material-ui/core';\nimport { useHistory } from 'react-router-dom';\nimport {useStateValue,setUser} from '../../state';\nimport serviceDispatch from '../../utils/serviceDispatch';\n\nconst SignIn = () => {\n  const [, dispatch] = useStateValue();\n  const history = useHistory();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n\n  const handleSignIn = async (event) => {\n    event.preventDefault();\n    setUsername('');\n    setPassword('');\n    const service = async () => {\n      const res = await loginService.login({\n        username,\n        password,\n      });\n      window.sessionStorage.setItem(\n        'loggedBlogUser',\n        JSON.stringify(res.data)\n      );\n      window.sessionStorage.setItem('tab', 'home');\n      dispatch(setUser(res.data));\n      history.push('/');\n      return res;\n    };\n    serviceDispatch(service, dispatch);\n  };\n\n  return (\n    <div>\n      <div id='signIn' className='signIn_default'>\n        <div>\n          <TextField\n            label='username'\n            style={{ margin: 8 }}\n            placeholder=''\n            value={username}\n            onChange={({ target }) => setUsername(target.value)}\n            helperText='Please input your user name'\n            fullWidth\n            margin='normal'\n            InputLabelProps={{\n              shrink: true,\n            }}\n          />\n        </div>\n        <div>\n          <TextField\n            label='password'\n            style={{ margin: 8 }}\n            placeholder=''\n            type='password'\n            value={password}\n            onChange={({ target }) => setPassword(target.value)}\n            helperText='Please input your password'\n            fullWidth\n            margin='normal'\n            InputLabelProps={{\n              shrink: true,\n            }}\n          />\n        </div>\n        <div>\n          <Button\n            variant='outlined'\n            id='signIn-button'\n            onClick={handleSignIn}\n          >\n            confirm\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SignIn;\n","import React, { useState } from 'react';\nimport loginService from '../../services/login';\nimport { TextField, Button } from '@material-ui/core';\nimport { useHistory } from 'react-router-dom';\nimport {\n  useStateValue,\n  setUser,\n  setMessage,\n  setErrorMessage,\n} from '../../state';\n\nconst SignUp = () => {\n  const [, dispatch] = useStateValue();\n  const history = useHistory();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [passwordRepeat, setPasswordRepeat] = useState('');\n\n  const handleSignUp = async (event) => {\n    event.preventDefault();\n    if (password !== passwordRepeat) {\n      setUsername('');\n      setPassword('');\n      setPasswordRepeat('');\n      dispatch(\n        setErrorMessage(\n          'passwords must be the same, please try again.'\n        )\n      );\n      setTimeout(() => {\n        dispatch(setErrorMessage(null));\n      }, 3000);\n    } else {\n      try {\n        const res = await loginService.register({\n          username,\n          password,\n        });\n        window.sessionStorage.setItem(\n          'loggedBlogUser',\n          JSON.stringify(res.data)\n        );\n        window.sessionStorage.setItem('tab', 'home');\n        setUsername('');\n        setPassword('');\n        dispatch(setUser(res.data));\n        dispatch(\n          setMessage(\n            `${res.data.username} have successfully sing up!`\n          )\n        );\n        history.push('/');\n        setTimeout(() => {\n          dispatch(setMessage(null));\n        }, 3000);\n      } catch (error) {\n        setUsername('');\n        setPassword('');\n        dispatch(setErrorMessage(error.response?.data?.message));\n        setPasswordRepeat('');\n        setTimeout(() => {\n          dispatch(setErrorMessage(null));\n        }, 3000);\n      }\n    }\n  };\n\n  return (\n    <div id='signUp' className='signUp_default'>\n      <div>\n        <TextField\n          label='username'\n          style={{ margin: 8 }}\n          placeholder=''\n          value={username}\n          onChange={({ target }) => setUsername(target.value)}\n          helperText='Please input your user name'\n          fullWidth\n          margin='normal'\n          InputLabelProps={{\n            shrink: true,\n          }}\n        />\n      </div>\n      <div>\n        <TextField\n          label='password'\n          style={{ margin: 8 }}\n          placeholder=''\n          type='password'\n          value={password}\n          onChange={({ target }) => setPassword(target.value)}\n          helperText='Please input your password'\n          fullWidth\n          margin='normal'\n          InputLabelProps={{\n            shrink: true,\n          }}\n        />\n      </div>\n      <div>\n        <TextField\n          label='password repeat'\n          style={{ margin: 8 }}\n          placeholder=''\n          type='password'\n          value={passwordRepeat}\n          onChange={({ target }) => setPasswordRepeat(target.value)}\n          helperText='Please repeat your password'\n          fullWidth\n          margin='normal'\n          InputLabelProps={{\n            shrink: true,\n          }}\n        />\n      </div>\n      <div>\n        <Button\n          variant='outlined'\n          id='signIn-button'\n          onClick={handleSignUp}\n        >\n          confirm\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default SignUp;\n","import React from 'react';\nimport { Button } from '@material-ui/core';\nimport loginImageUrl from '../../images/login.png';\nimport SignIn from './SignIn';\nimport SignUp from './SignUp';\nimport './Login.css';\n\nconst Login = () => {\n  const preHandler = () => {\n    const loginButtons = document.getElementById('loginButtons');\n    const showDisplayButtons = loginButtons.style.display === 'block';\n    loginButtons.style.display = showDisplayButtons\n      ? 'none'\n      : 'block';\n    const login_header = document.getElementById('login_header');\n    const shownLogin_header = login_header.style.display === 'block';\n    login_header.style.display = shownLogin_header ? 'none' : 'block';\n  };\n  const showSignInform = () => {\n    preHandler();\n    const element = document.getElementById('signIn');\n    element.classList.toggle('signIn');\n  };\n  const showSignUpform = () => {\n    preHandler();\n    const element = document.getElementById('signUp');\n    element.classList.toggle('signUp');\n  };\n\n  return (\n    <div className='login'>\n      <div\n        className='login_header'\n        id='login_header'\n        style={{ display: 'block' }}\n      >\n        <img src={loginImageUrl} alt='login' />\n        <h1>AcoBot Web Application</h1>\n      </div>\n\n      <div id='loginButtons' style={{ display: 'block' }}>\n        <Button onClick={showSignInform} id='signInButton'>\n          Sign in\n        </Button>\n        <Button onClick={showSignUpform} id='signUpButton'>\n          Sign up\n        </Button>\n      </div>\n      <SignIn />\n      <SignUp />\n    </div>\n  );\n};\n\nexport default Login;\n","import  Login  from './Login'\n\nexport default Login","import axios from 'axios';\n\nconst start = async (credentials) => {\n  const response = await axios.post(\n    '/api/camera/start_camera',\n    credentials\n  );\n  return response.data;\n};\nconst getCropCords = async (credentials) => {\n  const response = await axios.post(\n    '/api/camera/get_crop_cords',\n    credentials\n  );\n  return response.data;\n};\nconst stop = async (credentials) => {\n  const response = await axios.post(\n    '/api/camera/stop_camera',\n    credentials\n  );\n  return response.data;\n};\nconst crop = async (credentials) => {\n  const response = await axios.post(\n    '/api/camera/crop_camera',\n    credentials\n  );\n  return response.data;\n};\nconst start_record = async () => {\n  const response = await axios.post('/api/camera/start_record');\n  return response.data;\n};\nconst stop_record = async () => {\n  const response = await axios.post('/api/camera/stop_record');\n  return response.data;\n};\nconst get_files = async () => {\n  const response = await axios.get('/api/camera/get_videoFileNames');\n  return response.data;\n};\nconst video_fromFile = async (credentials) => {\n  const response = await axios.post(\n    '/api/camera/set_videoFile',\n    credentials\n  );\n  return response.data;\n};\nconst video_feedFromFile = () => {\n  axios.get('/api/camera/video_feedFromFile');\n};\nexport default {\n  start,\n  stop,\n  crop,\n  getCropCords,\n  start_record,\n  stop_record,\n  get_files,\n  video_fromFile,\n  video_feedFromFile,\n};\n","const boxSelection = (obj, setCropCoords) => {\n  /** boxSelection is used to draw a selected box area over a obj\n   *  and set the scaled [0,1] cropCoords by using setCropCoords function\n   */\n  let cropCoords = {\n    left: parseFloat(0),\n    top: parseFloat(0),\n    right: parseFloat(1),\n    bottom: parseFloat(1),\n  };\n  let x = 0,\n    y = 0,\n    old_x = 0,\n    old_y = 0,\n    target = null;\n  let showDrag = false;\n  if (obj) {\n    const parent = document.getElementById('containerDiv');\n    const boxDiv = document.getElementById('boxDiv');\n\n    parent.addEventListener('mousedown', function (e) {\n      target = e.target.getBoundingClientRect();\n      old_x = e.clientX - target.left;\n      old_y = e.clientY - target.top;\n      showDrag = true;\n      e.preventDefault();\n    });\n    parent.addEventListener('mousemove', function (e) {\n      if (showDrag) {\n        x = e.clientX - target.left;\n        y = e.clientY - target.top;\n        const boxLeft = x > old_x ? old_x : x;\n        const boxTop = y > old_y ? old_y : y;\n        const boxWidth = x > old_x ? x - old_x : old_x - x;\n        const boxHeight = y > old_y ? y - old_y : old_y - y;\n        boxDiv.style.display = 'block';\n        boxDiv.style.left = boxLeft + 'px';\n        boxDiv.style.top = boxTop + 'px';\n        boxDiv.style.width = boxWidth + 'px';\n        boxDiv.style.height = boxHeight + 'px';\n      }\n      e.preventDefault();\n    });\n    parent.addEventListener('mouseup', function (e) {\n      showDrag = false;\n      cropCoords.left = Math.max(\n        Math.min(old_x, x) / target.width,\n        0\n      );\n      cropCoords.top = Math.max(\n        Math.min(old_y, y) / target.height,\n        0\n      );\n      cropCoords.right = Math.min(\n        Math.max(old_x, x) / target.width,\n        1\n      );\n      cropCoords.bottom = Math.min(\n        Math.max(old_y, y) / target.height,\n        1\n      );\n      setCropCoords(cropCoords);\n\n      setTimeout(() => {\n        boxDiv.style.display = 'none';\n      }, 3000);\n      e.preventDefault();\n    });\n  }\n};\n\nexport default boxSelection;\n","import React, { useState, useEffect } from 'react';\nimport {\n  Button,\n  Switch,\n  FormControlLabel,\n  ButtonGroup,\n  TextField,\n} from '@material-ui/core';\nimport cameraService from '../../services/camera';\nimport videoImageUrl from '../../images/videoStart.png';\nimport boxSelection from '../../utils/boxSelection';\nimport serviceDispatch from '../../utils/serviceDispatch';\nimport { useStateValue, setCamera } from '../../state';\n\nconst Camera = () => {\n  const [{ camera }, dispatch] = useStateValue();\n  const [disabledStart, setDisabledStart] = useState(false);\n  const [selectedVideo, setSelectedVideo] = useState();\n  const [videoFiles, setVideoFiles] = useState([]);\n  const [cameraStorage, setCameraStorage] = useState(false);\n  const [userStorage, setUserStorage] = useState(\n    JSON.parse(window.sessionStorage.getItem('loggedBlogUser'))\n  );\n  const [checked, setChecked] = useState(\n    JSON.parse(window.sessionStorage.getItem('isCamera')) ?? false\n  );\n  const [cropCoordsOLD, setCropCoordsOLD] = useState();\n  const [cropCoords, setCropCoords] = useState({\n    left: parseFloat(0),\n    top: parseFloat(0),\n    right: parseFloat(1),\n    bottom: parseFloat(1),\n  });\n  useEffect(() => {\n    const service = async () => {\n      const res = await cameraService.getCropCords({\n        user_id: userStorage.id,\n      });\n      if (res?.data) {\n        const variable = {\n          left: res.data.left,\n          top: res.data.top,\n          right: res.data.right,\n          bottom: res.data.bottom,\n        };\n        setCropCoordsOLD(variable);\n      }\n      return res;\n    };\n    serviceDispatch(service, dispatch);\n  }, [userStorage.id, dispatch]);\n  /**apply boxSelection function to the image object, so that the user can crop the image by select a box area of an image */\n  useEffect(() => {\n    setTimeout(() => {\n      const obj = document.getElementById('video_in_auth_page');\n      if (obj) boxSelection(obj, setCropCoords);\n    }, 1000);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [document.getElementById('video_in_auth_page')]);\n\n  useEffect(() => {\n    const isCamera = window.sessionStorage.getItem('isCamera');\n    if (isCamera) {\n      setCameraStorage(JSON.parse(isCamera));\n    }\n    const loggedUser =\n      window.sessionStorage.getItem('loggedBlogUser');\n    if (loggedUser) {\n      setUserStorage(JSON.parse(loggedUser));\n    }\n    if (camera) {\n      setTimeout(() => {\n        document.getElementById('video_in_auth_page').src =\n          'api/camera/video_feed';\n      }, 500);\n    }\n  }, [camera]);\n\n  const preHandler = (e) => {\n    e.preventDefault();\n    const boxDiv = document.getElementById('boxDiv');\n    if (boxDiv) {\n      boxDiv.style.display = 'none';\n    }\n  };\n\n  const handleStartRecord = async (event) => {\n    const service = async () => {\n      setDisabledStart(true);\n      const res = await cameraService.start_record();\n      return res;\n    };\n    preHandler(event);\n    serviceDispatch(service, dispatch);\n  };\n\n  const handleStopRecord = async (event) => {\n    const service = async () => {\n      setDisabledStart(false);\n      const res = await cameraService.stop_record();\n      return res;\n    };\n    preHandler(event);\n    serviceDispatch(service, dispatch);\n  };\n  const handleLoadVideo = async (event) => {\n    const service = async () => {\n      const selectDiv = document.getElementById('videoFileSelection');\n      selectDiv.style.display = 'block';\n      const res = await cameraService.get_files();\n      setVideoFiles(res?.data);\n      return res;\n    };\n    preHandler(event);\n    serviceDispatch(service, dispatch);\n  };\n\n  const handleSelectFile = async (event) => {\n    const service = async () => {\n      const listItem = document.getElementById('imgFile');\n      const newItem = document.createElement('img');\n      listItem.parentNode.replaceChild(newItem, listItem);\n      newItem.src = videoImageUrl;\n      setSelectedVideo(event.target.value);\n      await cameraService.video_fromFile({\n        filename: event.target.value,\n      });\n      newItem.id = 'imgFile';\n      newItem.style = {\n        marginLeft: 'auto',\n        marginRight: 'auto',\n        width: '800px',\n        height: '600px',\n      };\n      setTimeout(() => {\n        newItem.src = '/api/camera/video_feedFromFile';\n      }, 300);\n      const selectDiv = document.getElementById('videoFileSelection');\n      selectDiv.style.display = 'none';\n    };\n    serviceDispatch(service, dispatch);\n    preHandler(event);\n  };\n\n  const handleCrop = async (event) => {\n    /**connect to the backend to crop the camera */\n    const data = {\n      left:\n        cropCoordsOLD.left +\n        cropCoords.left * (cropCoordsOLD.right - cropCoordsOLD.left),\n      top:\n        cropCoordsOLD.top +\n        cropCoords.top * (cropCoordsOLD.bottom - cropCoordsOLD.top),\n      right:\n        cropCoordsOLD.left +\n        cropCoords.right * (cropCoordsOLD.right - cropCoordsOLD.left),\n      bottom:\n        cropCoordsOLD.top +\n        cropCoords.bottom *\n          (cropCoordsOLD.bottom - cropCoordsOLD.top),\n    };\n    setCropCoordsOLD(data);\n    const service = async () => {\n      const res = await cameraService.crop({\n        user_id: userStorage.id,\n        coords: data,\n      });\n      return res;\n    };\n    preHandler(event);\n    serviceDispatch(service, dispatch);\n  };\n\n  const handleRevertCrop = async (event) => {\n    /**connect to the backend to revert cropping the camera */\n\n    const service = async () => {\n      setCropCoordsOLD({\n        left: parseFloat(0),\n        top: parseFloat(0),\n        right: parseFloat(1),\n        bottom: parseFloat(1),\n      });\n      setCropCoords({\n        left: parseFloat(0),\n        top: parseFloat(0),\n        right: parseFloat(1),\n        bottom: parseFloat(1),\n      });\n      const res = await cameraService.crop({\n        user_id: userStorage.id,\n        coords: {\n          left: parseFloat(0.000001),\n          top: parseFloat(0.000001),\n          right: parseFloat(0.999999),\n          bottom: parseFloat(0.999999),\n        },\n      });\n      return res;\n    };\n    preHandler(event);\n    serviceDispatch(service, dispatch);\n  };\n\n  const handleCameraStartStop = async (event) => {\n    const service = async () => {\n      const res = checked\n        ? await cameraService.stop({ user_id: userStorage.id })\n        : await cameraService.start({ user_id: userStorage.id });\n      dispatch(setCamera(!checked));\n      window.sessionStorage.setItem(\n        'isCamera',\n        JSON.stringify(!checked)\n      );\n      return res;\n    };\n\n    setChecked((prev) => !prev);\n    preHandler(event);\n    await serviceDispatch(service, dispatch);\n    const boxDiv = document.getElementById('boxDiv');\n    if (boxDiv) {\n      boxDiv.style.display = 'none';\n    }\n    window.location.reload();\n  };\n\n  return (\n    <div\n      className='camera'\n      style={{ marginLeft: '5%', width: '90%' }}\n    >\n      <FormControlLabel\n        control={\n          <Switch\n            checked={checked}\n            onChange={handleCameraStartStop}\n            name='camera'\n          />\n        }\n        label='camera'\n        labelPlacement='bottom'\n      />\n      {cameraStorage ? (\n        <div>\n          <ButtonGroup\n            color='primary'\n            aria-label='outlined primary button group'\n          >\n            <Button\n              id='cropButton'\n              onClick={handleCrop}\n              variant='contained'\n              color='primary'\n              component='span'\n            >\n              crop\n            </Button>\n            <Button\n              id='cropButton'\n              onClick={handleRevertCrop}\n              variant='contained'\n              color='primary'\n              component='span'\n            >\n              revert crop\n            </Button>\n            <Button\n              id='startRecordButton'\n              variant='contained'\n              onClick={handleStartRecord}\n              color='primary'\n              component='span'\n              disabled={disabledStart}\n            >\n              start record\n            </Button>\n            <Button\n              id='stopRecordButton'\n              variant='contained'\n              onClick={handleStopRecord}\n              color='primary'\n              component='span'\n              disabled={!disabledStart}\n            >\n              stop record\n            </Button>\n          </ButtonGroup>\n          <br />\n          <div\n            id='containerDiv'\n            style={{\n              display: 'inline-block',\n              position: 'relative',\n              cursor: 'pointer',\n            }}\n          >\n            <img\n              id='video_in_auth_page'\n              src='api/camera/video_feed'\n              alt='video'\n              style={{ width: '800px', height: '800px' }}\n            />\n            <div\n              id='boxDiv'\n              style={{\n                display: 'none',\n                position: 'absolute',\n                border: '2px solid red',\n              }}\n            ></div>\n          </div>\n        </div>\n      ) : (\n        <div>\n          <Button\n            variant='contained'\n            color='primary'\n            component='span'\n            onClick={handleLoadVideo}\n          >\n            load video from file\n          </Button>\n          <span id='videoFileSelection' style={{ display: 'none' }}>\n            <TextField\n              select\n              value={selectedVideo}\n              onChange={handleSelectFile}\n              SelectProps={{\n                native: true,\n              }}\n            >\n              <option aria-label='None' value='' />\n              {videoFiles.map((option, index) => (\n                <option key={index} value={option}>\n                  {option}\n                </option>\n              ))}\n            </TextField>\n          </span>\n          <br />\n          <div>\n            <img\n              id='imgFile'\n              src={videoImageUrl}\n              alt='camera'\n              style={{\n                marginLeft: 'auto',\n                marginRight: 'auto',\n                width: '800px',\n                height: '800px',\n              }}\n            />\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Camera;\n","import  Camera  from './Camera'\n\nexport default Camera","import React from 'react';\nimport acousticImg from '../../images/acoustic_manipulation.jpg';\n\nconst Home = () => {\n  return (\n    <div\n      className='home-container'\n      style={{ marginLeft: '5%', width: '90%' }}\n    >\n      <h1 style={{ textAlign: 'center' }}>\n        Welcome to AcoBot web platform!\n      </h1>\n      <div\n        style={{\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n          justifyContent: 'center',\n        }}\n      >\n        <img src={acousticImg} alt='acoustic manipulation' />\n        <div>\n          Vibrating silicon plate for particle manipulation, concept\n          illustration. | Photo by Quan Zhou/Aalto University\n          <br />\n          For more information, visit{' '}\n          <a href='https://www.aalto.fi/en/department-of-electrical-engineering-and-automation/acoustic-and-vibration-field-based-manipulation'>\n            https://www.aalto.fi/en/department-of-electrical-engineering-and-automation/acoustic-and-vibration-field-based-manipulation\n          </a>\n          {' and '}\n          <a href='https://ieeexplore.ieee.org/document/8001920'>\n            https://ieeexplore.ieee.org/document/8001920\n          </a>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n","import  Home  from './Home'\n\nexport default Home","import axios from 'axios';\n\nconst playSignal = async (credentials) => {\n  const response = await axios.post(\n    '/api/command/playSignal',\n    credentials\n  );\n  return response.data;\n};\nconst generateSignal = async (credentials) => {\n  const response = await axios.post(\n    '/api/command/generateSignal',\n    credentials\n  );\n  return response.data;\n};\nconst command = async (credentials) => {\n  const response = await axios.post(\n    '/api/command/command',\n    credentials\n  );\n  return response.data;\n};\nconst getCommands = async () => {\n  const response = await axios.get(\n    '/api/command/getCommands'\n  );\n  return response.data;\n};\nexport default { playSignal, generateSignal, command, getCommands };\n","import React from 'react';\r\nimport AceEditor from 'react-ace';\r\n\r\nimport 'ace-builds/src-noconflict/mode-python';\r\nimport 'ace-builds/src-noconflict/theme-solarized_light';\r\nimport 'ace-builds/src-noconflict/ext-language_tools';\r\n\r\nconst CodeEditor = ({ value,setValue }) => {\r\n  return (\r\n    <AceEditor\r\n      id='ace-builds'\r\n      mode='python'\r\n      theme='solarized_light'\r\n      value={value}\r\n      onChange={setValue}\r\n      name='UNIQUE_ID_OF_DIV'\r\n      fontSize={18}\r\n      style={ {\r\n        // height: '620px',\r\n        width: '100%',\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default CodeEditor;\r\n","import React, { useState, useEffect } from 'react';\nimport { Button } from '@material-ui/core';\nimport Alert from '@mui/material/Alert';\nimport IconButton from '@mui/material/IconButton';\nimport Collapse from '@mui/material/Collapse';\nimport CloseIcon from '@material-ui/icons/Close';\nimport commandService from '../../services/command';\nimport serviceDispatch from '../../utils/serviceDispatch';\nimport { useStateValue } from '../../state';\nimport CodeEditor from './CodeEditor';\nimport './Command.css';\nimport io from 'socket.io-client';\nconst socket = io('http://localhost:5000/command');\n\nconst Command = () => {\n  const [commandStr, setCommandStr] = useState('');\n  const [, dispatch] = useStateValue();\n  const [commandList, setCommandList] = useState([]);\n  const [open, setOpen] = useState(false);\n  const [info, setInfo] = useState('');\n\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      socket.emit('commandInfoClose');\n      return;\n    }\n    setOpen(false);\n    socket.emit('commandInfoClose');\n  };\n\n  useEffect(() => {\n    socket.on('commandInfo', function (msg) {\n      setOpen(true);\n      setInfo(msg);\n    });\n  }, []);\n\n  const handleSubmitCommand = async (event) => {\n    event.preventDefault();\n    const service = async () => {\n      let res = null;\n      res = await commandService.command({ commandStr });\n      return res;\n    };\n    serviceDispatch(service, dispatch);\n  };\n  const toggleDisplay = (id) => {\n    const selectDiv = document.getElementById(id);\n    if (selectDiv.style.display === 'none') {\n      selectDiv.style.display = 'block';\n    } else {\n      selectDiv.style.display = 'none';\n    }\n  };\n\n  useEffect(() => {\n    const service = async () => {\n      const res = await commandService.getCommands();\n      if (res?.data) setCommandList(res?.data);\n      return res;\n    };\n    serviceDispatch(service, dispatch);\n  }, [dispatch]);\n\n  return (\n    <div style={{marginLeft: '5%',width: '90%'}}>\n      <Collapse in={open}>\n        <Alert\n          severity='info'\n          action={\n            <IconButton\n              aria-label='close'\n              color='inherit'\n              size='small'\n              onClick={handleClose}\n            >\n              <CloseIcon fontSize='inherit' />\n            </IconButton>\n          }\n          sx={{ width: '80%' }}\n        >\n          {info}\n        </Alert>\n      </Collapse>\n      <form>\n        <CodeEditor value={commandStr} setValue={setCommandStr} />\n        <Button\n          onClick={handleSubmitCommand}\n          variant='contained'\n          color='primary'\n          component='span'\n        >\n          submit\n        </Button>\n        <Button\n          onClick={() => toggleDisplay('commandInfo')}\n          variant='contained'\n          color='primary'\n          component='span'\n        >\n          command list\n        </Button>\n      </form>\n      <div>\n        <ul id={'commandInfo'} style={{ display: 'none' }}>\n          <h1>Command List </h1>\n          {commandList.map((command, index) => (\n            <li\n              key={index}\n              onClick={() =>\n                toggleDisplay(`index_${command.functionName}`)\n              }\n            >\n              <h2>{command.functionName}</h2>\n              <div\n                id={`index_${command.functionName}`}\n                style={{ display: 'none' }}\n              >\n                <ul>\n                  {Object.keys(command).map((item, index) => {\n                    return (\n                      <li\n                        key={index}\n                      >{`${item}: ${command[item]}`}</li>\n                    );\n                  })}\n                </ul>\n              </div>\n            </li>\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n};\n\nexport default Command;\n","import  Command  from './Command'\n\nexport default Command","import axios from 'axios';\n\nconst start = async (credentials) => {\n  const response = await axios.post('/api/ampExp/start', credentials);\n  return response.data;\n};\nconst stop = async (credentials) => {\n  const response = await axios.post('/api/ampExp/stop', credentials);\n  return response.data;\n};\nconst getParameters = async (credentials) => {\n  const response = await axios.post(\n    '/api/ampExp/getParameters',\n    credentials\n  );\n  return response.data;\n};\nconst setParameters = async (credentials) => {\n  const response = await axios.post(\n    '/api/ampExp/setParameters',\n    credentials\n  );\n  return response.data;\n};\n\n\nexport default {\n  start,\n  stop,\n  getParameters,\n  setParameters,\n};\n","import React from 'react';\r\nimport { Button, Slider, TextField } from '@material-ui/core';\r\n\r\nconst Drawer = ({\r\n  closeDrawer,\r\n  paraInfo,\r\n  parameters,\r\n  setParameters,\r\n  handleSetParameters,\r\n}) => {\r\n  const handleChangeContinuous = (name) => (event, newValue) => {\r\n    setParameters({\r\n      ...parameters,\r\n      [name]: newValue,\r\n    });\r\n  };\r\n  const style1 = {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n  };\r\n  const list = () => (\r\n    <div style={{ marginLeft: '5%', width: '90%' }}>\r\n      <div>\r\n        {paraInfo\r\n          .filter((para) => para.type === 'string')\r\n          .map((para, index) => (\r\n            <div key={index} style={style1}>\r\n              <span>{para.name}:</span>\r\n              <TextField\r\n                helperText={para.description}\r\n                value={parameters[`${para.name}`]}\r\n                onChange={(event) => {\r\n                  setParameters({\r\n                    ...parameters,\r\n                    [para.name]: event.target.value,\r\n                  });\r\n                }}\r\n              />\r\n            </div>\r\n          ))}\r\n      </div>\r\n      <div>\r\n        {paraInfo\r\n          .filter((para) => para.type === 'selection')\r\n          .map((para, index) => (\r\n            <div key={index} style={style1}>\r\n              <span>{para.name}:</span>\r\n              <div>\r\n                <TextField\r\n                  select\r\n                  value={String(parameters[`${para.name}`])}\r\n                  onChange={(event) => {\r\n                    setParameters({\r\n                      ...parameters,\r\n                      [para.name]: event.target.value,\r\n                    });\r\n                  }}\r\n                  SelectProps={{\r\n                    native: true,\r\n                  }}\r\n                >\r\n                  {para.selection.map((option) => (\r\n                    <option key={option.value} value={option.value}>\r\n                      {option.label}\r\n                    </option>\r\n                  ))}\r\n                </TextField>\r\n              </div>\r\n            </div>\r\n          ))}\r\n      </div>\r\n      <br />\r\n      <br />\r\n      <div>\r\n        {paraInfo\r\n          .filter((para) => para.type === 'continuous')\r\n          .map((para, index) => (\r\n            <div key={index}>\r\n              <span>{para.name}</span>\r\n              <Slider\r\n                size='large'\r\n                min={para.min}\r\n                max={para.max}\r\n                defaultValue={para.value}\r\n                value={parameters[para.name]}\r\n                name={para.name}\r\n                step={para.step}\r\n                valueLabelDisplay='auto'\r\n                onChange={handleChangeContinuous(para.name)}\r\n                aria-labelledby='Default'\r\n                marks={[\r\n                  { value: para.min, label: para.min },\r\n                  { value: para.max, label: para.max },\r\n                ]}\r\n              />\r\n            </div>\r\n          ))}\r\n      </div>\r\n      <div\r\n        style={{\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'right',\r\n        }}\r\n      >\r\n        <Button\r\n          variant='contained'\r\n          color='primary'\r\n          onClick={closeDrawer}\r\n        >\r\n          close\r\n        </Button>\r\n        <Button\r\n          variant='contained'\r\n          color='secondary'\r\n          onClick={handleSetParameters}\r\n        >\r\n          submit\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return list();\r\n};\r\n\r\nexport default Drawer;\r\n","import React from 'react';\r\nimport { Button } from '@material-ui/core';\r\nimport AlertTitle from '@mui/material/AlertTitle';\r\nimport Alert from '@mui/material/Alert';\r\nimport Collapse from '@mui/material/Collapse';\r\n\r\nconst AlertForm = ({\r\n  open,\r\n  severity,\r\n  handleClose,\r\n  alertText,\r\n  buttonText,\r\n}) => {\r\n  return (\r\n    <Collapse in={open}>\r\n      <Alert\r\n        severity={severity}\r\n        action={\r\n          <Button color='inherit' size='small' onClick={handleClose}>\r\n            {buttonText}\r\n          </Button>\r\n        }\r\n        sx={{ width: '97,5%' }}\r\n        spacing={2}\r\n      >\r\n        <AlertTitle>{severity}</AlertTitle>\r\n        {alertText}\r\n      </Alert>\r\n    </Collapse>\r\n  );\r\n};\r\nexport default AlertForm;\r\n","import React, { useState, useEffect } from 'react';\nimport { Button, ButtonGroup } from '@material-ui/core';\nimport IconButton from '@mui/material/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Accordion from '@mui/material/Accordion';\nimport AccordionSummary from '@mui/material/AccordionSummary';\nimport AccordionDetails from '@mui/material/AccordionDetails';\nimport Typography from '@mui/material/Typography';\nimport ampExpService from '../../services/ampExp';\nimport serviceDispatch from '../../utils/serviceDispatch';\nimport { useStateValue } from '../../state';\nimport Drawer from './Drawer';\nimport AlertFrom from './AlertForm';\nimport './AmpExp.css';\nimport io from 'socket.io-client';\nconst socket = io('http://localhost:5000/amp');\nconst AmpExp = () => {\n  const [parameters, setParameters] = useState({\n    basescale: '[261.63, 293.66, 329.63, 349.23, 392, 440, 493.88]',\n    cycles: 5,\n    default_amp: 0.1,\n    desired_particles: 19,\n    desired_stepSize: 10,\n    duration: 500,\n    exps_before_reset: 10,\n    id: 'acoBot2_amptest5',\n    max_amp: 2,\n    max_increase: 1.5,\n    maxfreq: 1000,\n    min_amp: 0.01,\n    minfreq: 500,\n    simulate: 0,\n  });\n  // const paraInfo = [\n  //   {\n  //     name: 'simulate',\n  //     min: 0,\n  //     max: 1,\n  //     step: 1,\n  //     value: 0,\n  //     type: 'continuous',\n  //     description:\n  //       '1 = generated random images, 0 = get images over http',\n  //   },\n  //   {\n  //     name: 'id',\n  //     value: 'acoBot2_amptest5',\n  //     type: 'string',\n  //     description: 'Identifier of the experiment run',\n  //   },\n  //   {\n  //     name: 'desired_particles',\n  //     min: 1,\n  //     max: 100,\n  //     step: 1,\n  //     value: 19,\n  //     type: 'continuous',\n  //     description:\n  //       'How many particles should be on the plate, at least, for the experiment to start',\n  //   },\n  //   {\n  //     name: 'desired_stepSize',\n  //     min: 1,\n  //     max: 100,\n  //     step: 1,\n  //     value: 10,\n  //     type: 'continuous',\n  //     description:\n  //       'The experiment tries to adjust the amplitudes so that the 75% of the particles move less than thisHow many particles should be on the plate, at least, for the experiment to start',\n  //   },\n  //   {\n  //     name: 'cycles',\n  //     min: 1,\n  //     max: 100,\n  //     step: 1,\n  //     value: 5,\n  //     type: 'continuous',\n  //     description:\n  //       'For each frequency, how many PTV steps is taken in total. The total number of exps cycles * number of frequencies',\n  //   },\n  //   {\n  //     name: 'minfreq',\n  //     min: 100,\n  //     max: 1000,\n  //     step: 1,\n  //     value: 500,\n  //     type: 'continuous',\n  //     description:\n  //       'All notes from the scale below this frequency are discarded.',\n  //   },\n  //   {\n  //     name: 'maxfreq',\n  //     min: 500,\n  //     max: 2000,\n  //     step: 1,\n  //     value: 1000,\n  //     type: 'continuous',\n  //     description:\n  //       'All notes from the scale above this frequency are discarded.',\n  //   },\n  //   {\n  //     name: 'duration',\n  //     min: 100,\n  //     max: 1000,\n  //     step: 1,\n  //     value: 500,\n  //     type: 'continuous',\n  //     description: 'in milliseconds, constant for all notes.',\n  //   },\n  //   {\n  //     name: 'default_amp',\n  //     min: 0.005,\n  //     max: 1,\n  //     step: 0.001,\n  //     value: 0.1,\n  //     type: 'continuous',\n  //     description:\n  //       'starting amplitude: for 2*3*5 actuators = 0.02 for 2*3*20 actuators = 0.005',\n  //   },\n  //   {\n  //     name: 'min_amp',\n  //     min: 0.005,\n  //     max: 1,\n  //     step: 0.001,\n  //     value: 0.1,\n  //     type: 'continuous',\n  //     description: 'never decrease amplitude below this',\n  //   },\n  //   {\n  //     name: 'max_amp',\n  //     min: 1,\n  //     max: 10,\n  //     step: 0.01,\n  //     value: 2,\n  //     type: 'continuous',\n  //     description: 'never increase amplitude above this',\n  //   },\n  //   {\n  //     name: 'max_increase',\n  //     min: 0.1,\n  //     max: 3,\n  //     step: 0.001,\n  //     value: 1.5,\n  //     type: 'continuous',\n  //     description:\n  //       'never increase the amplitude more than 1.5 x from the previous experiment',\n  //   },\n  //   {\n  //     name: 'exps_before_reset',\n  //     min: 5,\n  //     max: 50,\n  //     step: 1,\n  //     value: 10,\n  //     type: 'continuous',\n  //     description:\n  //       'The balls are replaced to good locations every this many cycles',\n  //   },\n  //   {\n  //     name: 'basescale',\n  //     value:\n  //       '[261.63, 293.66, 329.63, 349.23, 392.00, 440.00, 493.88]',\n  //     type: 'selection',\n  //     selection: [\n  //       {\n  //         value:\n  //           '[261.63, 293.66, 329.63, 349.23, 392.00, 440.00, 493.88]',\n  //         label:\n  //           '[261.63, 293.66, 329.63, 349.23, 392.00, 440.00, 493.88]',\n  //       },\n  //       {\n  //         value:\n  //           '[261.63, 277.18, 293.66, 311.13, 329.63, 349.23, 369.99,392.0, 415.3, 440.0, 466.16, 493.88]',\n  //         label:\n  //           '[261.63, 277.18, 293.66, 311.13, 329.63, 349.23, 369.99,392.0, 415.3, 440.0, 466.16, 493.88]',\n  //       },\n  //     ],\n  //     description: 'c# major',\n  //   },\n  // ];\n  const [paraInfo, setParaInfo] = useState([]);\n  const [, dispatch] = useStateValue();\n  const [userStorage, setUserStorage] = useState(\n    JSON.parse(window.sessionStorage.getItem('loggedBlogUser'))\n  );\n  const [settingExpanded1, setSettingExpanded1] = useState(false);\n  const [settingExpanded2, setSettingExpanded2] = useState(false);\n  const [openInfo, setOpenInfo] = useState(false);\n  const [info, setInfo] = useState('');\n  const [openWarning, setOpenWarning] = useState(false);\n  const [warning, setWarning] = useState('');\n  const [openError, setOpenError] = useState(false);\n  const [error, setError] = useState('');\n  const handleClose = (event) => {\n    setOpenWarning(false);\n    socket.emit('startAgain');\n  };\n\n  useEffect(() => {\n    socket.on('startPause', function (msg) {\n      setOpenWarning(true);\n      setWarning(msg);\n    });\n    socket.on('error', function (msg) {\n      setOpenError(true);\n      setError(msg);\n    });\n    socket.on('warning', function (msg) {\n      setOpenWarning(true);\n      setWarning(msg);\n    });\n    socket.on('info', function (msg) {\n      setOpenInfo(true);\n      setInfo(msg);\n    });\n    socket.on('info_image', function (msg) {\n      console.log('info_image');\n      const image = document.getElementById('info_image_in_amp');\n      image.src = `data:image/jpg;base64,${msg}`;\n      const div = document.getElementById('div_info_image_in_amp');\n      div.style.display = 'block';\n      image.style.display = 'block';\n    });\n  }, []);\n\n  useEffect(() => {\n    const loggedUser =\n      window.sessionStorage.getItem('loggedBlogUser');\n    if (loggedUser) {\n      setUserStorage(JSON.parse(loggedUser));\n    }\n  }, []);\n\n  useEffect(() => {\n    const service = async () => {\n      const res = await ampExpService.getParameters({\n        user_id: userStorage.id,\n      });\n      if (res?.data) {\n        if (res?.data?.data) {\n          res.data.data.basescale = `[${res.data.data.basescale}]`;\n          setParameters(res.data.data);\n        }\n        if (res?.data?.paraInfo) setParaInfo(res.data.paraInfo);\n      }\n      return res;\n    };\n    serviceDispatch(service, dispatch);\n  }, [userStorage.id, dispatch]);\n  const closeInfoImage = () => {\n    const div = document.getElementById('div_info_image_in_amp');\n    if (div) div.style.display = 'none';\n    const image = document.getElementById('info_image_in_amp');\n    if (image) image.style.display = 'none';\n  };\n  const str2Arr = (command) => {\n    console.log(command);\n    const reSplit = /\\[|\\]/;\n    const res1 = command.split(reSplit);\n    console.log(res1);\n    const res2 = res1[1].toString().split(','); //[\"261.63\", \" 277.18\", \" 293.66\", \" 311.13\", \" 329.63\", \" 349.23\", \" 369.99\", \" 392.00\", \" 415.30\", \" 440.00\", \" 466.16\", \" 493.88\"]\n    const result = res2.map((e) => parseFloat(e));\n    return result;\n  };\n\n  const handleStart = async (event) => {\n    event.preventDefault();\n    const service = async () => {\n      const res = await ampExpService.start({\n        user_id: userStorage.id,\n      });\n      return res;\n    };\n    serviceDispatch(service, dispatch);\n    setOpenInfo(false);\n  };\n  const handleStop = async (event) => {\n    event.preventDefault();\n    const service = async () => {\n      const res = await ampExpService.stop({\n        user_id: userStorage.id,\n      });\n      return res;\n    };\n    serviceDispatch(service, dispatch);\n  };\n  const handleSetParameters = async (event) => {\n    event.preventDefault();\n\n    const service = async () => {\n      const res = await ampExpService.setParameters({\n        user_id: userStorage.id,\n        data: {\n          ...parameters,\n          basescale: str2Arr(parameters.basescale),\n        },\n      });\n      if (res?.data) {\n        res.data.basescale = `[${res.data.basescale}]`;\n        setParameters(res?.data);\n      }\n      return res;\n    };\n    serviceDispatch(service, dispatch);\n  };\n  const toggleDisplay = (id) => {\n    const selectDiv = document.getElementById(id);\n    if (selectDiv.style.display === 'none') {\n      selectDiv.style.display = 'block';\n    } else {\n      selectDiv.style.display = 'none';\n    }\n  };\n\n  const ParaInfoLists = () => {\n    return (\n      <ul id={'paraInfo'} style={{ marginLeft: '5%', width: '90%' }}>\n        {paraInfo.map((para, index) => (\n          <li\n            key={index}\n            onClick={() => toggleDisplay(`index_${para.name}`)}\n          >\n            <h3>{para.name}</h3>\n            <ul id={`index_${para.name}`} style={{ display: 'none' }}>\n              {Object.keys(para).map((item, index) => {\n                return (\n                  <li key={index}>{`${item}: ${para[item]}`}</li>\n                );\n              })}\n            </ul>\n          </li>\n        ))}\n      </ul>\n    );\n  };\n\n  return (\n    <div style={{ marginLeft: '5%', width: '90%' }}>\n      <AlertFrom\n        open={openError}\n        handleClose={() => setOpenError(false)}\n        severity='error'\n        alertText={error}\n        buttonText='close'\n      />\n      <AlertFrom\n        open={openWarning}\n        handleClose={handleClose}\n        severity='warning'\n        alertText={warning}\n        buttonText='continue'\n      />\n      <AlertFrom\n        open={openInfo}\n        handleClose={() => setOpenInfo(false)}\n        severity='info'\n        alertText={info}\n        buttonText='close'\n      />\n      <Accordion\n        expanded={settingExpanded1}\n        onChange={() => setSettingExpanded1((prev) => !prev)}\n      >\n        <AccordionSummary aria-controls='panel1a-content'>\n          <Typography>Setting panel</Typography>\n        </AccordionSummary>\n        <AccordionDetails>\n          <Typography component={'span'}>\n            <div>\n              <Drawer\n                paraInfo={paraInfo}\n                parameters={parameters}\n                closeDrawer={() => setSettingExpanded1(false)}\n                setParameters={setParameters}\n                handleSetParameters={handleSetParameters}\n              />\n            </div>\n          </Typography>\n        </AccordionDetails>\n      </Accordion>\n      <Accordion\n        expanded={settingExpanded2}\n        onChange={() => setSettingExpanded2((prev) => !prev)}\n      >\n        <AccordionSummary aria-controls='panel1a-content'>\n          <Typography>Parameters Information</Typography>\n        </AccordionSummary>\n        <AccordionDetails>\n          <Typography component={'span'}>\n            <ParaInfoLists />\n            <div\n              style={{\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'right',\n              }}\n            >\n              <Button\n                variant='contained'\n                color='primary'\n                onClick={() => setSettingExpanded2(false)}\n              >\n                close\n              </Button>\n            </div>\n          </Typography>\n        </AccordionDetails>\n      </Accordion>\n      <ButtonGroup variant='contained' color='primary'>\n        <Button onClick={handleStart}>\n          {' '}\n          start amplitude experiment\n        </Button>\n        <Button onClick={handleStop}> stop</Button>\n      </ButtonGroup>\n      <div id='div_info_image_in_amp' style={{ display: 'none' }}>\n        <img\n          id='info_image_in_amp'\n          alt='info_image_in_amp'\n          style={{ display: 'none', width: '800px', height: '800px' }}\n        />\n        <IconButton\n          aria-label='close'\n          color='inherit'\n          size='small'\n          onClick={closeInfoImage}\n        >\n          <CloseIcon fontSize='inherit' />\n        </IconButton>\n      </div>\n    </div>\n  );\n};\n\nexport default AmpExp;\n","import AmpExp from \"./AmpExp\"\n\nexport default AmpExp","import axios from 'axios';\n\nconst getDataFileNames = async (credentials) => {\n  const response = await axios.get(\n    '/api/dataCollecting/get_dataFileNames',\n    credentials\n  );\n  return response.data;\n};\nconst setDataFile = async (credentials) => {\n  const response = await axios.post(\n    '/api/dataCollecting/set_dataFile',\n    credentials\n  );\n  return response.data;\n};\nconst start = async (credentials) => {\n  const response = await axios.post(\n    '/api/dataCollecting/start',\n    credentials\n  );\n  return response.data;\n};\nconst setParameters = async (credentials) => {\n  const response = await axios.post(\n    '/api/dataCollecting/setParameters',\n    credentials\n  );\n  return response.data;\n};\n\nexport default {\n  getDataFileNames,\n  setDataFile,\n  start,\n  setParameters,\n};\n","import React, { useState, useEffect } from 'react';\nimport { Button } from '@material-ui/core';\nimport IconButton from '@mui/material/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport dataCollectingService from '../../services/dataCollecting';\nimport Accordion from '@mui/material/Accordion';\nimport AccordionSummary from '@mui/material/AccordionSummary';\nimport AccordionDetails from '@mui/material/AccordionDetails';\nimport Typography from '@mui/material/Typography';\nimport serviceDispatch from '../../utils/serviceDispatch';\nimport Drawer from '../AmpExp/Drawer';\nimport AlertFrom from '../AmpExp/AlertForm';\nimport { useStateValue } from '../../state';\nimport io from 'socket.io-client';\nconst socket = io('http://localhost:5000/data');\nconst DataCollecting = () => {\n  const [parameters, setParameters] = useState({\n    cycles: 5,\n    desired_particles: 19,\n    duration: 500,\n    exps_before_reset: 10,\n    filename: 'freqAmpData.csv',\n  });\n  const [paraInfo, setParaInfo] = useState([\n    {\n      name: 'desired_particles',\n      min: 1,\n      max: 100,\n      step: 1,\n      value: 19,\n      type: 'continuous',\n      description:\n        'How many particles should be on the plate, at least, for the experiment to start',\n    },\n    {\n      name: 'cycles',\n      min: 1,\n      max: 100,\n      step: 1,\n      value: 5,\n      type: 'continuous',\n      description:\n        'For each frequency, how many PTV steps is taken in total. The total number of exps cycles * number of frequencies',\n    },\n    {\n      name: 'duration',\n      min: 100,\n      max: 1000,\n      step: 1,\n      value: 500,\n      type: 'continuous',\n      description: 'in milliseconds, constant for all notes.',\n    },\n    {\n      name: 'exps_before_reset',\n      min: 5,\n      max: 50,\n      step: 1,\n      value: 10,\n      type: 'continuous',\n      description:\n        'The balls are replaced to good locations every this many cycles',\n    },\n    {\n      name: 'filename',\n      value: 'freqAmpData.csv',\n      type: 'selection',\n      selection: [\n        {\n          value: 'freqAmpData.csv',\n          label: 'freqAmpData.csv',\n        },\n      ],\n      description:\n        'Name of the file storing the tuning amplitude data.',\n    },\n  ] );\n  const [settingExpanded1, setSettingExpanded1] = useState(false);\n  const [, dispatch] = useStateValue();\n  const [userStorage, setUserStorage] = useState(\n    JSON.parse(window.sessionStorage.getItem('loggedBlogUser'))\n  );\n  const [openInfo, setOpenInfo] = useState(false);\n  const [info, setInfo] = useState('');\n  const [openWarning, setOpenWarning] = useState(false);\n  const [warning, setWarning] = useState('');\n  const [openError, setOpenError] = useState(false);\n  const [error, setError] = useState('');\n\n  \n  const handleClose = (event) => {\n    setOpenWarning(false);\n    socket.emit('startAgain');\n  };\n  const closeInfoImage = () => {\n    const div = document.getElementById('div_info_image_in_data');\n    if (div) div.style.display = 'none';\n    const image = document.getElementById('info_image_in_data');\n    if (image) image.style.display = 'none';\n  };\n\n  useEffect(() => {\n    socket.on('startPause', function (msg) {\n      setOpenWarning(true);\n      setWarning(msg);\n    });\n    socket.on('error', function (msg) {\n      setOpenError(true);\n      setError(msg);\n    });\n    socket.on('warning', function (msg) {\n      setOpenWarning(true);\n      setWarning(msg);\n    });\n    socket.on('info', function (msg) {\n      setOpenInfo(true);\n      setInfo(msg);\n    });\n    socket.on('info_image', function (msg) {\n      const div = document.getElementById('div_info_image_in_data');\n      if (div) div.style.display = 'block';\n      const image = document.getElementById('info_image_in_data');\n      image.src = `data:image/jpg;base64,${msg}`;\n      image.style.display = 'block';\n    });\n  }, []);\n\n  useEffect(() => {\n    const loggedUser =\n      window.sessionStorage.getItem('loggedBlogUser');\n    if (loggedUser) {\n      setUserStorage(JSON.parse(loggedUser));\n    }\n  }, []);\n\n  useEffect(() => {\n    const service = async () => {\n      const res = await dataCollectingService.getDataFileNames();\n      if (res?.data) {\n        const files = res.data;\n        const selection = files.map(function (num) {\n          return { value: num, label: num };\n        });\n        let p = paraInfo;\n        p[4].selection = selection;\n        setParaInfo(p);\n      }\n      return res;\n    };\n    serviceDispatch(service, dispatch);\n  }, [paraInfo, dispatch]);\n\n  const handleSetParameters = async (event) => {\n    event.preventDefault();\n\n    const service = async () => {\n      const res = await dataCollectingService.setParameters({\n        user_id: userStorage.id,\n        data: { parameters },\n      });\n      setParameters(res?.data);\n      return res;\n    };\n    serviceDispatch(service, dispatch);\n  };\n\n  const handleStart = async (event) => {\n    event.preventDefault();\n    const service = async () => {\n      const res = await dataCollectingService.start({\n        user_id: userStorage.id,\n      });\n      return res;\n    };\n    serviceDispatch(service, dispatch);\n  };\n\n  return (\n    <div style={{ marginLeft: '5%', width: '90%' }}>\n      <AlertFrom\n        open={openError}\n        handleClose={() => setOpenError(false)}\n        severity='error'\n        alertText={error}\n        buttonText='close'\n      />\n      <AlertFrom\n        open={openWarning}\n        handleClose={handleClose}\n        severity='warning'\n        alertText={warning}\n        buttonText='continue'\n      />\n      <AlertFrom\n        open={openInfo}\n        handleClose={() => setOpenInfo(false)}\n        severity='info'\n        alertText={info}\n        buttonText='close'\n      />\n      <Accordion\n        expanded={settingExpanded1}\n        onChange={() => setSettingExpanded1((prev) => !prev)}\n      >\n        <AccordionSummary aria-controls='panel1a-content'>\n          <Typography>Setting panel</Typography>\n        </AccordionSummary>\n        <AccordionDetails>\n          <Typography component={'span'}>\n            <div>\n              <Drawer\n                paraInfo={paraInfo}\n                parameters={parameters}\n                closeDrawer={() => setSettingExpanded1(false)}\n                setParameters={setParameters}\n                handleSetParameters={handleSetParameters}\n              />\n            </div>\n          </Typography>\n        </AccordionDetails>\n      </Accordion>\n      <Button\n        variant='contained'\n        color='primary'\n        component='span'\n        onClick={handleStart}\n      >\n        {' '}\n        start data collecting\n      </Button>\n      <div id='div_info_image_in_data' style={{ display: 'none' }}>\n        <img\n          id='info_image_in_data'\n          alt='info_image_in_data'\n          style={{ display: 'none', width: '800px', height: '800px' }}\n        />\n        <IconButton\n          aria-label='close'\n          color='inherit'\n          size='small'\n          onClick={closeInfoImage}\n        >\n          <CloseIcon fontSize='inherit' />\n        </IconButton>\n      </div>\n    </div>\n  );\n};\n\nexport default DataCollecting;\n","import DataCollecting from './DataCollecting';\n\nexport default DataCollecting;\n","import axios from 'axios';\n\nconst getDataFileNames = async (credentials) => {\n  const response = await axios.get(\n    '/api/modelFitting/get_dataFileNames',\n    credentials\n  );\n  return response.data;\n};\nconst setDataFile = async (credentials) => {\n  const response = await axios.post(\n    '/api/modelFitting/set_dataFile',\n    credentials\n  );\n  return response.data;\n};\nconst start = async (credentials) => {\n  const response = await axios.post(\n    '/api/modelFitting/start',\n    credentials\n  );\n  return response.data;\n};\n\nexport default {\n  getDataFileNames,\n  setDataFile,\n  start,\n};\n","import React, { useState, useEffect } from 'react';\nimport { Button, TextField } from '@material-ui/core';\nimport AlertFrom from '../AmpExp/AlertForm';\nimport modelFittingService from '../../services/modelFitting';\nimport serviceDispatch from '../../utils/serviceDispatch';\nimport { useStateValue } from '../../state';\nimport io from 'socket.io-client';\n\nconst socket = io('http://localhost:5000/model');\nconst ModelFitting = () => {\n  const [, dispatch] = useStateValue();\n  const [userStorage, setUserStorage] = useState(\n    JSON.parse(window.sessionStorage.getItem('loggedBlogUser'))\n  );\n  \n  const [selectedData, setSelectedData] = useState();\n  const [dataFiles, setDataFiles] = useState([]);\n  const [openInfo, setOpenInfo] = useState(false);\n  const [info, setInfo] = useState('');\n  const [openError, setOpenError] = useState(false);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    const loggedUser =\n      window.sessionStorage.getItem('loggedBlogUser');\n    if (loggedUser) {\n      setUserStorage(JSON.parse(loggedUser));\n    }\n  }, []);\n  useEffect(() => {\n    socket.on('error', function (msg) {\n      setOpenError(true);\n      setError(msg);\n    });\n    socket.on('info', function (msg) {\n      setOpenInfo(true);\n      setInfo(msg);\n    });\n  }, []);\n\n  const handleLoadData = async (event) => {\n    const selectDiv = document.getElementById('dataFileSelection');\n    selectDiv.style.display = 'block';\n    const service = async () => {\n      const res = await modelFittingService.getDataFileNames();\n      setDataFiles(res?.data);\n      return res;\n    };\n    serviceDispatch(service, dispatch);\n    console.log(dataFiles);\n  };\n\n  const handleSelectFile = async (event) => {\n    const service = async () => {\n      setSelectedData(event.target.value);\n      await modelFittingService.setDataFile({\n        filename: event.target.value,\n      });\n    };\n    serviceDispatch(service, dispatch);\n    const selectDiv = document.getElementById('dataFileSelection');\n    selectDiv.style.display = 'none';\n  };\n  const handleStart = async (event) => {\n    event.preventDefault();\n    const service = async () => {\n      const res = await modelFittingService.start({\n        user_id: userStorage.id,\n      });\n      return res;\n    };\n    serviceDispatch(service, dispatch);\n  };\n\n  return (\n    <div style={{ marginLeft: '5%', width: '90%' }}>\n      <AlertFrom\n        open={openError}\n        handleClose={() => setOpenError(false)}\n        severity='error'\n        alertText={error}\n        buttonText='close'\n      />\n      <AlertFrom\n        open={openInfo}\n        handleClose={() => setOpenInfo(false)}\n        severity='info'\n        alertText={info}\n        buttonText='close'\n      />\n      <Button\n        variant='contained'\n        color='primary'\n        component='span'\n        onClick={handleStart}\n      >\n        {' '}\n        start model fitting\n      </Button>\n      <Button\n        variant='contained'\n        color='primary'\n        component='span'\n        onClick={handleLoadData}\n      >\n        choose data file\n      </Button>\n      <span id='dataFileSelection' style={{ display: 'none' }}>\n        <TextField\n          select\n          value={selectedData}\n          onChange={handleSelectFile}\n          SelectProps={{\n            native: true,\n          }}\n        >\n          <option aria-label='None' value='' />\n          {dataFiles.map((option, index) => (\n            <option key={index} value={option}>\n              {option}\n            </option>\n          ))}\n        </TextField>\n      </span>\n    </div>\n  );\n};\n\nexport default ModelFitting;\n","import ModelFitting from './ModelFitting';\n\nexport default ModelFitting;\n","import axios from 'axios';\n\nconst getModelFileNames = async () => {\n  const response = await axios.get(\n    '/api/objectManipulation/get_dataFileNames'\n  );\n  return response.data;\n};\nconst getTunedAmpFileNames = async () => {\n  const response = await axios.get(\n    '/api/objectManipulation/get_tuned_amp'\n  );\n  return response.data;\n};\nconst setDataFile = async (credentials) => {\n  const response = await axios.post(\n    '/api/objectManipulation/set_dataFile',\n    credentials\n  );\n  return response.data;\n};\nconst start = async (credentials) => {\n  const response = await axios.post(\n    '/api/objectManipulation/start',\n    credentials\n  );\n  return response.data;\n};\nconst getDefaultController = async () => {\n  const response = await axios.get(\n    '/api/objectManipulation/get_controller_default'\n  );\n  return response.data;\n};\n\nconst getControllers = async () => {\n  const response = await axios.get(\n    '/api/objectManipulation/get_controllers'\n  );\n  return response.data;\n};\n\nconst saveController = async (credentials) => {\n  const response = await axios.post(\n    '/api/objectManipulation/save_controller',\n    credentials\n  );\n  return response.data;\n};\n\nconst setParameters = async (credentials) => {\n  const response = await axios.post(\n    '/api/objectManipulation/setParameters',\n    credentials\n  );\n  return response.data;\n};\n\nexport default {\n  getModelFileNames,\n  getTunedAmpFileNames,\n  setDataFile,\n  start,\n  getDefaultController,\n  getControllers,\n  saveController,\n  setParameters,\n};\n","import React, { useState, useEffect } from 'react';\nimport { Button, TextField } from '@material-ui/core';\nimport IconButton from '@mui/material/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Accordion from '@mui/material/Accordion';\nimport AccordionSummary from '@mui/material/AccordionSummary';\nimport AccordionDetails from '@mui/material/AccordionDetails';\nimport Typography from '@mui/material/Typography';\nimport objectManipulationService from '../../services/objectManipulation';\nimport serviceDispatch from '../../utils/serviceDispatch';\nimport { useStateValue } from '../../state';\nimport CodeEditor from '../Command/CodeEditor';\nimport AlertFrom from '../AmpExp/AlertForm';\nimport Drawer from '../AmpExp/Drawer';\nimport io from 'socket.io-client';\nconst socket = io('http://localhost:5000/manipulation');\n\nconst ObjectManipulation = () => {\n  const [, dispatch] = useStateValue();\n  const [content, setContent] = useState('');\n  const [filename, setFileName] = useState('defaultController.py');\n  const [settingExpanded1, setSettingExpanded1] = useState(false);\n  const [parameters, setParameters] = useState({\n    targets: '[(0.2, 0.2)]',\n    tunedAmpName: '',\n    modelName: '',\n    controllerName: '',\n    numberOfObj: 1,\n    tol: 0.2,\n    maxSteps: 10,\n  });\n  const [paraInfo, setParaInfo] = useState([\n    {\n      name: 'numberOfObj',\n      min: 1,\n      max: 10,\n      step: 1,\n      value: 1,\n      type: 'continuous',\n      description:\n        'How many particles should be on the plate for the experiment to start',\n    },\n    {\n      name: 'tol',\n      min: 0.01,\n      max: 10,\n      step: 0.01,\n      value: 0.2,\n      type: 'continuous',\n      description:\n        'The tolerance for the objects manipulation experiment.',\n    },\n    {\n      name: 'maxSteps',\n      min: 5,\n      max: 100,\n      step: 1,\n      value: 10,\n      type: 'continuous',\n      description:\n        'The maximum number of the control steps in the object manipulation experiment.',\n    },\n    {\n      name: 'targets',\n      value: '[(0.2, 0.2)]',\n      type: 'string',\n      description:\n        'The target array, values are scaled in the range [0,1]',\n    },\n    {\n      name: 'tunedAmpName',\n      value: 'please choose file from the list',\n      type: 'selection',\n      selection: [],\n      description:\n        'Name of the file storing the tuning amplitude data.',\n    },\n    {\n      name: 'modelName',\n      value: 'please choose file from the list',\n      type: 'selection',\n      selection: [],\n      description: 'Name of the file storing the fitted model.',\n    },\n    {\n      name: 'controllerName',\n      value: 'please choose file from the list',\n      type: 'selection',\n      selection: [],\n      description:\n        'Name of the file storing the controller function.',\n    },\n  ]);\n\n  const [userStorage, setUserStorage] = useState(\n    JSON.parse(window.sessionStorage.getItem('loggedBlogUser'))\n  );\n  const [openInfo, setOpenInfo] = useState(false);\n  const [info, setInfo] = useState('');\n  const [openWarning, setOpenWarning] = useState(false);\n  const [warning, setWarning] = useState('');\n  const [openError, setOpenError] = useState(false);\n  const [error, setError] = useState('');\n\n  const handleClose = (event) => {\n    setOpenWarning(false);\n    socket.emit('startAgain');\n  };\n  const closeInfoImage = () => {\n    const div = document.getElementById(\n      'div_info_image_in_manipulation'\n    );\n    if (div) div.style.display = 'none';\n    const image = document.getElementById(\n      'info_image_in_manipulation'\n    );\n    if (image) image.style.display = 'none';\n  };\n  const handleSetParameters = async (event) => {\n    event.preventDefault();\n\n    const service = async () => {\n      const res = await objectManipulationService.setParameters({\n        user_id: userStorage.id,\n        data: { parameters },\n      });\n      setParameters(res?.data);\n      return res;\n    };\n    serviceDispatch(service, dispatch);\n  };\n\n  useEffect(() => {\n    socket.on('startPause', function (msg) {\n      setOpenWarning(true);\n      setWarning(msg);\n    });\n    socket.on('error', function (msg) {\n      setOpenError(true);\n      setError(msg);\n    });\n    socket.on('warning', function (msg) {\n      setOpenWarning(true);\n      setWarning(msg);\n    });\n    socket.on('info', function (msg) {\n      setOpenInfo(true);\n      setInfo(msg);\n    });\n    socket.on('info_image', function (msg) {\n      const div = document.getElementById(\n        'div_info_image_in_manipulation'\n      );\n      if (div) div.style.display = 'block';\n      const image = document.getElementById(\n        'info_image_in_manipulation'\n      );\n      image.src = `data:image/jpg;base64,${msg}`;\n      image.style.display = 'block';\n    });\n  }, []);\n  useEffect(() => {\n    const loggedUser =\n      window.sessionStorage.getItem('loggedBlogUser');\n    if (loggedUser) {\n      setUserStorage(JSON.parse(loggedUser));\n    }\n    const service = async () => {\n      const defaultController =\n        await objectManipulationService.getDefaultController();\n      setContent(defaultController?.data);\n      const files = await objectManipulationService.getControllers();\n      const models =\n        await objectManipulationService.getModelFileNames();\n      const tunedAmpFiles =\n        await objectManipulationService.getTunedAmpFileNames();\n      setParameters({\n        ...parameters,\n        tunedAmpName: tunedAmpFiles.data[0],\n        modelName: models.data[0],\n        controllerName: files.data[0],\n      });\n\n      let p = paraInfo;\n      p[4].selection = tunedAmpFiles.data.map(function (num) {\n        return { value: num, label: num };\n      });\n      p[5].selection = models.data.map(function (num) {\n        return { value: num, label: num };\n      });\n      p[6].selection = files.data.map(function (num) {\n        return { value: num, label: num };\n      });\n      setParaInfo(p);\n    };\n    serviceDispatch(service, dispatch);\n  }, [dispatch]);\n\n  const handleStart = async (event) => {\n    event.preventDefault();\n    console.log(parameters);\n    const service = async () => {\n      const res = await objectManipulationService.start({\n        user_id: userStorage.id,\n        parameters,\n      });\n      return res;\n    };\n    serviceDispatch(service, dispatch);\n  };\n  const handleSaveController = async (event) => {\n    event.preventDefault();\n    const service = async () => {\n      const res = await objectManipulationService.saveController({\n        user_id: userStorage.id,\n        filename: filename,\n        content: content,\n      });\n      return res;\n    };\n    serviceDispatch(service, dispatch);\n    const files = await objectManipulationService.getControllers();\n    let p = paraInfo;\n    p[6].selection = files.data.map(function (num) {\n      return { value: num, label: num };\n    });\n    setParaInfo(p);\n  };\n\n  return (\n    <div style={{ marginLeft: '5%', width: '90%' }}>\n      <AlertFrom\n        open={openError}\n        handleClose={() => setOpenError(false)}\n        severity='error'\n        alertText={error}\n        buttonText='close'\n      />\n      <AlertFrom\n        open={openWarning}\n        handleClose={handleClose}\n        severity='warning'\n        alertText={warning}\n        buttonText='continue'\n      />\n      <AlertFrom\n        open={openInfo}\n        handleClose={() => setOpenInfo(false)}\n        severity='info'\n        alertText={info}\n        buttonText='close'\n      />\n      <Accordion>\n        <AccordionSummary aria-controls='panel1a-content'>\n          <Typography>Controller--editor</Typography>\n        </AccordionSummary>\n        <AccordionDetails>\n          <Typography component={'span'}>\n            <CodeEditor value={content} setValue={setContent} />\n            <div\n              style={{\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'right',\n              }}\n            >\n              <TextField\n                label='file name'\n                value={filename}\n                onChange={(event) => setFileName(event.target.value)}\n              />\n              <span>{}</span>\n              <Button\n                variant='contained'\n                color='secondary'\n                component='span'\n                onClick={handleSaveController}\n              >\n                save\n              </Button>\n            </div>\n          </Typography>\n        </AccordionDetails>\n      </Accordion>\n      <Accordion\n        expanded={settingExpanded1}\n        onChange={() => setSettingExpanded1((prev) => !prev)}\n      >\n        <AccordionSummary aria-controls='panel1a-content'>\n          <Typography>Setting panel</Typography>\n        </AccordionSummary>\n        <AccordionDetails>\n          <Typography component={'span'}>\n            <div>\n              <Drawer\n                paraInfo={paraInfo}\n                parameters={parameters}\n                closeDrawer={() => setSettingExpanded1(false)}\n                setParameters={setParameters}\n                handleSetParameters={handleSetParameters}\n              />\n            </div>\n          </Typography>\n        </AccordionDetails>\n      </Accordion>\n\n      <Button\n        variant='contained'\n        color='primary'\n        component='span'\n        onClick={handleStart}\n      >\n        {' '}\n        start object manipulation\n      </Button>\n      <div\n        id='div_info_image_in_manipulation'\n        style={{ display: 'none' }}\n      >\n        <img\n          id='info_image_in_manipulation'\n          alt='info_image_in_manipulation'\n          style={{ display: 'none', width: '800px', height: '800px' }}\n        />\n        <IconButton\n          aria-label='close'\n          color='inherit'\n          size='small'\n          onClick={closeInfoImage}\n        >\n          <CloseIcon fontSize='inherit' />\n        </IconButton>\n      </div>\n    </div>\n  );\n};\n\nexport default ObjectManipulation;\n","import ObjectManipulation from './ObjectManipulation';\n\nexport default ObjectManipulation;\n","import axios from 'axios';\n\nconst getParameters = async (credentials) => {\n  const response = await axios.post(\n    '/api/blobDetector/getParameters',\n    credentials\n  );\n  return response.data;\n};\nconst setParameters = async (credentials) => {\n  const response = await axios.post(\n    '/api/blobDetector/setParameters',\n    credentials\n  );\n  return response.data;\n};\n\nconst setBlobDetector = async (credentials) => {\n  const response = await axios.post(\n    '/api/blobDetector/setBlobDetector',\n    credentials\n  );\n  return response.data;\n};\n\nconst deleteBlobDetector = async (credentials) => {\n  const response = await axios.post(\n    '/api/blobDetector/deleteBlobDetector',\n    credentials\n  );\n  return response.data;\n};\n\nexport default {\n  getParameters,\n  setParameters,\n  setBlobDetector,\n  deleteBlobDetector,\n};\n","import React, { useState, useEffect } from 'react';\nimport {\n  Button,\n  Slider,\n  SwipeableDrawer,\n  Divider,\n  FormControl,\n  FormLabel,\n  FormGroup,\n  FormControlLabel,\n  Checkbox,\n} from '@material-ui/core';\nimport blobDetectorService from '../../services/blobDetector';\nimport serviceDispatch from '../../utils/serviceDispatch';\nimport { useStateValue } from '../../state';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\n// import imgUrl from '../../images/butterflyBlob.png';\nimport imgChangedUrl from '../../images/butterflyBlobChanged.png';\nimport './BlobDetector.css';\n\nconst useStyles = makeStyles({\n  list: {\n    width: 550,\n    margin: 20,\n  },\n  fullList: {\n    width: 'auto',\n  },\n});\n\nconst BlobDetector = () => {\n  const [, dispatch] = useStateValue();\n  const [display, setDisplay] = useState(\n    JSON.parse(window.sessionStorage.getItem('isDisplayed')) ?? false\n  );\n  const classes = useStyles();\n  const [popSettingState, setPopSettingState] = useState({\n    top: false,\n    left: false,\n    bottom: false,\n    right: false,\n  });\n  const [userStorage, setUserStorage] = useState(\n    JSON.parse(window.sessionStorage.getItem('loggedBlogUser'))\n  );\n  const [parameters, setParameters] = useState({\n    minThreshold: 10,\n    maxThreshold: 1000,\n    filterByColor: false,\n    blobColor: 200,\n    filterByArea: true,\n    minArea: 150,\n    maxArea: 1500,\n    filterByCircularity: false,\n    minCircularity: 0.1,\n    filterByConvexity: false,\n    minConvexity: 0.87,\n    filterByInertia: false,\n    minInertiaRatio: 0.01,\n  });\n  const paraInfo = [\n    {\n      name: 'minThreshold',\n      min: 0,\n      max: 100,\n      step: 1,\n      value: 10,\n      type: 'continuous',\n    },\n    {\n      name: 'maxThreshold',\n      min: 100,\n      max: 10000,\n      step: 1,\n      value: 1000,\n      type: 'continuous',\n    },\n    {\n      name: 'blobColor',\n      min: 0,\n      max: 225,\n      step: 1,\n      value: 200,\n      type: 'continuous',\n    },\n    {\n      name: 'minArea',\n      min: 0,\n      max: 300,\n      step: 1,\n      value: 150,\n      type: 'continuous',\n    },\n    {\n      name: 'maxArea',\n      min: 1000,\n      max: 5000,\n      step: 1,\n      value: 1500,\n      type: 'continuous',\n    },\n    {\n      name: 'minCircularity',\n      min: 0,\n      max: 1,\n      step: 0.001,\n      value: 0.1,\n      type: 'continuous',\n    },\n    {\n      name: 'minConvexity',\n      min: 0,\n      max: 1,\n      step: 0.001,\n      value: 0.87,\n      type: 'continuous',\n    },\n    {\n      name: 'minInertiaRatio',\n      min: 0,\n      max: 1,\n      step: 0.001,\n      value: 0.01,\n      type: 'continuous',\n    },\n    {\n      name: 'filterByColor',\n      value: false,\n      type: 'boolean',\n    },\n    {\n      name: 'filterByArea',\n      value: true,\n      type: 'boolean',\n    },\n    {\n      name: 'filterByCircularity',\n      value: false,\n      type: 'boolean',\n    },\n    {\n      name: 'filterByConvexity',\n      value: false,\n      type: 'boolean',\n    },\n    {\n      name: 'filterByInertia',\n      value: false,\n      type: 'boolean',\n    },\n  ];\n\n  useEffect(() => {\n    const loggedUser =\n      window.sessionStorage.getItem('loggedBlogUser');\n    if (loggedUser) {\n      setUserStorage(JSON.parse(loggedUser));\n    }\n  }, []);\n  useEffect(() => {\n    const service = async () => {\n      const res = await blobDetectorService.getParameters({\n        user_id: userStorage.id,\n      });\n      if (res?.data) setParameters(res?.data);\n      return res;\n    };\n    serviceDispatch(service, dispatch);\n  }, [userStorage.id, dispatch]);\n\n  const toggleDrawer = (anchor, open) => (event) => {\n    if (\n      event &&\n      event.type === 'keydown' &&\n      (event.key === 'Tab' || event.key === 'Shift')\n    ) {\n      return;\n    }\n\n    setPopSettingState({ ...popSettingState, [anchor]: open });\n  };\n  const handleChangeContinuous = (name) => (event, newValue) => {\n    setParameters({\n      ...parameters,\n      [name]: newValue,\n    });\n  };\n  const handleChangeBoolean = (name) => (event) => {\n    setParameters({\n      ...parameters,\n      [name]: event.target.checked,\n    });\n  };\n  const handleSetParameters = async (event) => {\n    event.preventDefault();\n    const service = async () => {\n      const res = await blobDetectorService.setParameters({\n        user_id: userStorage.id,\n        data: parameters,\n      });\n      return res;\n    };\n    serviceDispatch(service, dispatch);\n  };\n\n  const handleDisplay = async (event) => {\n    window.sessionStorage.setItem(\n      'isDisplayed',\n      JSON.stringify(event.target.checked)\n    );\n    setDisplay(event.target.checked);\n    const service = async () => {\n      const res = !display\n        ? await blobDetectorService.setBlobDetector({\n            user_id: userStorage.id,\n          })\n        : await blobDetectorService.deleteBlobDetector({\n            user_id: userStorage.id,\n          });\n\n      const img = document.getElementById('blobDetector');\n      img.src = !display ? '/api/camera/video_feed' : imgChangedUrl;\n      return res;\n    };\n    serviceDispatch(service, dispatch);\n  };\n\n  const list = (anchor) => (\n    <div\n      className={clsx(classes.list, {\n        [classes.fullList]: anchor === 'top' || anchor === 'bottom',\n      })}\n      \n    >\n      <div>\n        {paraInfo\n          .filter((para) => para.type === 'continuous')\n          .map((para, index) => (\n            <span key={index}>\n              <p>{para.name}</p>\n              <Slider\n                min={para.min}\n                max={para.max}\n                defaultValue={para.value}\n                value={parameters[para.name]}\n                name={para.name}\n                step={para.step}\n                valueLabelDisplay='on'\n                onChange={handleChangeContinuous(para.name)}\n                aria-labelledby='continuous-slider-always'\n                marks={[\n                  { value: para.min, label: para.min },\n                  { value: para.max, label: para.max },\n                ]}\n              />\n            </span>\n          ))}\n      </div>\n      <Divider />\n      <br />\n      <div>\n        <FormControl component='fieldset'>\n          <FormLabel component='legend'>\n            control By which factor\n          </FormLabel>\n          <FormGroup>\n            {paraInfo\n              .filter((para) => para.type === 'boolean')\n              .map((para, index) => (\n                <FormControlLabel\n                  key={index}\n                  control={\n                    <Checkbox\n                      checked={parameters[para.name]}\n                      onChange={handleChangeBoolean(para.name)}\n                    />\n                  }\n                  label={para.name}\n                />\n              ))}\n          </FormGroup>\n        </FormControl>\n      </div>\n      <Button\n        color='primary'\n        variant='outlined'\n        onClick={toggleDrawer(anchor, false)}\n      >\n        {' '}\n        close\n      </Button>\n      <Button\n        color='primary'\n        variant='outlined'\n        onClick={(event) => {\n          handleSetParameters(event);\n        }}\n      >\n        {' '}\n        submit\n      </Button>\n    </div>\n  );\n\n  return (\n    <div style={{ marginLeft: '5%', width: '90%' }}>\n      <h2>Blob detector display</h2>\n      <span>apply blob detector to current image</span>\n      <Checkbox\n        checked={display}\n        label='display'\n        onChange={(event) => {\n          handleDisplay(event);\n        }}\n      />\n      <br />\n      <Button\n        color='primary'\n        variant='outlined'\n        onClick={toggleDrawer('right', true)}\n      >\n        setting\n      </Button>\n      <br />\n      <img\n        id='blobDetector'\n        src={display ? '/api/camera/video_feed' : imgChangedUrl}\n        alt='changed'\n      />\n      <div>\n        <SwipeableDrawer\n          anchor='right'\n          open={popSettingState['right']}\n          onClose={toggleDrawer('right', false)}\n          onOpen={toggleDrawer('right', true)}\n        >\n          {list('right')}\n        </SwipeableDrawer>\n      </div>\n    </div>\n  );\n};\n\nexport default BlobDetector;\n","import BlobDetector from './BlobDetector';\n\nexport default BlobDetector;\n","import React, { useState, useEffect } from 'react';\nimport {\n  Button,\n  Switch,\n  FormControlLabel,\n  TextField,\n} from '@material-ui/core';\nimport cameraService from '../../services/camera';\nimport videoImageUrl from '../../images/videoStart.png';\nimport serviceDispatch from '../../utils/serviceDispatch';\nimport { useStateValue, setCamera } from '../../state';\n\nconst Camera = () => {\n  const [{ camera }, dispatch] = useStateValue();\n  const [selectedVideo, setSelectedVideo] = useState();\n  const [videoFiles, setVideoFiles] = useState([]);\n  const [cameraStorage, setCameraStorage] = useState(false);\n  const [checked, setChecked] = useState(\n    JSON.parse(window.sessionStorage.getItem('isCamera')) ?? false\n  );\n\n  /**apply boxSelection function to the image object, so that the user can crop the image by select a box area of an image */\n\n  useEffect(() => {\n    const isCamera = window.sessionStorage.getItem('isCamera');\n    if (isCamera) {\n      setCameraStorage(JSON.parse(isCamera));\n    }\n  }, [camera]);\n\n  const preHandler = (e) => {\n    e.preventDefault();\n  };\n\n  const handleLoadVideo = async (event) => {\n    const service = async () => {\n      const selectDiv = document.getElementById('videoFileSelection');\n      selectDiv.style.display = 'block';\n      const res = await cameraService.get_files();\n      setVideoFiles(res?.data);\n      return res;\n    };\n    preHandler(event);\n    serviceDispatch(service, dispatch);\n  };\n\n  const handleSelectFile = async (event) => {\n    const service = async () => {\n      const listItem = document.getElementById('imgFile');\n      const newItem = document.createElement('img');\n      listItem.parentNode.replaceChild(newItem, listItem);\n      newItem.src = videoImageUrl;\n      setSelectedVideo(event.target.value);\n      await cameraService.video_fromFile({\n        filename: event.target.value,\n      });\n      newItem.id = 'imgFile';\n      newItem.style = {\n        marginLeft: 'auto',\n        marginRight: 'auto',\n        width: '800px',\n        height: '600px',\n      };\n      setTimeout(() => {\n        newItem.src = '/api/camera/video_feedFromFile';\n      }, 300);\n      const selectDiv = document.getElementById('videoFileSelection');\n      selectDiv.style.display = 'none';\n    };\n    serviceDispatch(service, dispatch);\n    preHandler(event);\n  };\n\n  const handleCameraStartStop = async (event) => {\n    dispatch(setCamera(!checked));\n    window.sessionStorage.setItem(\n      'isCamera',\n      JSON.stringify(!checked)\n    );\n    window.location.reload();\n    setChecked((prev) => !prev);\n  };\n\n  return (\n    <div className='camera'>\n      <FormControlLabel\n        control={\n          <Switch\n            checked={checked}\n            onChange={handleCameraStartStop}\n            name='camera'\n          />\n        }\n        label='camera'\n        labelPlacement='bottom'\n      />\n      {cameraStorage ? (\n        <div>\n          <br />\n          <div\n            id='containerDiv'\n            style={{\n              display: 'inline-block',\n              position: 'relative',\n              cursor: 'pointer',\n            }}\n          >\n            <img\n              id='video_in_student_page'\n              alt='camera'\n              src='api/camera/video_feed'\n              style={{ width: '800px', height: '800px' }}\n            />\n            <div\n              id='boxDiv'\n              style={{\n                display: 'none',\n                position: 'absolute',\n                border: '2px solid red',\n              }}\n            ></div>\n          </div>\n        </div>\n      ) : (\n        <div>\n          <Button\n            variant='contained'\n            color='primary'\n            component='span'\n            onClick={handleLoadVideo}\n          >\n            load video from file\n          </Button>\n          <span id='videoFileSelection' style={{ display: 'none' }}>\n            <TextField\n              select\n              value={selectedVideo}\n              onChange={handleSelectFile}\n              SelectProps={{\n                native: true,\n              }}\n            >\n              <option aria-label='None' value='' />\n              {videoFiles.map((option, index) => (\n                <option key={index} value={option}>\n                  {option}\n                </option>\n              ))}\n            </TextField>\n          </span>\n          <br />\n          <div>\n            <img\n              id='imgFile'\n              src={videoImageUrl}\n              alt='camera'\n              style={{\n                marginLeft: 'auto',\n                marginRight: 'auto',\n                width: '800px',\n                height: '800px',\n              }}\n            />\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Camera;\n","import SubPage from './Camera';\n\nexport default SubPage;\n","import React from 'react'\nconst divStyle =  {\n  color: 'green',\n  background: 'lightgrey',\n  fontSize: '20px',\n  borderStyle: 'solid',\n  borderRadius: '5px',\n  padding: '10px',\n  marginBottom: '10px'\n}\n\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n  return <div style={divStyle} className='notification'>{message}</div>\n}\nexport default Notification\n","import React from 'react'\n\nconst divStyle =  {\n  color: 'red',\n  background: 'lightgrey',\n  fontSize: '20px',\n  borderStyle: 'solid',\n  borderRadius: '5px',\n  padding: '10px',\n  marginBottom: '10px'\n}\n\nconst ErrorNotification = ({ errorMessage }) => {\n  if (errorMessage === null) {\n    return null\n  }\n  return <div style={divStyle} className='errorNotification'>{errorMessage}</div>\n}\n\nexport default ErrorNotification\n","\r\nimport React from 'react';\r\nimport { AppBar, Tabs, Tab } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst AppTopBar = ({ tabs, handleLogout, userStorage }) => {\r\n  const [value, setValue] = React.useState(\r\n    window.sessionStorage.getItem('tab')\r\n  );\r\n  JSON.parse(window.sessionStorage.getItem('isCamera'));\r\n  const useStyles = makeStyles({\r\n    root: {\r\n      background: 'linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)',\r\n      border: 0,\r\n      borderRadius: 3,\r\n      boxShadow: '0 3px 5px 2px rgba(33, 203, 243, .3)',\r\n      color: 'white',\r\n      height: 48,\r\n      padding: '0 30px',\r\n    }\r\n  });\r\n  const classes = useStyles();\r\n  const handleChange = (event, newValue) => {\r\n    window.sessionStorage.setItem('tab', newValue);\r\n    setValue(newValue);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <AppBar position='sticky' color='primary'>\r\n        <Tabs\r\n          value={value}\r\n          onChange={handleChange}\r\n          className={classes.root}\r\n          variant='scrollable'\r\n          scrollButtons='auto'\r\n        >\r\n          {tabs.map((tab, index) => (\r\n            <Tab\r\n              key={index}\r\n              className={classes.button}\r\n              color='inherit'\r\n              component={Link}\r\n              to={tab}\r\n              label={tab}\r\n              value={tab}\r\n            />\r\n          ))}\r\n          {userStorage ? (\r\n            <Tab\r\n              className={classes.button}\r\n              color='inherit'\r\n              component={Link}\r\n              to='/login'\r\n              onClick={handleLogout}\r\n              label={`logout (${userStorage.username}) `}\r\n              value={'logout'}\r\n            />\r\n          ) : (\r\n            <Tab\r\n              className={classes.button}\r\n              color='inherit'\r\n              component={Link}\r\n              to='/login'\r\n              label={'login'}\r\n              value={'login'}\r\n            />\r\n          )}\r\n        </Tabs>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AppTopBar;\r\n","import React, { useEffect, useState } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport Login from './pages/Login';\nimport Camera from './pages/Camera';\nimport Home from './pages/Home';\nimport Command from './pages/Command';\nimport AmpExp from './pages/AmpExp';\nimport DataCollecting from './pages/DataCollecting';\nimport ModelFitting from './pages/ModelFitting';\nimport ObjectManipulation from './pages/ObjectManipulation';\nimport BlobDetector from './pages/BlobDetector';\nimport SubPage from './pages/StudentPage';\nimport Notification from './components/Notification';\nimport ErrorNotification from './components/ErrorNotification';\nimport serviceDispatch from './utils/serviceDispatch';\nimport loginService from './services/login';\nimport cameraService from './services/camera';\nimport AppTopBar from './components/AppTopBar';\nimport { useStateValue, setUser } from './state';\nimport './App.css';\n\nconst App = () => {\n  const [{ user, message, errorMessage }, dispatch] = useStateValue();\n  const [userStorage, setUserStorage] = useState(null);\n\n  useEffect(() => {\n    const loggedUserJSON =\n      window.sessionStorage.getItem('loggedBlogUser');\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON);\n      setUserStorage(user);\n    }\n  }, [user]);\n\n  const handleLogout = function (e) {\n    e.preventDefault();\n    const service = async () => {\n      if (JSON.parse(window.sessionStorage.getItem('isCamera'))) {\n        if (userStorage.admin) {\n          cameraService.stop({ user_id: userStorage.id });\n        }\n      }\n      dispatch(setUser(null));\n      window.sessionStorage.clear();\n      setUserStorage(null);\n      const res = await loginService.logout(userStorage);\n      return res;\n    };\n    serviceDispatch(service, dispatch);\n    return null;\n  };\n  // window.onbeforeunload = handleLogout;\n  // window.onunload = handleLogout;\n\n  const AdminTabs = [\n    'home',\n    'camera',\n    'blobDetector',\n    'command',\n    'ampExp',\n    'dataCollecting',\n    'modelFitting',\n    'objectManipulation',\n  ];\n\n  if (userStorage === null) {\n    return (\n      <div>\n        <div style={{ height: '50px', marginTop: '10px' }}>\n          <Notification message={message} />\n          <ErrorNotification errorMessage={errorMessage} />\n        </div>\n        <Login />\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      {userStorage.admin ? (\n        <AppTopBar\n          tabs={AdminTabs}\n          handleLogout={handleLogout}\n          userStorage={userStorage}\n        ></AppTopBar>\n      ) : (\n        <AppTopBar\n          tabs={['home', 'camera']}\n          handleLogout={handleLogout}\n          userStorage={userStorage}\n        ></AppTopBar>\n      )}\n      <div style={{ height: '50px', marginTop: '10px' }}>\n        {/* <Notification message={message} />\n        <ErrorNotification errorMessage={errorMessage} /> */}\n      </div>\n      {userStorage.admin ? (\n        <Switch>\n          <Route path='/blobDetector'>\n            <BlobDetector />\n          </Route>\n          <Route path='/modelFitting'>\n            <ModelFitting />\n          </Route>\n          <Route path='/objectManipulation'>\n            <ObjectManipulation />\n          </Route>\n          <Route path='/dataCollecting'>\n            <DataCollecting />\n          </Route>\n          <Route path='/ampExp'>\n            <AmpExp />\n          </Route>\n          <Route path='/camera'>\n            <Camera />\n          </Route>\n          <Route path='/command'>\n            <Command />\n          </Route>\n          <Route path='/login'>\n            <Login />\n          </Route>\n          <Route path='/home'>\n            <Home />\n          </Route>\n          <Route path='/'>\n            <Home />\n          </Route>\n        </Switch>\n      ) : (\n        <Switch>\n          <Route path='/camera'>\n            <SubPage />\n          </Route>\n          <Route path='/login'>\n            <Login />\n          </Route>\n          <Route path='/home'>\n            <Home />\n          </Route>\n          <Route path='/'>\n            <Home />\n          </Route>\n        </Switch>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { reducer, StateProvider } from './state';\nimport App from './App';\n\nReactDOM.render(\n  <Router>\n    <StateProvider reducer={reducer}>\n      <App />\n    </StateProvider>\n  </Router>,\n  document.getElementById('root')\n);","module.exports = __webpack_public_path__ + \"static/media/videoStart.50295ce4.png\";"],"sourceRoot":""}