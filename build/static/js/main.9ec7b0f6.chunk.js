(this["webpackJsonpbloglist-frontend"]=this["webpackJsonpbloglist-frontend"]||[]).push([[0],{115:function(e,t,a){e.exports=a.p+"static/media/butterflyBlobChanged.297834df.png"},151:function(e,t,a){e.exports=a.p+"static/media/login.c8b5353b.png"},153:function(e,t,a){e.exports=a.p+"static/media/acoustic_manipulation.9ef364a9.jpg"},168:function(e,t,a){e.exports=a(238)},195:function(e,t,a){},204:function(e,t,a){},233:function(e,t,a){},236:function(e,t,a){},237:function(e,t,a){},238:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(18),o=a.n(r),i=a(53),c=a(86),s=function(e){return{type:"SET_USER",payload:e}},m=function(e){return{type:"SET_CAMERA",payload:e}},u=function(e){return{type:"SET_MESSAGE",payload:e}},d=function(e){return{type:"SET_ERROR_MESSAGE",payload:e}},p=a(35),g={user:null,camera:null,message:null,errorMessage:null},y=Object(n.createContext)([g,function(){return g}]),v=function(){return Object(n.useContext)(y)},f=a(23),E=a(241),b=a(151),h=a.n(b),w=a(17),S=a.n(w),x=a(31),_=a(10),O=a.n(_),j={login:function(){var e=Object(x.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("/api/auth/login",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),register:function(){var e=Object(x.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("/api/auth/register",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),logout:function(){var e=Object(x.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("/api/auth/logout",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},C=a(300),k=function(){var e=Object(x.a)(S.a.mark((function e(t,a){var n,l,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:n=e.sent,a(u(null===n||void 0===n?void 0:n.message)),setTimeout((function(){a(u(null))}),3e3),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),a(d(null===(l=e.t0.response)||void 0===l?void 0:null===(r=l.data)||void 0===r?void 0:r.message)),setTimeout((function(){a(d(null))}),3e3);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}();var I=()=>{const[,e]=v(),t=Object(f.f)(),[a,r]=Object(n.useState)(""),[o,i]=Object(n.useState)("");return l.a.createElement("div",null,l.a.createElement("div",{id:"signIn",className:"signIn_default"},l.a.createElement("div",null,l.a.createElement(C.a,{label:"username",style:{margin:8},placeholder:"",value:a,onChange:({target:e})=>r(e.value),helperText:"Please input your user name",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0}})),l.a.createElement("div",null,l.a.createElement(C.a,{label:"password",style:{margin:8},placeholder:"",type:"password",value:o,onChange:({target:e})=>i(e.value),helperText:"Please input your password",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0}})),l.a.createElement("div",null,l.a.createElement(E.a,{variant:"outlined",id:"signIn-button",onClick:async n=>{n.preventDefault(),r(""),i("");k(async()=>{const n=await j.login({username:a,password:o});return window.sessionStorage.setItem("loggedBlogUser",JSON.stringify(n.data)),window.sessionStorage.setItem("tab","home"),e(s(n.data)),t.push("/"),n},e)}},"confirm"))))};var B=()=>{const[,e]=v(),t=Object(f.f)(),[a,r]=Object(n.useState)(""),[o,i]=Object(n.useState)(""),[c,m]=Object(n.useState)("");return l.a.createElement("div",{id:"signUp",className:"signUp_default"},l.a.createElement("div",null,l.a.createElement(C.a,{label:"username",style:{margin:8},placeholder:"",value:a,onChange:({target:e})=>r(e.value),helperText:"Please input your user name",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0}})),l.a.createElement("div",null,l.a.createElement(C.a,{label:"password",style:{margin:8},placeholder:"",type:"password",value:o,onChange:({target:e})=>i(e.value),helperText:"Please input your password",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0}})),l.a.createElement("div",null,l.a.createElement(C.a,{label:"password repeat",style:{margin:8},placeholder:"",type:"password",value:c,onChange:({target:e})=>m(e.value),helperText:"Please repeat your password",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0}})),l.a.createElement("div",null,l.a.createElement(E.a,{variant:"outlined",id:"signIn-button",onClick:async n=>{if(n.preventDefault(),o!==c)r(""),i(""),m(""),e(d("passwords must be the same, please try again.")),setTimeout(()=>{e(d(null))},3e3);else try{const n=await j.register({username:a,password:o});window.sessionStorage.setItem("loggedBlogUser",JSON.stringify(n.data)),window.sessionStorage.setItem("tab","home"),r(""),i(""),e(s(n.data)),e(u("".concat(n.data.username," have successfully sing up!"))),t.push("/"),setTimeout(()=>{e(u(null))},3e3)}catch(g){var l,p;r(""),i(""),e(d(null===(l=g.response)||void 0===l?void 0:null===(p=l.data)||void 0===p?void 0:p.message)),m(""),setTimeout(()=>{e(d(null))},3e3)}}},"confirm")))};a(195);var N=()=>{const e=()=>{const e=document.getElementById("loginButtons"),t="block"===e.style.display;e.style.display=t?"none":"block";const a=document.getElementById("login_header"),n="block"===a.style.display;a.style.display=n?"none":"block"};return l.a.createElement("div",{className:"login"},l.a.createElement("div",{className:"login_header",id:"login_header",style:{display:"block"}},l.a.createElement("img",{src:h.a,alt:"login"}),l.a.createElement("h1",null,"AcoBot Web Application")),l.a.createElement("div",{id:"loginButtons",style:{display:"block"}},l.a.createElement(E.a,{onClick:()=>{e(),document.getElementById("signIn").classList.toggle("signIn")},id:"signInButton"},"Sign in"),l.a.createElement(E.a,{onClick:()=>{e(),document.getElementById("signUp").classList.toggle("signUp")},id:"signUpButton"},"Sign up")),l.a.createElement(I,null),l.a.createElement(B,null))},T=a(312),D=a(290),F=a(291);var P=async e=>(await O.a.post("/api/camera/start_camera",e)).data,L=async e=>(await O.a.post("/api/camera/stop_camera",e)).data,A=async e=>(await O.a.post("/api/camera/crop_camera",e)).data,M=async e=>(await O.a.post("/api/camera/get_crop_cords",e)).data,J=async()=>(await O.a.post("/api/camera/start_record")).data,U=async()=>(await O.a.post("/api/camera/stop_record")).data,R=async()=>(await O.a.get("/api/camera/get_videoFileNames")).data,z=async e=>(await O.a.post("/api/camera/set_videoFile",e)).data,q=a(73),V=a.n(q),W=function(e,t){var a={left:parseFloat(0),top:parseFloat(0),right:parseFloat(1),bottom:parseFloat(1)},n=0,l=0,r=0,o=0,i=null,c=!1;if(e){var s=document.getElementById("containerDiv"),m=document.getElementById("boxDiv");s.addEventListener("mousedown",(function(e){i=e.target.getBoundingClientRect(),r=e.clientX-i.left,o=e.clientY-i.top,c=!0,e.preventDefault()})),s.addEventListener("mousemove",(function(e){if(c){n=e.clientX-i.left,l=e.clientY-i.top;var t=n>r?r:n,a=l>o?o:l,s=n>r?n-r:r-n,u=l>o?l-o:o-l;m.style.display="block",m.style.left=t+"px",m.style.top=a+"px",m.style.width=s+"px",m.style.height=u+"px"}e.preventDefault()})),s.addEventListener("mouseup",(function(e){c=!1,a.left=Math.max(Math.min(r,n)/i.width,0),a.top=Math.max(Math.min(o,l)/i.height,0),a.right=Math.min(Math.max(r,n)/i.width,1),a.bottom=Math.min(Math.max(o,l)/i.height,1),t(a),setTimeout((function(){m.style.display="none"}),3e3),e.preventDefault()}))}};var G=()=>{var e;const[{camera:t},a]=v(),[r,o]=Object(n.useState)(!1),[i,c]=Object(n.useState)(),[s,u]=Object(n.useState)([]),[d,p]=Object(n.useState)(!1),[g,y]=Object(n.useState)(JSON.parse(window.sessionStorage.getItem("loggedBlogUser"))),[f,b]=Object(n.useState)(null!==(e=JSON.parse(window.sessionStorage.getItem("isCamera")))&&void 0!==e&&e),[h,w]=Object(n.useState)(),[S,x]=Object(n.useState)({left:parseFloat(0),top:parseFloat(0),right:parseFloat(1),bottom:parseFloat(1)});Object(n.useEffect)(()=>{k(async()=>{const e=await M({user_id:g.id});if(null===e||void 0===e?void 0:e.data){const t={left:e.data.left,top:e.data.top,right:e.data.right,bottom:e.data.bottom};w(t)}return e},a)},[g.id,a]),Object(n.useEffect)(()=>{setTimeout(()=>{const e=document.getElementById("video_in_auth_page");e&&W(e,x)},1e3)},[document.getElementById("video_in_auth_page")]),Object(n.useEffect)(()=>{const e=window.sessionStorage.getItem("isCamera");e&&p(JSON.parse(e));const a=window.sessionStorage.getItem("loggedBlogUser");a&&y(JSON.parse(a)),t&&setTimeout(()=>{document.getElementById("video_in_auth_page").src="api/camera/video_feed"},500)},[t]);const _=e=>{e.preventDefault();const t=document.getElementById("boxDiv");t&&(t.style.display="none")};return l.a.createElement("div",{className:"camera",style:{marginLeft:"5%",width:"90%"}},l.a.createElement(T.a,{control:l.a.createElement(D.a,{checked:f,onChange:async e=>{b(e=>!e),_(e),await k(async()=>{const e=f?await L({user_id:g.id}):await P({user_id:g.id});return a(m(!f)),window.sessionStorage.setItem("isCamera",JSON.stringify(!f)),e},a);const t=document.getElementById("boxDiv");t&&(t.style.display="none"),window.location.reload()},name:"camera"}),label:"camera",labelPlacement:"bottom"}),d?l.a.createElement("div",null,l.a.createElement(F.a,{color:"primary","aria-label":"outlined primary button group"},l.a.createElement(E.a,{id:"cropButton",onClick:async e=>{const t={left:h.left+S.left*(h.right-h.left),top:h.top+S.top*(h.bottom-h.top),right:h.left+S.right*(h.right-h.left),bottom:h.top+S.bottom*(h.bottom-h.top)};w(t);_(e),k(async()=>await A({user_id:g.id,coords:t}),a)},variant:"contained",color:"primary",component:"span"},"crop"),l.a.createElement(E.a,{id:"cropButton",onClick:async e=>{_(e),k(async()=>(w({left:parseFloat(0),top:parseFloat(0),right:parseFloat(1),bottom:parseFloat(1)}),x({left:parseFloat(0),top:parseFloat(0),right:parseFloat(1),bottom:parseFloat(1)}),await A({user_id:g.id,coords:{left:parseFloat(1e-6),top:parseFloat(1e-6),right:parseFloat(.999999),bottom:parseFloat(.999999)}})),a)},variant:"contained",color:"primary",component:"span"},"revert crop"),l.a.createElement(E.a,{id:"startRecordButton",variant:"contained",onClick:async e=>{_(e),k(async()=>(o(!0),await J()),a)},color:"primary",component:"span",disabled:r},"start record"),l.a.createElement(E.a,{id:"stopRecordButton",variant:"contained",onClick:async e=>{_(e),k(async()=>(o(!1),await U()),a)},color:"primary",component:"span",disabled:!r},"stop record")),l.a.createElement("br",null),l.a.createElement("div",{id:"containerDiv",style:{display:"inline-block",position:"relative",cursor:"pointer"}},l.a.createElement("img",{id:"video_in_auth_page",src:"api/camera/video_feed",alt:"video",style:{width:"800px",height:"800px"}}),l.a.createElement("div",{id:"boxDiv",style:{display:"none",position:"absolute",border:"2px solid red"}}))):l.a.createElement("div",null,l.a.createElement(E.a,{variant:"contained",color:"primary",component:"span",onClick:async e=>{_(e),k(async()=>{document.getElementById("videoFileSelection").style.display="block";const e=await R();return u(null===e||void 0===e?void 0:e.data),e},a)}},"load video from file"),l.a.createElement("span",{id:"videoFileSelection",style:{display:"none"}},l.a.createElement(C.a,{select:!0,value:i,onChange:async e=>{k(async()=>{const t=document.getElementById("imgFile"),a=document.createElement("img");t.parentNode.replaceChild(a,t),a.src=V.a,c(e.target.value),await z({filename:e.target.value}),a.id="imgFile",a.style={marginLeft:"auto",marginRight:"auto",width:"800px",height:"600px"},setTimeout(()=>{a.src="/api/camera/video_feedFromFile"},300),document.getElementById("videoFileSelection").style.display="none"},a),_(e)},SelectProps:{native:!0}},l.a.createElement("option",{"aria-label":"None",value:""}),s.map((e,t)=>l.a.createElement("option",{key:t,value:e},e)))),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement("img",{id:"imgFile",src:V.a,alt:"camera",style:{marginLeft:"auto",marginRight:"auto",width:"800px",height:"800px"}}))))},H=a(153),Q=a.n(H);var X=()=>l.a.createElement("div",{className:"home-container",style:{marginLeft:"5%",width:"90%"}},l.a.createElement("h1",{style:{textAlign:"center"}},"Welcome to AcoBot web platform!"),l.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},l.a.createElement("img",{src:Q.a,alt:"acoustic manipulation"}),l.a.createElement("div",null,"Vibrating silicon plate for particle manipulation, concept illustration. | Photo by Quan Zhou/Aalto University",l.a.createElement("br",null),"For more information, visit"," ",l.a.createElement("a",{href:"https://www.aalto.fi/en/department-of-electrical-engineering-and-automation/acoustic-and-vibration-field-based-manipulation"},"https://www.aalto.fi/en/department-of-electrical-engineering-and-automation/acoustic-and-vibration-field-based-manipulation")," and ",l.a.createElement("a",{href:"https://ieeexplore.ieee.org/document/8001920"},"https://ieeexplore.ieee.org/document/8001920")))),Y=a(302),Z=a(315),K=a(310),$=a(58),ee=a.n($),te={playSignal:function(){var e=Object(x.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("/api/command/playSignal",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),generateSignal:function(){var e=Object(x.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("/api/command/generateSignal",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),command:function(){var e=Object(x.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("/api/command/command",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getCommands:function(){var e=Object(x.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("/api/command/getCommands");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},ae=a(154),ne=a.n(ae);a(201),a(202),a(203);var le=({value:e,setValue:t})=>l.a.createElement(ne.a,{id:"ace-builds",mode:"python",theme:"solarized_light",value:e,onChange:t,name:"UNIQUE_ID_OF_DIV",fontSize:18,style:{width:"100%"}}),re=(a(204),a(48)),oe=a.n(re);const ie=oe()("http://localhost:5000/command");var ce=()=>{const[e,t]=Object(n.useState)(""),[,a]=v(),[r,o]=Object(n.useState)([]),[i,c]=Object(n.useState)(!1),[s,m]=Object(n.useState)("");Object(n.useEffect)(()=>{ie.on("commandInfo",(function(e){c(!0),m(e)}))},[]);const u=e=>{const t=document.getElementById(e);"none"===t.style.display?t.style.display="block":t.style.display="none"};return Object(n.useEffect)(()=>{k(async()=>{const e=await te.getCommands();return(null===e||void 0===e?void 0:e.data)&&o(null===e||void 0===e?void 0:e.data),e},a)},[a]),l.a.createElement("div",{style:{marginLeft:"5%",width:"90%"}},l.a.createElement(K.a,{in:i},l.a.createElement(Y.a,{severity:"info",action:l.a.createElement(Z.a,{"aria-label":"close",color:"inherit",size:"small",onClick:(e,t)=>{"clickaway"!==t?(c(!1),ie.emit("commandInfoClose")):ie.emit("commandInfoClose")}},l.a.createElement(ee.a,{fontSize:"inherit"})),sx:{width:"80%"}},s)),l.a.createElement("form",null,l.a.createElement(le,{value:e,setValue:t}),l.a.createElement(E.a,{onClick:async t=>{t.preventDefault();k(async()=>{let t=null;return t=await te.command({commandStr:e}),t},a)},variant:"contained",color:"primary",component:"span"},"submit"),l.a.createElement(E.a,{onClick:()=>u("commandInfo"),variant:"contained",color:"primary",component:"span"},"command list")),l.a.createElement("div",null,l.a.createElement("ul",{id:"commandInfo",style:{display:"none"}},l.a.createElement("h1",null,"Command List "),r.map((e,t)=>l.a.createElement("li",{key:t,onClick:()=>u("index_".concat(e.functionName))},l.a.createElement("h2",null,e.functionName),l.a.createElement("div",{id:"index_".concat(e.functionName),style:{display:"none"}},l.a.createElement("ul",null,Object.keys(e).map((t,a)=>l.a.createElement("li",{key:a},"".concat(t,": ").concat(e[t]))))))))))},se=a(307),me=a(317),ue=a(318),de=a(309);var pe=async e=>(await O.a.post("/api/ampExp/start",e)).data,ge=async e=>(await O.a.post("/api/ampExp/stop",e)).data,ye=async e=>(await O.a.post("/api/ampExp/getParameters",e)).data,ve=async e=>(await O.a.post("/api/ampExp/setParameters",e)).data,fe=a(316);var Ee=({closeDrawer:e,paraInfo:t,parameters:a,setParameters:n,handleSetParameters:r})=>{const o={display:"flex",alignItems:"center",justifyContent:"space-between"};return l.a.createElement("div",{style:{marginLeft:"5%",width:"90%"}},l.a.createElement("div",null,t.filter(e=>"string"===e.type).map((e,t)=>l.a.createElement("div",{key:t,style:o},l.a.createElement("span",null,e.name,":"),l.a.createElement(C.a,{helperText:e.description,value:a["".concat(e.name)],onChange:t=>{n({...a,[e.name]:t.target.value})}})))),l.a.createElement("div",null,t.filter(e=>"selection"===e.type).map((e,t)=>l.a.createElement("div",{key:t,style:o},l.a.createElement("span",null,e.name,":"),l.a.createElement("div",null,l.a.createElement(C.a,{select:!0,value:String(a["".concat(e.name)]),onChange:t=>{n({...a,[e.name]:t.target.value})},SelectProps:{native:!0}},e.selection.map(e=>l.a.createElement("option",{key:e.value,value:e.value},e.label))))))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",null,t.filter(e=>"continuous"===e.type).map((e,t)=>{return l.a.createElement("div",{key:t},l.a.createElement("span",null,e.name),l.a.createElement(fe.a,{size:"large",min:e.min,max:e.max,defaultValue:e.value,value:a[e.name],name:e.name,step:e.step,valueLabelDisplay:"auto",onChange:(r=e.name,(e,t)=>{n({...a,[r]:t})}),"aria-labelledby":"Default",marks:[{value:e.min,label:e.min},{value:e.max,label:e.max}]}));var r})),l.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"right"}},l.a.createElement(E.a,{variant:"contained",color:"primary",onClick:e},"close"),l.a.createElement(E.a,{variant:"contained",color:"secondary",onClick:r},"submit")))},be=a(311);var he=({open:e,severity:t,handleClose:a,alertText:n,buttonText:r})=>l.a.createElement(K.a,{in:e},l.a.createElement(Y.a,{severity:t,action:l.a.createElement(E.a,{color:"inherit",size:"small",onClick:a},r),sx:{width:"97,5%"},spacing:2},l.a.createElement(be.a,null,t),n));a(233);const we=oe()("http://localhost:5000/amp");var Se=()=>{const[e,t]=Object(n.useState)({basescale:"[261.63, 293.66, 329.63, 349.23, 392, 440, 493.88]",cycles:5,default_amp:.1,desired_particles:19,desired_stepSize:10,duration:500,exps_before_reset:10,id:"acoBot2_amptest5",max_amp:2,max_increase:1.5,maxfreq:1e3,min_amp:.01,minfreq:500,simulate:0}),[a,r]=Object(n.useState)([]),[,o]=v(),[i,c]=Object(n.useState)(JSON.parse(window.sessionStorage.getItem("loggedBlogUser"))),[s,m]=Object(n.useState)(!1),[u,d]=Object(n.useState)(!1),[p,g]=Object(n.useState)(!1),[y,f]=Object(n.useState)(""),[b,h]=Object(n.useState)(!1),[w,S]=Object(n.useState)(""),[x,_]=Object(n.useState)(!1),[O,j]=Object(n.useState)("");Object(n.useEffect)(()=>{we.on("startPause",(function(e){h(!0),S(e)})),we.on("error",(function(e){_(!0),j(e)})),we.on("warning",(function(e){h(!0),S(e)})),we.on("info",(function(e){g(!0),f(e)})),we.on("info_image",(function(e){console.log("info_image");const t=document.getElementById("info_image_in_amp");t.src="data:image/jpg;base64,".concat(e),document.getElementById("div_info_image_in_amp").style.display="block",t.style.display="block"}))},[]),Object(n.useEffect)(()=>{const e=window.sessionStorage.getItem("loggedBlogUser");e&&c(JSON.parse(e))},[]),Object(n.useEffect)(()=>{k(async()=>{const e=await ye({user_id:i.id});var a,n;(null===e||void 0===e?void 0:e.data)&&((null===e||void 0===e?void 0:null===(a=e.data)||void 0===a?void 0:a.data)&&(e.data.data.basescale="[".concat(e.data.data.basescale,"]"),t(e.data.data)),(null===e||void 0===e?void 0:null===(n=e.data)||void 0===n?void 0:n.paraInfo)&&r(e.data.paraInfo));return e},o)},[i.id,o]);const C=e=>{console.log(e);const t=e.split(/\[|\]/);return console.log(t),t[1].toString().split(",").map(e=>parseFloat(e))};return l.a.createElement("div",{style:{marginLeft:"5%",width:"90%"}},l.a.createElement(he,{open:x,handleClose:()=>_(!1),severity:"error",alertText:O,buttonText:"close"}),l.a.createElement(he,{open:b,handleClose:e=>{h(!1),we.emit("startAgain")},severity:"warning",alertText:w,buttonText:"continue"}),l.a.createElement(he,{open:p,handleClose:()=>g(!1),severity:"info",alertText:y,buttonText:"close"}),l.a.createElement(se.a,{expanded:s,onChange:()=>m(e=>!e)},l.a.createElement(me.a,{"aria-controls":"panel1a-content"},l.a.createElement(de.a,null,"Setting panel")),l.a.createElement(ue.a,null,l.a.createElement(de.a,{component:"span"},l.a.createElement("div",null,l.a.createElement(Ee,{paraInfo:a,parameters:e,closeDrawer:()=>m(!1),setParameters:t,handleSetParameters:async a=>{a.preventDefault();k(async()=>{const a=await ve({user_id:i.id,data:{...e,basescale:C(e.basescale)}});return(null===a||void 0===a?void 0:a.data)&&(a.data.basescale="[".concat(a.data.basescale,"]"),t(null===a||void 0===a?void 0:a.data)),a},o)}}))))),l.a.createElement(se.a,{expanded:u,onChange:()=>d(e=>!e)},l.a.createElement(me.a,{"aria-controls":"panel1a-content"},l.a.createElement(de.a,null,"Parameters Information")),l.a.createElement(ue.a,null,l.a.createElement(de.a,{component:"span"},l.a.createElement(()=>l.a.createElement("ul",{id:"paraInfo",style:{marginLeft:"5%",width:"90%"}},a.map((e,t)=>l.a.createElement("li",{key:t,onClick:()=>(e=>{const t=document.getElementById(e);"none"===t.style.display?t.style.display="block":t.style.display="none"})("index_".concat(e.name))},l.a.createElement("h3",null,e.name),l.a.createElement("ul",{id:"index_".concat(e.name),style:{display:"none"}},Object.keys(e).map((t,a)=>l.a.createElement("li",{key:a},"".concat(t,": ").concat(e[t]))))))),null),l.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"right"}},l.a.createElement(E.a,{variant:"contained",color:"primary",onClick:()=>d(!1)},"close"))))),l.a.createElement(F.a,{variant:"contained",color:"primary"},l.a.createElement(E.a,{onClick:async e=>{e.preventDefault();k(async()=>await pe({user_id:i.id}),o),g(!1)}}," ","start amplitude experiment"),l.a.createElement(E.a,{onClick:async e=>{e.preventDefault();k(async()=>await ge({user_id:i.id}),o)}}," stop")),l.a.createElement("div",{id:"div_info_image_in_amp",style:{display:"none"}},l.a.createElement("img",{id:"info_image_in_amp",alt:"info_image_in_amp",style:{display:"none",width:"800px",height:"800px"}}),l.a.createElement(Z.a,{"aria-label":"close",color:"inherit",size:"small",onClick:()=>{const e=document.getElementById("div_info_image_in_amp");e&&(e.style.display="none");const t=document.getElementById("info_image_in_amp");t&&(t.style.display="none")}},l.a.createElement(ee.a,{fontSize:"inherit"}))))};var xe=async e=>(await O.a.get("/api/dataCollecting/get_dataFileNames",e)).data,_e=async e=>(await O.a.post("/api/dataCollecting/start",e)).data,Oe=async e=>(await O.a.post("/api/dataCollecting/setParameters",e)).data;const je=oe()("http://localhost:5000/data");var Ce=()=>{const[e,t]=Object(n.useState)({cycles:5,desired_particles:19,duration:500,exps_before_reset:10,filename:"freqAmpData.csv"}),[a,r]=Object(n.useState)([{name:"desired_particles",min:1,max:100,step:1,value:19,type:"continuous",description:"How many particles should be on the plate, at least, for the experiment to start"},{name:"cycles",min:1,max:100,step:1,value:5,type:"continuous",description:"For each frequency, how many PTV steps is taken in total. The total number of exps cycles * number of frequencies"},{name:"duration",min:100,max:1e3,step:1,value:500,type:"continuous",description:"in milliseconds, constant for all notes."},{name:"exps_before_reset",min:5,max:50,step:1,value:10,type:"continuous",description:"The balls are replaced to good locations every this many cycles"},{name:"filename",value:"freqAmpData.csv",type:"selection",selection:[{value:"freqAmpData.csv",label:"freqAmpData.csv"}],description:"Name of the file storing the tuning amplitude data."}]),[o,i]=Object(n.useState)(!1),[,c]=v(),[s,m]=Object(n.useState)(JSON.parse(window.sessionStorage.getItem("loggedBlogUser"))),[u,d]=Object(n.useState)(!1),[p,g]=Object(n.useState)(""),[y,f]=Object(n.useState)(!1),[b,h]=Object(n.useState)(""),[w,S]=Object(n.useState)(!1),[x,_]=Object(n.useState)("");Object(n.useEffect)(()=>{je.on("startPause",(function(e){f(!0),h(e)})),je.on("error",(function(e){S(!0),_(e)})),je.on("warning",(function(e){f(!0),h(e)})),je.on("info",(function(e){d(!0),g(e)})),je.on("info_image",(function(e){const t=document.getElementById("div_info_image_in_data");t&&(t.style.display="block");const a=document.getElementById("info_image_in_data");a.src="data:image/jpg;base64,".concat(e),a.style.display="block"}))},[]),Object(n.useEffect)(()=>{const e=window.sessionStorage.getItem("loggedBlogUser");e&&m(JSON.parse(e))},[]),Object(n.useEffect)(()=>{k(async()=>{const e=await xe();if(null===e||void 0===e?void 0:e.data){const t=e.data.map((function(e){return{value:e,label:e}}));let n=a;n[4].selection=t,r(n)}return e},c)},[a,c]);return l.a.createElement("div",{style:{marginLeft:"5%",width:"90%"}},l.a.createElement(he,{open:w,handleClose:()=>S(!1),severity:"error",alertText:x,buttonText:"close"}),l.a.createElement(he,{open:y,handleClose:e=>{f(!1),je.emit("startAgain")},severity:"warning",alertText:b,buttonText:"continue"}),l.a.createElement(he,{open:u,handleClose:()=>d(!1),severity:"info",alertText:p,buttonText:"close"}),l.a.createElement(se.a,{expanded:o,onChange:()=>i(e=>!e)},l.a.createElement(me.a,{"aria-controls":"panel1a-content"},l.a.createElement(de.a,null,"Setting panel")),l.a.createElement(ue.a,null,l.a.createElement(de.a,{component:"span"},l.a.createElement("div",null,l.a.createElement(Ee,{paraInfo:a,parameters:e,closeDrawer:()=>i(!1),setParameters:t,handleSetParameters:async a=>{a.preventDefault();k(async()=>{const a=await Oe({user_id:s.id,data:{parameters:e}});return t(null===a||void 0===a?void 0:a.data),a},c)}}))))),l.a.createElement(E.a,{variant:"contained",color:"primary",component:"span",onClick:async e=>{e.preventDefault();k(async()=>await _e({user_id:s.id}),c)}}," ","start data collecting"),l.a.createElement("div",{id:"div_info_image_in_data",style:{display:"none"}},l.a.createElement("img",{id:"info_image_in_data",alt:"info_image_in_data",style:{display:"none",width:"800px",height:"800px"}}),l.a.createElement(Z.a,{"aria-label":"close",color:"inherit",size:"small",onClick:()=>{const e=document.getElementById("div_info_image_in_data");e&&(e.style.display="none");const t=document.getElementById("info_image_in_data");t&&(t.style.display="none")}},l.a.createElement(ee.a,{fontSize:"inherit"}))))};var ke=async e=>(await O.a.get("/api/modelFitting/get_dataFileNames",e)).data,Ie=async e=>(await O.a.post("/api/modelFitting/set_dataFile",e)).data,Be=async e=>(await O.a.post("/api/modelFitting/start",e)).data;const Ne=oe()("http://localhost:5000/model");var Te=()=>{const[,e]=v(),[t,a]=Object(n.useState)(JSON.parse(window.sessionStorage.getItem("loggedBlogUser"))),[r,o]=Object(n.useState)(),[i,c]=Object(n.useState)([]),[s,m]=Object(n.useState)(!1),[u,d]=Object(n.useState)(""),[p,g]=Object(n.useState)(!1),[y,f]=Object(n.useState)("");Object(n.useEffect)(()=>{const e=window.sessionStorage.getItem("loggedBlogUser");e&&a(JSON.parse(e))},[]),Object(n.useEffect)(()=>{Ne.on("error",(function(e){g(!0),f(e)})),Ne.on("info",(function(e){m(!0),d(e)}))},[]);return l.a.createElement("div",{style:{marginLeft:"5%",width:"90%"}},l.a.createElement(he,{open:p,handleClose:()=>g(!1),severity:"error",alertText:y,buttonText:"close"}),l.a.createElement(he,{open:s,handleClose:()=>m(!1),severity:"info",alertText:u,buttonText:"close"}),l.a.createElement(E.a,{variant:"contained",color:"primary",component:"span",onClick:async a=>{a.preventDefault();k(async()=>await Be({user_id:t.id}),e)}}," ","start model fitting"),l.a.createElement(E.a,{variant:"contained",color:"primary",component:"span",onClick:async t=>{document.getElementById("dataFileSelection").style.display="block";k(async()=>{const e=await ke();return c(null===e||void 0===e?void 0:e.data),e},e),console.log(i)}},"choose data file"),l.a.createElement("span",{id:"dataFileSelection",style:{display:"none"}},l.a.createElement(C.a,{select:!0,value:r,onChange:async t=>{k(async()=>{o(t.target.value),await Ie({filename:t.target.value})},e),document.getElementById("dataFileSelection").style.display="none"},SelectProps:{native:!0}},l.a.createElement("option",{"aria-label":"None",value:""}),i.map((e,t)=>l.a.createElement("option",{key:t,value:e},e)))))};var De=async()=>(await O.a.get("/api/objectManipulation/get_dataFileNames")).data,Fe=async()=>(await O.a.get("/api/objectManipulation/get_tuned_amp")).data,Pe=async e=>(await O.a.post("/api/objectManipulation/start",e)).data,Le=async()=>(await O.a.get("/api/objectManipulation/get_controller_default")).data,Ae=async()=>(await O.a.get("/api/objectManipulation/get_controllers")).data,Me=async e=>(await O.a.post("/api/objectManipulation/save_controller",e)).data,Je=async e=>(await O.a.post("/api/objectManipulation/setParameters",e)).data;const Ue=oe()("http://localhost:5000/manipulation");var Re=()=>{const[,e]=v(),[t,a]=Object(n.useState)(""),[r,o]=Object(n.useState)("defaultController.py"),[i,c]=Object(n.useState)(!1),[s,m]=Object(n.useState)({targets:"[(0.2, 0.2)]",tunedAmpName:"",modelName:"",controllerName:"",numberOfObj:1,tol:.2,maxSteps:10}),[u,d]=Object(n.useState)([{name:"numberOfObj",min:1,max:10,step:1,value:1,type:"continuous",description:"How many particles should be on the plate for the experiment to start"},{name:"tol",min:.01,max:10,step:.01,value:.2,type:"continuous",description:"The tolerance for the objects manipulation experiment."},{name:"maxSteps",min:5,max:100,step:1,value:10,type:"continuous",description:"The maximum number of the control steps in the object manipulation experiment."},{name:"targets",value:"[(0.2, 0.2)]",type:"string",description:"The target array, values are scaled in the range [0,1]"},{name:"tunedAmpName",value:"please choose file from the list",type:"selection",selection:[],description:"Name of the file storing the tuning amplitude data."},{name:"modelName",value:"please choose file from the list",type:"selection",selection:[],description:"Name of the file storing the fitted model."},{name:"controllerName",value:"please choose file from the list",type:"selection",selection:[],description:"Name of the file storing the controller function."}]),[p,g]=Object(n.useState)(JSON.parse(window.sessionStorage.getItem("loggedBlogUser"))),[y,f]=Object(n.useState)(!1),[b,h]=Object(n.useState)(""),[w,S]=Object(n.useState)(!1),[x,_]=Object(n.useState)(""),[O,j]=Object(n.useState)(!1),[I,B]=Object(n.useState)("");Object(n.useEffect)(()=>{Ue.on("startPause",(function(e){S(!0),_(e)})),Ue.on("error",(function(e){j(!0),B(e)})),Ue.on("warning",(function(e){S(!0),_(e)})),Ue.on("info",(function(e){f(!0),h(e)})),Ue.on("info_image",(function(e){const t=document.getElementById("div_info_image_in_manipulation");t&&(t.style.display="block");const a=document.getElementById("info_image_in_manipulation");a.src="data:image/jpg;base64,".concat(e),a.style.display="block"}))},[]),Object(n.useEffect)(()=>{const t=window.sessionStorage.getItem("loggedBlogUser");t&&g(JSON.parse(t));k(async()=>{const e=await Le();a(null===e||void 0===e?void 0:e.data);const t=await Ae(),n=await De(),l=await Fe();m({...s,tunedAmpName:l.data[0],modelName:n.data[0],controllerName:t.data[0]});let r=u;r[4].selection=l.data.map((function(e){return{value:e,label:e}})),r[5].selection=n.data.map((function(e){return{value:e,label:e}})),r[6].selection=t.data.map((function(e){return{value:e,label:e}})),d(r)},e)},[e]);return l.a.createElement("div",{style:{marginLeft:"5%",width:"90%"}},l.a.createElement(he,{open:O,handleClose:()=>j(!1),severity:"error",alertText:I,buttonText:"close"}),l.a.createElement(he,{open:w,handleClose:e=>{S(!1),Ue.emit("startAgain")},severity:"warning",alertText:x,buttonText:"continue"}),l.a.createElement(he,{open:y,handleClose:()=>f(!1),severity:"info",alertText:b,buttonText:"close"}),l.a.createElement(se.a,null,l.a.createElement(me.a,{"aria-controls":"panel1a-content"},l.a.createElement(de.a,null,"Controller--editor")),l.a.createElement(ue.a,null,l.a.createElement(de.a,{component:"span"},l.a.createElement(le,{value:t,setValue:a}),l.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"right"}},l.a.createElement(C.a,{label:"file name",value:r,onChange:e=>o(e.target.value)}),l.a.createElement("span",null),l.a.createElement(E.a,{variant:"contained",color:"secondary",component:"span",onClick:async a=>{a.preventDefault();k(async()=>await Me({user_id:p.id,filename:r,content:t}),e);const n=await Ae();let l=u;l[6].selection=n.data.map((function(e){return{value:e,label:e}})),d(l)}},"save"))))),l.a.createElement(se.a,{expanded:i,onChange:()=>c(e=>!e)},l.a.createElement(me.a,{"aria-controls":"panel1a-content"},l.a.createElement(de.a,null,"Setting panel")),l.a.createElement(ue.a,null,l.a.createElement(de.a,{component:"span"},l.a.createElement("div",null,l.a.createElement(Ee,{paraInfo:u,parameters:s,closeDrawer:()=>c(!1),setParameters:m,handleSetParameters:async t=>{t.preventDefault();k(async()=>{const e=await Je({user_id:p.id,data:{parameters:s}});return m(null===e||void 0===e?void 0:e.data),e},e)}}))))),l.a.createElement(E.a,{variant:"contained",color:"primary",component:"span",onClick:async t=>{t.preventDefault(),console.log(s);k(async()=>await Pe({user_id:p.id,parameters:s}),e)}}," ","start object manipulation"),l.a.createElement("div",{id:"div_info_image_in_manipulation",style:{display:"none"}},l.a.createElement("img",{id:"info_image_in_manipulation",alt:"info_image_in_manipulation",style:{display:"none",width:"800px",height:"800px"}}),l.a.createElement(Z.a,{"aria-label":"close",color:"inherit",size:"small",onClick:()=>{const e=document.getElementById("div_info_image_in_manipulation");e&&(e.style.display="none");const t=document.getElementById("info_image_in_manipulation");t&&(t.style.display="none")}},l.a.createElement(ee.a,{fontSize:"inherit"}))))},ze=a(296),qe=a(288),Ve=a(289),We=a(297),Ge=a(308),He=a(304),Qe={getParameters:function(){var e=Object(x.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("/api/blobDetector/getParameters",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),setParameters:function(){var e=Object(x.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("/api/blobDetector/setParameters",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),setBlobDetector:function(){var e=Object(x.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("/api/blobDetector/setBlobDetector",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteBlobDetector:function(){var e=Object(x.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("/api/blobDetector/deleteBlobDetector",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Xe=a(2),Ye=a(295),Ze=a(115),Ke=a.n(Ze);a(236);const $e=Object(Ye.a)({list:{width:550,margin:20},fullList:{width:"auto"}});var et=()=>{var e;const[,t]=v(),[a,r]=Object(n.useState)(null!==(e=JSON.parse(window.sessionStorage.getItem("isDisplayed")))&&void 0!==e&&e),o=$e(),[i,c]=Object(n.useState)({top:!1,left:!1,bottom:!1,right:!1}),[s,m]=Object(n.useState)(JSON.parse(window.sessionStorage.getItem("loggedBlogUser"))),[u,d]=Object(n.useState)({minThreshold:10,maxThreshold:1e3,filterByColor:!1,blobColor:200,filterByArea:!0,minArea:150,maxArea:1500,filterByCircularity:!1,minCircularity:.1,filterByConvexity:!1,minConvexity:.87,filterByInertia:!1,minInertiaRatio:.01}),p=[{name:"minThreshold",min:0,max:100,step:1,value:10,type:"continuous"},{name:"maxThreshold",min:100,max:1e4,step:1,value:1e3,type:"continuous"},{name:"blobColor",min:0,max:225,step:1,value:200,type:"continuous"},{name:"minArea",min:0,max:300,step:1,value:150,type:"continuous"},{name:"maxArea",min:1e3,max:5e3,step:1,value:1500,type:"continuous"},{name:"minCircularity",min:0,max:1,step:.001,value:.1,type:"continuous"},{name:"minConvexity",min:0,max:1,step:.001,value:.87,type:"continuous"},{name:"minInertiaRatio",min:0,max:1,step:.001,value:.01,type:"continuous"},{name:"filterByColor",value:!1,type:"boolean"},{name:"filterByArea",value:!0,type:"boolean"},{name:"filterByCircularity",value:!1,type:"boolean"},{name:"filterByConvexity",value:!1,type:"boolean"},{name:"filterByInertia",value:!1,type:"boolean"}];Object(n.useEffect)(()=>{const e=window.sessionStorage.getItem("loggedBlogUser");e&&m(JSON.parse(e))},[]),Object(n.useEffect)(()=>{k(async()=>{const e=await Qe.getParameters({user_id:s.id});return(null===e||void 0===e?void 0:e.data)&&d(null===e||void 0===e?void 0:e.data),e},t)},[s.id,t]);const g=(e,t)=>a=>{(!a||"keydown"!==a.type||"Tab"!==a.key&&"Shift"!==a.key)&&c({...i,[e]:t})};return l.a.createElement("div",{style:{marginLeft:"5%",width:"90%"}},l.a.createElement("h2",null,"Blob detector display"),l.a.createElement("span",null,"apply blob detector to current image"),l.a.createElement(Ge.a,{checked:a,label:"display",onChange:e=>{(async e=>{window.sessionStorage.setItem("isDisplayed",JSON.stringify(e.target.checked)),r(e.target.checked);k(async()=>{const e=a?await Qe.deleteBlobDetector({user_id:s.id}):await Qe.setBlobDetector({user_id:s.id});return document.getElementById("blobDetector").src=a?Ke.a:"/api/camera/video_feed",e},t)})(e)}}),l.a.createElement("br",null),l.a.createElement(E.a,{color:"primary",variant:"outlined",onClick:g("right",!0)},"setting"),l.a.createElement("br",null),l.a.createElement("img",{id:"blobDetector",src:a?"/api/camera/video_feed":Ke.a,alt:"changed"}),l.a.createElement("div",null,l.a.createElement(He.a,{anchor:"right",open:i.right,onClose:g("right",!1),onOpen:g("right",!0)},(y="right",l.a.createElement("div",{className:Object(Xe.a)(o.list,{[o.fullList]:"top"===y||"bottom"===y})},l.a.createElement("div",null,p.filter(e=>"continuous"===e.type).map((e,t)=>{return l.a.createElement("span",{key:t},l.a.createElement("p",null,e.name),l.a.createElement(fe.a,{min:e.min,max:e.max,defaultValue:e.value,value:u[e.name],name:e.name,step:e.step,valueLabelDisplay:"on",onChange:(a=e.name,(e,t)=>{d({...u,[a]:t})}),"aria-labelledby":"continuous-slider-always",marks:[{value:e.min,label:e.min},{value:e.max,label:e.max}]}));var a})),l.a.createElement(ze.a,null),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement(qe.a,{component:"fieldset"},l.a.createElement(Ve.a,{component:"legend"},"control By which factor"),l.a.createElement(We.a,null,p.filter(e=>"boolean"===e.type).map((e,t)=>{return l.a.createElement(T.a,{key:t,control:l.a.createElement(Ge.a,{checked:u[e.name],onChange:(a=e.name,e=>{d({...u,[a]:e.target.checked})})}),label:e.name});var a})))),l.a.createElement(E.a,{color:"primary",variant:"outlined",onClick:g(y,!1)}," ","close"),l.a.createElement(E.a,{color:"primary",variant:"outlined",onClick:e=>{(async e=>{e.preventDefault(),k(async()=>await Qe.setParameters({user_id:s.id,data:u}),t)})(e)}}," ","submit"))))));var y};var tt=()=>{var e;const[{camera:t},a]=v(),[r,o]=Object(n.useState)(),[i,c]=Object(n.useState)([]),[s,u]=Object(n.useState)(!1),[d,p]=Object(n.useState)(null!==(e=JSON.parse(window.sessionStorage.getItem("isCamera")))&&void 0!==e&&e);Object(n.useEffect)(()=>{const e=window.sessionStorage.getItem("isCamera");e&&u(JSON.parse(e))},[t]);const g=e=>{e.preventDefault()};return l.a.createElement("div",{className:"camera"},l.a.createElement(T.a,{control:l.a.createElement(D.a,{checked:d,onChange:async e=>{a(m(!d)),window.sessionStorage.setItem("isCamera",JSON.stringify(!d)),window.location.reload(),p(e=>!e)},name:"camera"}),label:"camera",labelPlacement:"bottom"}),s?l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("div",{id:"containerDiv",style:{display:"inline-block",position:"relative",cursor:"pointer"}},l.a.createElement("img",{id:"video_in_student_page",alt:"camera",src:"api/camera/video_feed",style:{width:"800px",height:"800px"}}),l.a.createElement("div",{id:"boxDiv",style:{display:"none",position:"absolute",border:"2px solid red"}}))):l.a.createElement("div",null,l.a.createElement(E.a,{variant:"contained",color:"primary",component:"span",onClick:async e=>{g(e),k(async()=>{document.getElementById("videoFileSelection").style.display="block";const e=await R();return c(null===e||void 0===e?void 0:e.data),e},a)}},"load video from file"),l.a.createElement("span",{id:"videoFileSelection",style:{display:"none"}},l.a.createElement(C.a,{select:!0,value:r,onChange:async e=>{k(async()=>{const t=document.getElementById("imgFile"),a=document.createElement("img");t.parentNode.replaceChild(a,t),a.src=V.a,o(e.target.value),await z({filename:e.target.value}),a.id="imgFile",a.style={marginLeft:"auto",marginRight:"auto",width:"800px",height:"600px"},setTimeout(()=>{a.src="/api/camera/video_feedFromFile"},300),document.getElementById("videoFileSelection").style.display="none"},a),g(e)},SelectProps:{native:!0}},l.a.createElement("option",{"aria-label":"None",value:""}),i.map((e,t)=>l.a.createElement("option",{key:t,value:e},e)))),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement("img",{id:"imgFile",src:V.a,alt:"camera",style:{marginLeft:"auto",marginRight:"auto",width:"800px",height:"800px"}}))))},at={color:"green",background:"lightgrey",fontSize:"20px",borderStyle:"solid",borderRadius:"5px",padding:"10px",marginBottom:"10px"},nt=function(e){var t=e.message;return null===t?null:l.a.createElement("div",{style:at,className:"notification"},t)},lt={color:"red",background:"lightgrey",fontSize:"20px",borderStyle:"solid",borderRadius:"5px",padding:"10px",marginBottom:"10px"},rt=function(e){var t=e.errorMessage;return null===t?null:l.a.createElement("div",{style:lt,className:"errorNotification"},t)},ot=a(298),it=a(303),ct=a(299),st=a(242);var mt=({tabs:e,handleLogout:t,userStorage:a})=>{const[n,r]=l.a.useState(window.sessionStorage.getItem("tab"));JSON.parse(window.sessionStorage.getItem("isCamera"));const o=Object(st.a)({root:{background:"linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)",color:"white",height:48,padding:"0 30px"}})();return l.a.createElement("div",null,l.a.createElement(ot.a,{position:"sticky",color:"primary"},l.a.createElement(it.a,{value:n,onChange:(e,t)=>{window.sessionStorage.setItem("tab",t),r(t)},className:o.root,variant:"scrollable",scrollButtons:"auto"},e.map((e,t)=>l.a.createElement(ct.a,{key:t,className:o.button,color:"inherit",component:i.b,to:e,label:e,value:e})),a?l.a.createElement(ct.a,{className:o.button,color:"inherit",component:i.b,to:"/login",onClick:t,label:"logout (".concat(a.username,") "),value:"logout"}):l.a.createElement(ct.a,{className:o.button,color:"inherit",component:i.b,to:"/login",label:"login",value:"login"}))))};a(237);var ut=()=>{const[{user:e,message:t,errorMessage:a},r]=v(),[o,i]=Object(n.useState)(null);Object(n.useEffect)(()=>{const e=window.sessionStorage.getItem("loggedBlogUser");if(e){const t=JSON.parse(e);i(t)}},[e]);const c=function(e){e.preventDefault();return k(async()=>(JSON.parse(window.sessionStorage.getItem("isCamera"))&&o.admin&&L({user_id:o.id}),r(s(null)),window.sessionStorage.clear(),i(null),await j.logout(o)),r),null};return null===o?l.a.createElement("div",null,l.a.createElement("div",{style:{height:"50px",marginTop:"10px"}},l.a.createElement(nt,{message:t}),l.a.createElement(rt,{errorMessage:a})),l.a.createElement(N,null)):l.a.createElement("div",null,o.admin?l.a.createElement(mt,{tabs:["home","camera","blobDetector","command","ampExp","dataCollecting","modelFitting","objectManipulation"],handleLogout:c,userStorage:o}):l.a.createElement(mt,{tabs:["home","camera"],handleLogout:c,userStorage:o}),l.a.createElement("div",{style:{height:"50px",marginTop:"10px"}}),o.admin?l.a.createElement(f.c,null,l.a.createElement(f.a,{path:"/blobDetector"},l.a.createElement(et,null)),l.a.createElement(f.a,{path:"/modelFitting"},l.a.createElement(Te,null)),l.a.createElement(f.a,{path:"/objectManipulation"},l.a.createElement(Re,null)),l.a.createElement(f.a,{path:"/dataCollecting"},l.a.createElement(Ce,null)),l.a.createElement(f.a,{path:"/ampExp"},l.a.createElement(Se,null)),l.a.createElement(f.a,{path:"/camera"},l.a.createElement(G,null)),l.a.createElement(f.a,{path:"/command"},l.a.createElement(ce,null)),l.a.createElement(f.a,{path:"/login"},l.a.createElement(N,null)),l.a.createElement(f.a,{path:"/home"},l.a.createElement(X,null)),l.a.createElement(f.a,{path:"/"},l.a.createElement(X,null))):l.a.createElement(f.c,null,l.a.createElement(f.a,{path:"/camera"},l.a.createElement(tt,null)),l.a.createElement(f.a,{path:"/login"},l.a.createElement(N,null)),l.a.createElement(f.a,{path:"/home"},l.a.createElement(X,null)),l.a.createElement(f.a,{path:"/"},l.a.createElement(X,null))))};o.a.render(l.a.createElement(i.a,null,l.a.createElement((function(e){var t=e.reducer,a=e.children,r=Object(n.useReducer)(t,g),o=Object(p.a)(r,2),i=o[0],c=o[1];return l.a.createElement(y.Provider,{value:[i,c]},a)}),{reducer:function(e,t){switch(t.type){case"SET_USER":return Object(c.a)({},e,{user:t.payload});case"SET_CAMERA":return Object(c.a)({},e,{camera:t.payload});case"SET_MESSAGE":return Object(c.a)({},e,{message:t.payload});case"SET_ERROR_MESSAGE":return Object(c.a)({},e,{errorMessage:t.payload});default:return e}}},l.a.createElement(ut,null))),document.getElementById("root"))},73:function(e,t,a){e.exports=a.p+"static/media/videoStart.50295ce4.png"}},[[168,1,2]]]);
//# sourceMappingURL=main.9ec7b0f6.chunk.js.map